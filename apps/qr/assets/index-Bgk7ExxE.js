var Ie=Object.defineProperty;var Ne=(i,e,t)=>e in i?Ie(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var ge=(i,e,t)=>(Ne(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const h of a)if(h.type==="childList")for(const c of h.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const h={};return a.integrity&&(h.integrity=a.integrity),a.referrerPolicy&&(h.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?h.credentials="include":a.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function n(a){if(a.ep)return;a.ep=!0;const h=t(a);fetch(a.href,h)}})();function x(){}function Re(i){return i()}function we(){return Object.create(null)}function J(i){i.forEach(Re)}function $e(i){return typeof i=="function"}function ue(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function xe(i){return Object.keys(i).length===0}function B(i,e){i.appendChild(e)}function S(i,e,t){i.insertBefore(e,t||null)}function $(i){i.parentNode&&i.parentNode.removeChild(i)}function Se(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function P(i){return document.createElement(i)}function V(i){return document.createTextNode(i)}function N(){return V(" ")}function Fe(){return V("")}function W(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function k(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function He(i){return Array.from(i.childNodes)}function Qe(i,e){e=""+e,i.data!==e&&(i.data=e)}function j(i,e){i.value=e??""}function ye(i,e,t){for(let n=0;n<i.options.length;n+=1){const a=i.options[n];if(a.__value===e){a.selected=!0;return}}(!t||e!==void 0)&&(i.selectedIndex=-1)}function Ue(i){const e=i.querySelector(":checked");return e&&e.__value}let ne;function te(i){ne=i}function Me(){if(!ne)throw new Error("Function called outside component initialization");return ne}function We(i){Me().$$.on_mount.push(i)}function Ve(i){Me().$$.on_destroy.push(i)}const q=[],X=[];let K=[];const Ee=[],je=Promise.resolve();let me=!1;function Ge(){me||(me=!0,je.then(Pe))}function oe(i){K.push(i)}const ve=new Set;let z=0;function Pe(){if(z!==0)return;const i=ne;do{try{for(;z<q.length;){const e=q[z];z++,te(e),ze(e.$$)}}catch(e){throw q.length=0,z=0,e}for(te(null),q.length=0,z=0;X.length;)X.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];ve.has(t)||(ve.add(t),t())}K.length=0}while(q.length);for(;Ee.length;)Ee.pop()();me=!1,ve.clear(),te(i)}function ze(i){if(i.fragment!==null){i.update(),J(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(oe)}}function qe(i){const e=[],t=[];K.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),K=e}const ae=new Set;let G;function Ke(){G={r:0,c:[],p:G}}function Xe(){G.r||J(G.c),G=G.p}function Y(i,e){i&&i.i&&(ae.delete(i),i.i(e))}function ie(i,e,t,n){if(i&&i.o){if(ae.has(i))return;ae.add(i),G.c.push(()=>{ae.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function le(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function pe(i){i&&i.c()}function he(i,e,t){const{fragment:n,after_update:a}=i.$$;n&&n.m(e,t),oe(()=>{const h=i.$$.on_mount.map(Re).filter($e);i.$$.on_destroy?i.$$.on_destroy.push(...h):J(h),i.$$.on_mount=[]}),a.forEach(oe)}function ce(i,e){const t=i.$$;t.fragment!==null&&(qe(t.after_update),J(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ye(i,e){i.$$.dirty[0]===-1&&(q.push(i),Ge(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function fe(i,e,t,n,a,h,c=null,g=[-1]){const f=ne;te(i);const w=i.$$={fragment:null,ctx:[],props:h,update:x,not_equal:a,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:we(),dirty:g,skip_bound:!1,root:e.target||f.$$.root};c&&c(w.root);let y=!1;if(w.ctx=t?t(i,e.props||{},(b,p,...m)=>{const s=m.length?m[0]:p;return w.ctx&&a(w.ctx[b],w.ctx[b]=s)&&(!w.skip_bound&&w.bound[b]&&w.bound[b](s),y&&Ye(i,b)),p}):[],w.update(),y=!0,J(w.before_update),w.fragment=n?n(w.ctx):!1,e.target){if(e.hydrate){const b=He(e.target);w.fragment&&w.fragment.l(b),b.forEach($)}else w.fragment&&w.fragment.c();e.intro&&Y(i.$$.fragment),he(i,e.target,e.anchor),Pe()}te(f)}class de{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){ce(this,1),this.$destroy=x}$on(e,t){if(!$e(t))return x;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const a=n.indexOf(t);a!==-1&&n.splice(a,1)}}$set(e){this.$$set&&!xe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Je="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Je);function Ze(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function et(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var a=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return i[n]}})}),t}var ke={exports:{}};const tt={},nt=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"})),it=et(nt);(function(i){function e(s){this.mode=n.MODE_8BIT_BYTE,this.data=s,this.parsedData=[];for(var r=0,u=this.data.length;r<u;r++){var o=[],l=this.data.charCodeAt(r);l>65536?(o[0]=240|(l&1835008)>>>18,o[1]=128|(l&258048)>>>12,o[2]=128|(l&4032)>>>6,o[3]=128|l&63):l>2048?(o[0]=224|(l&61440)>>>12,o[1]=128|(l&4032)>>>6,o[2]=128|l&63):l>128?(o[0]=192|(l&1984)>>>6,o[1]=128|l&63):o[0]=l,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}e.prototype={getLength:function(s){return this.parsedData.length},write:function(s){for(var r=0,u=this.parsedData.length;r<u;r++)s.put(this.parsedData[r],8)}};function t(s,r){this.typeNumber=s,this.errorCorrectLevel=r,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={addData:function(s){var r=new e(s);this.dataList.push(r),this.dataCache=null},isDark:function(s,r){if(s<0||this.moduleCount<=s||r<0||this.moduleCount<=r)throw new Error(s+","+r);return this.modules[s][r]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(s,r){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++){this.modules[u]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[u][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,r),this.typeNumber>=7&&this.setupTypeNumber(s),this.dataCache==null&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(s,r){for(var u=-1;u<=7;u++)if(!(s+u<=-1||this.moduleCount<=s+u))for(var o=-1;o<=7;o++)r+o<=-1||this.moduleCount<=r+o||(0<=u&&u<=6&&(o==0||o==6)||0<=o&&o<=6&&(u==0||u==6)||2<=u&&u<=4&&2<=o&&o<=4?this.modules[s+u][r+o]=!0:this.modules[s+u][r+o]=!1)},getBestMaskPattern:function(){for(var s=0,r=0,u=0;u<8;u++){this.makeImpl(!0,u);var o=c.getLostPoint(this);(u==0||s>o)&&(s=o,r=u)}return r},createMovieClip:function(s,r,u){var o=s.createEmptyMovieClip(r,u),l=1;this.make();for(var d=0;d<this.modules.length;d++)for(var _=d*l,v=0;v<this.modules[d].length;v++){var L=v*l,O=this.modules[d][v];O&&(o.beginFill(0,100),o.moveTo(L,_),o.lineTo(L+l,_),o.lineTo(L+l,_+l),o.lineTo(L,_+l),o.endFill())}return o},setupTimingPattern:function(){for(var s=8;s<this.moduleCount-8;s++)this.modules[s][6]==null&&(this.modules[s][6]=s%2==0);for(var r=8;r<this.moduleCount-8;r++)this.modules[6][r]==null&&(this.modules[6][r]=r%2==0)},setupPositionAdjustPattern:function(){for(var s=c.getPatternPosition(this.typeNumber),r=0;r<s.length;r++)for(var u=0;u<s.length;u++){var o=s[r],l=s[u];if(this.modules[o][l]==null)for(var d=-2;d<=2;d++)for(var _=-2;_<=2;_++)d==-2||d==2||_==-2||_==2||d==0&&_==0?this.modules[o+d][l+_]=!0:this.modules[o+d][l+_]=!1}},setupTypeNumber:function(s){for(var r=c.getBCHTypeNumber(this.typeNumber),u=0;u<18;u++){var o=!s&&(r>>u&1)==1;this.modules[Math.floor(u/3)][u%3+this.moduleCount-8-3]=o}for(var u=0;u<18;u++){var o=!s&&(r>>u&1)==1;this.modules[u%3+this.moduleCount-8-3][Math.floor(u/3)]=o}},setupTypeInfo:function(s,r){for(var u=this.errorCorrectLevel<<3|r,o=c.getBCHTypeInfo(u),l=0;l<15;l++){var d=!s&&(o>>l&1)==1;l<6?this.modules[l][8]=d:l<8?this.modules[l+1][8]=d:this.modules[this.moduleCount-15+l][8]=d}for(var l=0;l<15;l++){var d=!s&&(o>>l&1)==1;l<8?this.modules[8][this.moduleCount-l-1]=d:l<9?this.modules[8][15-l-1+1]=d:this.modules[8][15-l-1]=d}this.modules[this.moduleCount-8][8]=!s},mapData:function(s,r){for(var u=-1,o=this.moduleCount-1,l=7,d=0,_=this.moduleCount-1;_>0;_-=2)for(_==6&&_--;;){for(var v=0;v<2;v++)if(this.modules[o][_-v]==null){var L=!1;d<s.length&&(L=(s[d]>>>l&1)==1);var O=c.getMask(r,o,_-v);O&&(L=!L),this.modules[o][_-v]=L,l--,l==-1&&(d++,l=7)}if(o+=u,o<0||this.moduleCount<=o){o-=u,u=-u;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(s,r,u){for(var o=y.getRSBlocks(s,r),l=new b,d=0;d<u.length;d++){var _=u[d];l.put(_.mode,4),l.put(_.getLength(),c.getLengthInBits(_.mode,s)),_.write(l)}for(var v=0,d=0;d<o.length;d++)v+=o[d].dataCount;if(l.getLengthInBits()>v*8)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+v*8+")");for(l.getLengthInBits()+4<=v*8&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=v*8||(l.put(t.PAD0,8),l.getLengthInBits()>=v*8));)l.put(t.PAD1,8);return t.createBytes(l,o)},t.createBytes=function(s,r){for(var u=0,o=0,l=0,d=new Array(r.length),_=new Array(r.length),v=0;v<r.length;v++){var L=r[v].dataCount,O=r[v].totalCount-L;o=Math.max(o,L),l=Math.max(l,O),d[v]=new Array(L);for(var E=0;E<d[v].length;E++)d[v][E]=255&s.buffer[E+u];u+=L;var A=c.getErrorCorrectPolynomial(O),M=new w(d[v],A.getLength()-1),C=M.mod(A);_[v]=new Array(A.getLength()-1);for(var E=0;E<_[v].length;E++){var R=E+C.getLength()-_[v].length;_[v][E]=R>=0?C.get(R):0}}for(var T=0,E=0;E<r.length;E++)T+=r[E].totalCount;for(var F=new Array(T),U=0,E=0;E<o;E++)for(var v=0;v<r.length;v++)E<d[v].length&&(F[U++]=d[v][E]);for(var E=0;E<l;E++)for(var v=0;v<r.length;v++)E<_[v].length&&(F[U++]=_[v][E]);return F};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},a={L:1,M:0,Q:3,H:2},h={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var r=s<<10;c.getBCHDigit(r)-c.getBCHDigit(c.G15)>=0;)r^=c.G15<<c.getBCHDigit(r)-c.getBCHDigit(c.G15);return(s<<10|r)^c.G15_MASK},getBCHTypeNumber:function(s){for(var r=s<<12;c.getBCHDigit(r)-c.getBCHDigit(c.G18)>=0;)r^=c.G18<<c.getBCHDigit(r)-c.getBCHDigit(c.G18);return s<<12|r},getBCHDigit:function(s){for(var r=0;s!=0;)r++,s>>>=1;return r},getPatternPosition:function(s){return c.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,r,u){switch(s){case h.PATTERN000:return(r+u)%2==0;case h.PATTERN001:return r%2==0;case h.PATTERN010:return u%3==0;case h.PATTERN011:return(r+u)%3==0;case h.PATTERN100:return(Math.floor(r/2)+Math.floor(u/3))%2==0;case h.PATTERN101:return r*u%2+r*u%3==0;case h.PATTERN110:return(r*u%2+r*u%3)%2==0;case h.PATTERN111:return(r*u%3+(r+u)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var r=new w([1],0),u=0;u<s;u++)r=r.multiply(new w([1,g.gexp(u)],0));return r},getLengthInBits:function(s,r){if(1<=r&&r<10)switch(s){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(r<27)switch(s){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(r<41)switch(s){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+r)},getLostPoint:function(s){for(var r=s.getModuleCount(),u=0,o=0;o<r;o++)for(var l=0;l<r;l++){for(var d=0,_=s.isDark(o,l),v=-1;v<=1;v++)if(!(o+v<0||r<=o+v))for(var L=-1;L<=1;L++)l+L<0||r<=l+L||v==0&&L==0||_==s.isDark(o+v,l+L)&&d++;d>5&&(u+=3+d-5)}for(var o=0;o<r-1;o++)for(var l=0;l<r-1;l++){var O=0;s.isDark(o,l)&&O++,s.isDark(o+1,l)&&O++,s.isDark(o,l+1)&&O++,s.isDark(o+1,l+1)&&O++,(O==0||O==4)&&(u+=3)}for(var o=0;o<r;o++)for(var l=0;l<r-6;l++)s.isDark(o,l)&&!s.isDark(o,l+1)&&s.isDark(o,l+2)&&s.isDark(o,l+3)&&s.isDark(o,l+4)&&!s.isDark(o,l+5)&&s.isDark(o,l+6)&&(u+=40);for(var l=0;l<r;l++)for(var o=0;o<r-6;o++)s.isDark(o,l)&&!s.isDark(o+1,l)&&s.isDark(o+2,l)&&s.isDark(o+3,l)&&s.isDark(o+4,l)&&!s.isDark(o+5,l)&&s.isDark(o+6,l)&&(u+=40);for(var E=0,l=0;l<r;l++)for(var o=0;o<r;o++)s.isDark(o,l)&&E++;var A=Math.abs(100*E/r/r-50)/5;return u+=A*10,u}},g={glog:function(s){if(s<1)throw new Error("glog("+s+")");return g.LOG_TABLE[s]},gexp:function(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return g.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},f=0;f<8;f++)g.EXP_TABLE[f]=1<<f;for(var f=8;f<256;f++)g.EXP_TABLE[f]=g.EXP_TABLE[f-4]^g.EXP_TABLE[f-5]^g.EXP_TABLE[f-6]^g.EXP_TABLE[f-8];for(var f=0;f<255;f++)g.LOG_TABLE[g.EXP_TABLE[f]]=f;function w(s,r){if(s.length==null)throw new Error(s.length+"/"+r);for(var u=0;u<s.length&&s[u]==0;)u++;this.num=new Array(s.length-u+r);for(var o=0;o<s.length-u;o++)this.num[o]=s[o+u]}w.prototype={get:function(s){return this.num[s]},getLength:function(){return this.num.length},multiply:function(s){for(var r=new Array(this.getLength()+s.getLength()-1),u=0;u<this.getLength();u++)for(var o=0;o<s.getLength();o++)r[u+o]^=g.gexp(g.glog(this.get(u))+g.glog(s.get(o)));return new w(r,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var r=g.glog(this.get(0))-g.glog(s.get(0)),u=new Array(this.getLength()),o=0;o<this.getLength();o++)u[o]=this.get(o);for(var o=0;o<s.getLength();o++)u[o]^=g.gexp(g.glog(s.get(o))+r);return new w(u,0).mod(s)}};function y(s,r){this.totalCount=s,this.dataCount=r}y.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],y.getRSBlocks=function(s,r){var u=y.getRsBlockTable(s,r);if(u==null)throw new Error("bad rs block @ typeNumber:"+s+"/errorCorrectLevel:"+r);for(var o=u.length/3,l=[],d=0;d<o;d++)for(var _=u[d*3+0],v=u[d*3+1],L=u[d*3+2],O=0;O<_;O++)l.push(new y(v,L));return l},y.getRsBlockTable=function(s,r){switch(r){case a.L:return y.RS_BLOCK_TABLE[(s-1)*4+0];case a.M:return y.RS_BLOCK_TABLE[(s-1)*4+1];case a.Q:return y.RS_BLOCK_TABLE[(s-1)*4+2];case a.H:return y.RS_BLOCK_TABLE[(s-1)*4+3];default:return}};function b(){this.buffer=[],this.length=0}b.prototype={get:function(s){var r=Math.floor(s/8);return(this.buffer[r]>>>7-s%8&1)==1},put:function(s,r){for(var u=0;u<r;u++)this.putBit((s>>>r-u-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(s){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),s&&(this.buffer[r]|=128>>>this.length%8),this.length++}};var p=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function m(s){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},typeof s=="string"&&(s={content:s}),s)for(var r in s)this.options[r]=s[r];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function u(L){switch(L){case"L":return a.L;case"M":return a.M;case"Q":return a.Q;case"H":return a.H;default:throw new Error("Unknwon error correction level: "+L)}}function o(L,O){for(var E=l(L),A=1,M=0,C=0,R=p.length;C<=R;C++){var T=p[C];if(!T)throw new Error("Content too long: expected "+M+" but got "+E);switch(O){case"L":M=T[0];break;case"M":M=T[1];break;case"Q":M=T[2];break;case"H":M=T[3];break;default:throw new Error("Unknwon error correction level: "+O)}if(E<=M)break;A++}if(A>p.length)throw new Error("Content too long");return A}function l(L){var O=encodeURI(L).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return O.length+(O.length!=L?3:0)}var d=this.options.content,_=o(d,this.options.ecl),v=u(this.options.ecl);this.qrcode=new t(_,v),this.qrcode.addData(d),this.qrcode.make()}m.prototype.svg=function(s){var r=this.options||{},u=this.qrcode.modules;typeof s>"u"&&(s={container:r.container||"svg"});for(var o=typeof r.pretty<"u"?!!r.pretty:!0,l=o?"  ":"",d=o?`\r
`:"",_=r.width,v=r.height,L=u.length,O=_/(L+2*r.padding),E=v/(L+2*r.padding),A=typeof r.join<"u"?!!r.join:!1,M=typeof r.swap<"u"?!!r.swap:!1,C=typeof r.xmlDeclaration<"u"?!!r.xmlDeclaration:!0,R=typeof r.predefined<"u"?!!r.predefined:!1,T=R?l+'<defs><path id="qrmodule" d="M0 0 h'+E+" v"+O+' H0 z" style="fill:'+r.color+';shape-rendering:crispEdges;" /></defs>'+d:"",F=l+'<rect x="0" y="0" width="'+_+'" height="'+v+'" style="fill:'+r.background+';shape-rendering:crispEdges;"/>'+d,U="",_e="",re=0;re<L;re++)for(var se=0;se<L;se++){var Ae=u[se][re];if(Ae){var H=se*O+r.padding*O,Q=re*E+r.padding*E;if(M){var Be=H;H=Q,Q=Be}if(A){var Z=O+H,ee=E+Q;H=Number.isInteger(H)?Number(H):H.toFixed(2),Q=Number.isInteger(Q)?Number(Q):Q.toFixed(2),Z=Number.isInteger(Z)?Number(Z):Z.toFixed(2),ee=Number.isInteger(ee)?Number(ee):ee.toFixed(2),_e+="M"+H+","+Q+" V"+ee+" H"+Z+" V"+Q+" H"+H+" Z "}else R?U+=l+'<use x="'+H.toString()+'" y="'+Q.toString()+'" href="#qrmodule" />'+d:U+=l+'<rect x="'+H.toString()+'" y="'+Q.toString()+'" width="'+O+'" height="'+E+'" style="fill:'+r.color+';shape-rendering:crispEdges;"/>'+d}}A&&(U=l+'<path x="0" y="0" style="fill:'+r.color+';shape-rendering:crispEdges;" d="'+_e+'" />');var I="";switch(s.container){case"svg":C&&(I+='<?xml version="1.0" standalone="yes"?>'+d),I+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+_+'" height="'+v+'">'+d,I+=T+F+U,I+="</svg>";break;case"svg-viewbox":C&&(I+='<?xml version="1.0" standalone="yes"?>'+d),I+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+_+" "+v+'">'+d,I+=T+F+U,I+="</svg>";break;case"g":I+='<g width="'+_+'" height="'+v+'">'+d,I+=T+F+U,I+="</g>";break;default:I+=(T+F+U).replace(/^\s+/,"");break}return I},m.prototype.save=function(s,r){var u=this.svg();typeof r!="function"&&(r=function(l,d){});try{var o=it;o.writeFile(s,u,r)}catch(l){r(l)}},i.exports=m})(ke);var rt=ke.exports;const st=Ze(rt);function be(i,e,t){const n=i.slice();return n[15]=e[t],n}function Ce(i){let e,t,n;return{c(){e=P("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-share-fill" viewBox="0 0 16 16"><path d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.5 2.5 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5"></path></svg>
		Share`,k(e,"class","secondary svelte-60us40")},m(a,h){S(a,e,h),t||(n=W(e,"click",i[9]),t=!0)},p:x,d(a){a&&$(e),t=!1,n()}}}function Le(i){let e,t=i[15]+"",n;return{c(){e=P("option"),n=V(t),e.__value=i[15],j(e,e.__value)},m(a,h){S(a,e,h),B(e,n)},p:x,d(a){a&&$(e)}}}function at(i){let e,t,n,a,h,c,g,f,w,y,b,p,m,s,r,u,o,l,d,_,v,L,O,E=i[2]&&i[8]&&Ce(i),A=le(i[6]),M=[];for(let C=0;C<A.length;C+=1)M[C]=Le(be(i,A,C));return{c(){e=P("div"),e.innerHTML='<svg height="0" width="0"></svg>',t=N(),E&&E.c(),n=N(),a=P("label"),a.textContent="Text",h=N(),c=P("textarea"),g=N(),f=P("button"),f.textContent="Generate",w=N(),y=P("div"),b=P("label"),p=V(`Foreground
		`),m=P("input"),s=N(),r=P("label"),u=V(`Background
		`),o=P("input"),l=N(),d=P("label"),_=V(`Error correction level
	`),v=P("select");for(let C=0;C<M.length;C+=1)M[C].c();k(e,"class","output svelte-60us40"),k(a,"for","text"),k(c,"id","text"),k(c,"name","text"),k(f,"class","svelte-60us40"),k(m,"type","color"),k(b,"class","svelte-60us40"),k(o,"type","color"),k(r,"class","svelte-60us40"),k(y,"class","colors svelte-60us40"),i[5]===void 0&&oe(()=>i[14].call(v))},m(C,R){S(C,e,R),i[10](e),S(C,t,R),E&&E.m(C,R),S(C,n,R),S(C,a,R),S(C,h,R),S(C,c,R),j(c,i[0]),S(C,g,R),S(C,f,R),S(C,w,R),S(C,y,R),B(y,b),B(b,p),B(b,m),j(m,i[3]),B(y,s),B(y,r),B(r,u),B(r,o),j(o,i[4]),S(C,l,R),S(C,d,R),B(d,_),B(d,v);for(let T=0;T<M.length;T+=1)M[T]&&M[T].m(v,null);ye(v,i[5],!0),L||(O=[W(c,"input",i[11]),W(f,"click",i[7]),W(m,"input",i[12]),W(o,"input",i[13]),W(v,"change",i[14])],L=!0)},p(C,[R]){if(C[2]&&C[8]?E?E.p(C,R):(E=Ce(C),E.c(),E.m(n.parentNode,n)):E&&(E.d(1),E=null),R&1&&j(c,C[0]),R&8&&j(m,C[3]),R&16&&j(o,C[4]),R&64){A=le(C[6]);let T;for(T=0;T<A.length;T+=1){const F=be(C,A,T);M[T]?M[T].p(F,R):(M[T]=Le(F),M[T].c(),M[T].m(v,null))}for(;T<M.length;T+=1)M[T].d(1);M.length=A.length}R&96&&ye(v,C[5])},i:x,o:x,d(C){C&&($(e),$(t),$(n),$(a),$(h),$(c),$(g),$(f),$(w),$(y),$(l),$(d)),i[10](null),E&&E.d(C),Se(M,C),L=!1,J(O)}}}function ot(i){var e;i.split(",")[0].indexOf("base64")>=0?e=atob(i.split(",")[1]):e=unescape(i.split(",")[1]);for(var t=i.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(e.length),a=0;a<e.length;a++)n[a]=e.charCodeAt(a);return new Blob([n],{type:t})}function lt(i,e,t){const n=["L","M","H","Q"];let a="",h,c="",g="#000000",f="#ffffff",w="H";const y=async l=>{l.preventDefault();const _=new st({content:a,padding:2,color:g,background:f,ecl:w,container:"svg-viewbox"}).svg();t(2,c=_),t(1,h.innerHTML=_,h)},b=!!navigator.share,p=()=>{let l=new Image,d=new Blob([c],{type:"image/svg+xml"}),_=URL.createObjectURL(d);l.onload=()=>{let v=document.createElement("canvas");v.width=l.width,v.height=l.height,v.getContext("2d").drawImage(l,0,0),window.URL.revokeObjectURL(_);let O=v.toDataURL("image/jpeg");v.remove();const E=ot(O);navigator.share({title:"QR Code",files:[new File([E],"qr.jpeg",{type:"image/jpeg"})]})},l.src=_};function m(l){X[l?"unshift":"push"](()=>{h=l,t(1,h)})}function s(){a=this.value,t(0,a)}function r(){g=this.value,t(3,g)}function u(){f=this.value,t(4,f)}function o(){w=Ue(this),t(5,w),t(6,n)}return[a,h,c,g,f,w,n,y,b,p,m,s,r,u,o]}class ut extends de{constructor(e){super(),fe(this,e,lt,at,ue,{})}}const ht="modulepreload",ct=function(i,e){return new URL(i,e).href},De={},ft=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){const h=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),g=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.all(t.map(f=>{if(f=ct(f,n),f in De)return;De[f]=!0;const w=f.endsWith(".css"),y=w?'[rel="stylesheet"]':"";if(!!n)for(let m=h.length-1;m>=0;m--){const s=h[m];if(s.href===f&&(!w||s.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${y}`))return;const p=document.createElement("link");if(p.rel=w?"stylesheet":ht,w||(p.as="script",p.crossOrigin=""),p.href=f,g&&p.setAttribute("nonce",g),document.head.appendChild(p),w)return new Promise((m,s)=>{p.addEventListener("load",m),p.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${f}`)))})}))}return a.then(()=>e()).catch(h=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h})};class D{constructor(e,t,n,a,h){this._legacyCanvasSize=D.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&typeof n=="object"?this._onDecode=t:(console.warn(n||a||h?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),t=typeof n=="object"?n:{},this._onDecodeError=t.onDecodeError||(typeof n=="function"?n:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||(typeof a=="function"?a:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||h||this._preferredCamera,this._legacyCanvasSize=typeof n=="number"?n:typeof a=="number"?a:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let c=!1;if(e.hidden&&(e.hidden=!1,c=!0),document.body.contains(e)||(document.body.appendChild(e),c=!0),n=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(a=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),h=this.$overlay.style,h.position="absolute",h.display="none",h.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!a&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}n.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let g=window.getComputedStyle(e);g.display==="none"&&(e.style.setProperty("display","block","important"),c=!0),g.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),c=!0),c&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=D.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await D.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput"),n;try{e&&(await t()).every(a=>!a.label)&&(n=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await t()).map((a,h)=>({id:a.deviceId,label:a.label||(h===0?"Default Camera":`Camera ${h+1}`)}))}finally{n&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),D._stopVideoStream(n))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),D._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),D._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?D._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let t=()=>{this.$video.srcObject instanceof MediaStream&&(D._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(t(),!0):(await new Promise(n=>setTimeout(n,300)),this._paused?(t(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,t,n,a,h=!1,c=!1){let g,f=!1;t&&("scanRegion"in t||"qrEngine"in t||"canvas"in t||"disallowCanvasResizing"in t||"alsoTryWithoutScanRegion"in t||"returnDetailedScanResult"in t)?(g=t.scanRegion,n=t.qrEngine,a=t.canvas,h=t.disallowCanvasResizing||!1,c=t.alsoTryWithoutScanRegion||!1,f=!0):console.warn(t||n||a||h||c?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),t=!!n;try{let w,y;[n,w]=await Promise.all([n||D.createQrEngine(),D._loadImage(e)]),[a,y]=D._drawToCanvas(w,g,a,h);let b;if(n instanceof Worker){let p=n;t||D._postWorkerMessageSync(p,"inversionMode","both"),b=await new Promise((m,s)=>{let r,u,o,l=-1;u=_=>{_.data.id===l&&(p.removeEventListener("message",u),p.removeEventListener("error",o),clearTimeout(r),_.data.data!==null?m({data:_.data.data,cornerPoints:D._convertPoints(_.data.cornerPoints,g)}):s(D.NO_QR_CODE_FOUND))},o=_=>{p.removeEventListener("message",u),p.removeEventListener("error",o),clearTimeout(r),s("Scanner error: "+(_?_.message||_:"Unknown Error"))},p.addEventListener("message",u),p.addEventListener("error",o),r=setTimeout(()=>o("timeout"),1e4);let d=y.getImageData(0,0,a.width,a.height);l=D._postWorkerMessageSync(p,"decode",d,[d.data.buffer])})}else b=await Promise.race([new Promise((p,m)=>window.setTimeout(()=>m("Scanner error: timeout"),1e4)),(async()=>{try{var[p]=await n.detect(a);if(!p)throw D.NO_QR_CODE_FOUND;return{data:p.rawValue,cornerPoints:D._convertPoints(p.cornerPoints,g)}}catch(m){if(p=m.message||m,/not implemented|service unavailable/.test(p))return D._disableBarcodeDetector=!0,D.scanImage(e,{scanRegion:g,canvas:a,disallowCanvasResizing:h,alsoTryWithoutScanRegion:c});throw`Scanner error: ${p}`}})()]);return f?b:b.data}catch(w){if(!g||!c)throw w;let y=await D.scanImage(e,{qrEngine:n,canvas:a,disallowCanvasResizing:h});return f?y:y.data}finally{t||D._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,t,n,a=!0){D._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:n,useIntegerApproximation:a})}setInversionMode(e){D._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){if(e&&console.warn("Specifying a worker path is not required and not supported anymore."),e=()=>ft(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[],import.meta.url).then(n=>n.createWorker()),!(!D._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return e();let t=navigator.userAgentData;return t&&t.brands.some(({brand:n})=>/Chromium/i.test(n))&&/mac ?OS/i.test(t.platform)&&await t.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:n,platformVersion:a})=>/arm/i.test(n||"arm")&&13<=parseInt(a||"13")).catch(()=>!0)?e():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let t=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,n=e.videoHeight,a=e.offsetWidth,h=e.offsetHeight,c=e.offsetLeft,g=e.offsetTop,f=window.getComputedStyle(e),w=f.objectFit,y=t/n,b=a/h;switch(w){case"none":var p=t,m=n;break;case"fill":p=a,m=h;break;default:(w==="cover"?y>b:y<b)?(m=h,p=m*y):(p=a,m=p/y),w==="scale-down"&&(p=Math.min(p,t),m=Math.min(m,n))}var[s,r]=f.objectPosition.split(" ").map((o,l)=>{const d=parseFloat(o);return o.endsWith("%")?(l?h-m:a-p)*d/100:d});f=this._scanRegion.width||t,b=this._scanRegion.height||n,w=this._scanRegion.x||0;var u=this._scanRegion.y||0;y=this.$overlay.style,y.width=`${f/t*p}px`,y.height=`${b/n*m}px`,y.top=`${g+r+u/n*m}px`,n=/scaleX\(-1\)/.test(e.style.transform),y.left=`${c+(n?a-s-p:s)+(n?t-w-f:w)/t*p}px`,y.transform=e.style.transform}})}static _convertPoints(e,t){if(!t)return e;let n=t.x||0,a=t.y||0,h=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(let c of e)c.x=c.x*h+n,c.y=c.y*t+a;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,t=1e3/this._maxScansPerSecond;e<t&&await new Promise(a=>setTimeout(a,t-e)),this._lastScanTimestamp=Date.now();try{var n=await D.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(a){if(!this._active)return;this._onDecodeError(a)}!D._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=D.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map(({x:a,y:h})=>`${a},${h}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==D.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",t=[{width:{min:1024}},{width:{min:768}},{}],n=t.map(a=>Object.assign({},a,{[e]:{exact:this._preferredCamera}}));for(let a of[...n,...t])try{let h=await navigator.mediaDevices.getUserMedia({video:a,audio:!1}),c=this._getFacingMode(h)||(a.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:h,facingMode:c}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,n,a=!1){n=n||document.createElement("canvas");let h=t&&t.x?t.x:0,c=t&&t.y?t.y:0,g=t&&t.width?t.width:e.videoWidth||e.width,f=t&&t.height?t.height:e.videoHeight||e.height;return a||(a=t&&t.downScaledWidth?t.downScaledWidth:g,t=t&&t.downScaledHeight?t.downScaledHeight:f,n.width!==a&&(n.width=a),n.height!==t&&(n.height=t)),t=n.getContext("2d",{alpha:!1}),t.imageSmoothingEnabled=!1,t.drawImage(e,h,c,g,f,0,0,n.width,n.height),[n,t]}static async _loadImage(e){if(e instanceof Image)return await D._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await D._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((t,n)=>{let a=h=>{e.removeEventListener("load",a),e.removeEventListener("error",a),h instanceof ErrorEvent?n("Image load error"):t()};e.addEventListener("load",a),e.addEventListener("error",a)})}static async _postWorkerMessage(e,t,n,a){return D._postWorkerMessageSync(await e,t,n,a)}static _postWorkerMessageSync(e,t,n,a){if(!(e instanceof Worker))return-1;let h=D._workerMessageId++;return e.postMessage({id:h,type:t,data:n},a),h}}D.DEFAULT_CANVAS_SIZE=400;D.NO_QR_CODE_FOUND="No QR code found";D._disableBarcodeDetector=!1;D._workerMessageId=0;function dt(i){let e,t;return{c(){e=P("pre"),t=V(i[1]),k(e,"class","svelte-15p34la")},m(n,a){S(n,e,a),B(e,t)},p(n,a){a&2&&Qe(t,n[1])},d(n){n&&$(e)}}}function gt(i){let e;return{c(){e=P("progress")},m(t,n){S(t,e,n)},p:x,d(t){t&&$(e)}}}function vt(i){let e,t,n,a,h,c,g,f,w;function y(m,s){return m[2]?gt:dt}let b=y(i),p=b(i);return{c(){e=P("label"),e.textContent="QR code image",t=N(),n=P("input"),a=N(),h=P("button"),h.textContent="Scan",c=N(),p.c(),g=Fe(),k(e,"for","qr"),k(n,"type","file"),k(n,"accept","image/*"),k(h,"class","svelte-15p34la")},m(m,s){S(m,e,s),S(m,t,s),S(m,n,s),i[4](n),S(m,a,s),S(m,h,s),S(m,c,s),p.m(m,s),S(m,g,s),f||(w=W(h,"click",i[3]),f=!0)},p(m,[s]){b===(b=y(m))&&p?p.p(m,s):(p.d(1),p=b(m),p&&(p.c(),p.m(g.parentNode,g)))},i:x,o:x,d(m){m&&($(e),$(t),$(n),$(a),$(h),$(c),$(g)),i[4](null),p.d(m),f=!1,w()}}}function mt(i,e,t){let n,a="",h=!1;const c=async()=>{const f=n.files[0];t(2,h=!0);try{const w=await D.scanImage(f,{returnDetailedScanResult:!0});t(1,a=w.data)}catch{t(1,a="<Failed to scan image>")}t(2,h=!1)};function g(f){X[f?"unshift":"push"](()=>{n=f,t(0,n)})}return[n,a,h,c,g]}class pt extends de{constructor(e){super(),fe(this,e,mt,vt,ue,{})}}function _t(i){let e,t,n;return{c(){e=P("video"),t=N(),n=P("pre"),k(e,"class","svelte-246865"),k(n,"class","svelte-246865")},m(a,h){S(a,e,h),i[2](e),S(a,t,h),S(a,n,h),i[3](n)},p:x,i:x,o:x,d(a){a&&($(e),$(t),$(n)),i[2](null),i[3](null)}}}function wt(i,e,t){let n,a,h;We(()=>{h=new D(n,f=>{t(1,a.textContent=f.data,a)},{}),h.start()}),Ve(()=>{h&&h.stop()});function c(f){X[f?"unshift":"push"](()=>{n=f,t(0,n)})}function g(f){X[f?"unshift":"push"](()=>{a=f,t(1,a)})}return[n,a,c,g]}class yt extends de{constructor(e){super(),fe(this,e,wt,_t,ue,{})}}function Oe(i,e,t){const n=i.slice();return n[3]=e[t],n}function Te(i){let e,t=i[3]+"",n,a,h,c;return{c(){e=P("button"),n=V(t),k(e,"class",a=i[0]!==i[3]?"outline":"")},m(g,f){S(g,e,f),B(e,n),h||(c=W(e,"click",i[2](i[3])),h=!0)},p(g,f){i=g,f&1&&a!==(a=i[0]!==i[3]?"outline":"")&&k(e,"class",a)},d(g){g&&$(e),h=!1,c()}}}function Et(i){let e,t;return e=new yt({}),{c(){pe(e.$$.fragment)},m(n,a){he(e,n,a),t=!0},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function bt(i){let e,t;return e=new pt({}),{c(){pe(e.$$.fragment)},m(n,a){he(e,n,a),t=!0},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function Ct(i){let e,t;return e=new ut({}),{c(){pe(e.$$.fragment)},m(n,a){he(e,n,a),t=!0},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){ie(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function Lt(i){let e,t,n,a,h,c,g,f,w,y=le(Object.values(i[1])),b=[];for(let r=0;r<y.length;r+=1)b[r]=Te(Oe(i,y,r));const p=[Ct,bt,Et],m=[];function s(r,u){return r[0]===r[1].GEN?0:r[0]===r[1].FROM_IMAGE?1:r[0]===r[1].FROM_CAMERA?2:-1}return~(g=s(i))&&(f=m[g]=p[g](i)),{c(){e=P("div"),t=P("header"),t.innerHTML=`<h1>QR Util</h1>
    QR code image generator &amp; scanner.`,n=N(),a=P("fieldset");for(let r=0;r<b.length;r+=1)b[r].c();h=N(),c=P("main"),f&&f.c(),k(a,"role","group"),k(e,"class","container")},m(r,u){S(r,e,u),B(e,t),B(e,n),B(e,a);for(let o=0;o<b.length;o+=1)b[o]&&b[o].m(a,null);B(e,h),B(e,c),~g&&m[g].m(c,null),w=!0},p(r,[u]){if(u&7){y=le(Object.values(r[1]));let l;for(l=0;l<y.length;l+=1){const d=Oe(r,y,l);b[l]?b[l].p(d,u):(b[l]=Te(d),b[l].c(),b[l].m(a,null))}for(;l<b.length;l+=1)b[l].d(1);b.length=y.length}let o=g;g=s(r),g!==o&&(f&&(Ke(),ie(m[o],1,1,()=>{m[o]=null}),Xe()),~g?(f=m[g],f||(f=m[g]=p[g](r),f.c()),Y(f,1),f.m(c,null)):f=null)},i(r){w||(Y(f),w=!0)},o(r){ie(f),w=!1},d(r){r&&$(e),Se(b,r),~g&&m[g].d()}}}function Dt(i,e,t){const n={GEN:"Gen",FROM_IMAGE:"From Image",FROM_CAMERA:"From Camera"};let a=n.GEN;return[a,n,c=>()=>{t(0,a=c)}]}class Ot extends de{constructor(e){super(),fe(this,e,Dt,Lt,ue,{})}}new Ot({target:document.getElementById("app")});
