(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})(),(()=>{let e=e=>document.getElementById(e),t=e(`calendarCanvas`),n=e(`overlay`),r=e(`showBtn`),i=e(`widthInput`),a=e(`heightInput`),o=e(`presetSelect`),s=e(`bgColor`),c=e(`fgColor`),l=e(`randomColorBtn`),u=e(`fontFamily`),d=e(`yearInput`),f=e(`yearSize`),p=e(`dateSize`),m=e(`saveBtn`),h=e(`toggleBtn`);if(!t)throw Error(`calendarCanvas not found`);let g=()=>{s.value=`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,`0`)}`,c.value=`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,`0`)}`};g(),l&&(l.onclick=()=>{g(),x()});let _=[{label:`FHD 1920×1080`,w:1920,h:1080},{label:`WHD 2560×1440`,w:2560,h:1440},{label:`4K 3840×2160`,w:3840,h:2160},{label:`Portrait FHD 1080×2160`,w:1080,h:2160},{label:`Portrait FHD 1440×3200`,w:1440,h:3200}];function v(){o&&_.forEach(e=>{let t=document.createElement(`option`);t.value=JSON.stringify(e),t.textContent=e.label,o.appendChild(t)})}v();function y(e){let t={};for(let e=1;e<=7;e++)t[e]=[];for(let n=1;n<=12;n++)for(let r=1;r<=7;r++){let i=new Date(e,n-1,r);i.getMonth()===n-1&&i.getDay()===0&&t[r].push(n)}return t}function b(){if(!i||!a)return;let e=parseInt(i.value,10)||1920,n=parseInt(a.value,10)||1080;t.width=e,t.height=n,t.style.width=window.innerWidth+`px`,t.style.height=window.innerHeight+`px`}function x(){let e=t.getContext(`2d`);if(!e)return;let n=(t,n=!1)=>{e.font=`${n?`bold `:``}${t}px '${u?.value||`sans-serif`}'`};e.fillStyle=s?.value||`#000`,e.fillRect(0,0,t.width,t.height);let r=c?.value||`#fff`,i=parseFloat(p?.value||``)||.03,a=Math.max(8,Math.round(t.height*i)),o=Math.round(a*3.2),l=Math.round(o*1),m=Math.floor(l),h=Math.floor(o),g=m*13,_=h*6,v=Math.round((t.height-_)/2),b=Math.round((t.width-g)/2);e.fillStyle=r;let x=parseInt(d?.value||``,10)||new Date().getFullYear(),S=parseFloat(f?.value||``)||.08,C=Math.max(8,Math.round(t.height*S));n(C,!0),e.textAlign=`center`,e.textBaseline=`top`,e.fillText(String(x),t.width/2,v-C*1.2),n(a),e.textAlign=`center`,e.textBaseline=`middle`;for(let t=0;t<7;t++)for(let i=0;i<13;i++){let o=(t-1)*7+i+1,s=b+i*m+m/2,c=v+t*h+h/2;o<1||o>31||(e.fillStyle=r,n(a,t===1&&i<7),e.fillText(String(o),s,c))}let w=Math.max(10,Math.round(a*.7));n(w);let T=y(x);for(let t=1;t<=7;t++){let i=T[t];if(!i||i.length===0)continue;let a=b+(t-1)*m+m/2,o=v+1*h+h/2,s=Math.min(m,h)*.28;e.beginPath(),e.fillStyle=r,e.globalAlpha=.12,e.arc(a,o,s,0,Math.PI*2),e.fill(),e.globalAlpha=1,e.fillStyle=r,n(w),e.textAlign=`center`;let c=i.join(` / `);e.fillText(c,a,o-s-w/2)}let E=7*m,D=Math.round((t.width-E)/2),O=v;e.strokeStyle=r,e.globalAlpha=.25,e.lineWidth=Math.max(1,Math.round(h*.06)),e.beginPath(),e.moveTo(D,O),e.lineTo(D+E,O),e.stroke(),e.globalAlpha=1}i&&(i.onchange=b),a&&(a.onchange=b),o&&(o.onchange=()=>{try{let e=JSON.parse(o.value);i&&(i.value=String(e.w)),a&&(a.value=String(e.h)),b(),x()}catch{}}),[s,c,d,f,p].forEach(e=>{e&&(e.oninput=x)}),m&&(m.onclick=()=>{let e=t.toDataURL(`image/png`),n=document.createElement(`a`);n.href=e,n.download=`calendar-${d?.value||`calendar`}.png`,document.body.appendChild(n),n.click(),n.remove()}),h&&(h.onclick=()=>{n.classList.add(`hidden`),r.classList.remove(`hidden`)}),r&&(r.onclick=()=>{n.classList.remove(`hidden`),r.classList.add(`hidden`)}),u.onchange=x,window.onresize=()=>{t.style.width=window.innerWidth+`px`,t.style.height=window.innerHeight+`px`,x()},b(),x()})();