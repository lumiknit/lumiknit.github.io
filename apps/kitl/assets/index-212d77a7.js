(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const gr=(e,t)=>e===t,Ve=Symbol("solid-proxy"),mr=Symbol("solid-track"),Xe={equals:gr};let Nn=Tn;const se=1,Ze=2,In={owned:null,cleanups:null,context:null,owner:null},ht={};var I=null;let ft=null,M=null,z=null,oe=null,nt=0;function Ge(e,t){const n=M,r=I,o=e.length===0,s=t===void 0?r:t,i=o?In:{owned:null,cleanups:null,context:s?s.context:null,owner:s},l=o?e:()=>e(()=>R(()=>ot(i)));I=i,M=null;try{return ue(l,!0)}finally{M=n,I=r}}function b(e,t){t=t?Object.assign({},Xe,t):Xe;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=o=>(typeof o=="function"&&(o=o(n.value)),Pn(n,o));return[An.bind(n),r]}function Jt(e,t,n){const r=rt(e,t,!0,se);Se(r)}function C(e,t,n){const r=rt(e,t,!1,se);Se(r)}function Z(e,t,n){Nn=Cr;const r=rt(e,t,!1,se);(!n||!n.render)&&(r.user=!0),oe?oe.push(r):Se(r)}function S(e,t,n){n=n?Object.assign({},Xe,n):Xe;const r=rt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Se(r),An.bind(r)}function wr(e){return e&&typeof e=="object"&&"then"in e}function yr(e,t,n){let r,o,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,o=e,s=t||{}):(r=e,o=t,s=n||{});let i=null,l=ht,a=!1,d="initialValue"in s,u=typeof r=="function"&&S(r);const h=new Set,[f,w]=(s.storage||b)(s.initialValue),[k,W]=b(void 0),[V,X]=b(void 0,{equals:!1}),[L,G]=b(d?"ready":"unresolved");function O(B,N,P,ve){return i===B&&(i=null,ve!==void 0&&(d=!0),(B===l||N===l)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(ve,{value:N})),l=ht,ie(N,P)),N}function ie(B,N){ue(()=>{N===void 0&&w(()=>B),G(N!==void 0?"errored":d?"ready":"unresolved"),W(N);for(const P of h.keys())P.decrement();h.clear()},!1)}function Be(){const B=kr,N=f(),P=k();if(P!==void 0&&!i)throw P;return M&&!M.user&&B&&Jt(()=>{V(),i&&(B.resolved||h.has(B)||(B.increment(),h.add(B)))}),N}function ut(B=!0){if(B!==!1&&a)return;a=!1;const N=u?u():r;if(N==null||N===!1){O(i,R(f));return}const P=l!==ht?l:R(()=>o(N,{value:f(),refetching:B}));return wr(P)?"value"in P?(P.status==="success"?O(i,P.value,void 0,N):O(i,void 0,void 0,N),P):(i=P,a=!0,queueMicrotask(()=>a=!1),ue(()=>{G(d?"refreshing":"pending"),X()},!1),P.then(ve=>O(P,ve,void 0,N),ve=>O(P,void 0,On(ve),N))):(O(i,P,void 0,N),P)}return Object.defineProperties(Be,{state:{get:()=>L()},error:{get:()=>k()},loading:{get(){const B=L();return B==="pending"||B==="refreshing"}},latest:{get(){if(!d)return Be();const B=k();if(B&&!i)throw B;return f()}}}),u?Jt(()=>ut(!1)):ut(!1),[Be,{refetch:ut,mutate:w}]}function re(e){return ue(e,!1)}function R(e){if(M===null)return e();const t=M;M=null;try{return e()}finally{M=t}}function pr(e){Z(()=>R(e))}function vr(e){return I===null||(I.cleanups===null?I.cleanups=[e]:I.cleanups.push(e)),e}function $r(e){const t=S(e),n=S(()=>kt(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let kr;function An(){if(this.sources&&this.state)if(this.state===se)Se(this);else{const e=z;z=null,ue(()=>Qe(this),!1),z=e}if(M){const e=this.observers?this.observers.length:0;M.sources?(M.sources.push(this),M.sourceSlots.push(e)):(M.sources=[this],M.sourceSlots=[e]),this.observers?(this.observers.push(M),this.observerSlots.push(M.sources.length-1)):(this.observers=[M],this.observerSlots=[M.sources.length-1])}return this.value}function Pn(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ue(()=>{for(let o=0;o<e.observers.length;o+=1){const s=e.observers[o],i=ft&&ft.running;i&&ft.disposed.has(s),(i?!s.tState:!s.state)&&(s.pure?z.push(s):oe.push(s),s.observers&&Ln(s)),i||(s.state=se)}if(z.length>1e6)throw z=[],new Error},!1)),t}function Se(e){if(!e.fn)return;ot(e);const t=I,n=M,r=nt;M=I=e,br(e,e.value,r),M=n,I=t}function br(e,t,n){let r;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=se,e.owned&&e.owned.forEach(ot),e.owned=null),e.updatedAt=n+1,zn(o)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Pn(e,r):e.value=r,e.updatedAt=n)}function rt(e,t,n,r=se,o){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:I,context:I?I.context:null,pure:n};return I===null||I!==In&&(I.owned?I.owned.push(s):I.owned=[s]),s}function Je(e){if(e.state===0)return;if(e.state===Ze)return Qe(e);if(e.suspense&&R(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<nt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===se)Se(e);else if(e.state===Ze){const r=z;z=null,ue(()=>Qe(e,t[0]),!1),z=r}}function ue(e,t){if(z)return e();let n=!1;t||(z=[]),oe?n=!0:oe=[],nt++;try{const r=e();return xr(n),r}catch(r){n||(oe=null),z=null,zn(r)}}function xr(e){if(z&&(Tn(z),z=null),e)return;const t=oe;oe=null,t.length&&ue(()=>Nn(t),!1)}function Tn(e){for(let t=0;t<e.length;t++)Je(e[t])}function Cr(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Je(r)}for(t=0;t<n;t++)Je(e[t])}function Qe(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const o=r.state;o===se?r!==t&&(!r.updatedAt||r.updatedAt<nt)&&Je(r):o===Ze&&Qe(r,t)}}}function Ln(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ze,n.pure?z.push(n):oe.push(n),n.observers&&Ln(n))}}function ot(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const s=o.pop(),i=n.observerSlots.pop();r<o.length&&(s.sourceSlots[i]=r,o[r]=s,n.observerSlots[r]=i)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ot(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function On(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function zn(e,t=I){throw On(e)}function kt(e){if(typeof e=="function"&&!e.length)return kt(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=kt(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const _r=Symbol("fallback");function Qt(e){for(let t=0;t<e.length;t++)e[t]()}function Sr(e,t,n={}){let r=[],o=[],s=[],i=0,l=t.length>1?[]:null;return vr(()=>Qt(s)),()=>{let a=e()||[],d,u;return a[mr],R(()=>{let f=a.length,w,k,W,V,X,L,G,O,ie;if(f===0)i!==0&&(Qt(s),s=[],r=[],o=[],i=0,l&&(l=[])),n.fallback&&(r=[_r],o[0]=Ge(Be=>(s[0]=Be,n.fallback())),i=1);else if(i===0){for(o=new Array(f),u=0;u<f;u++)r[u]=a[u],o[u]=Ge(h);i=f}else{for(W=new Array(f),V=new Array(f),l&&(X=new Array(f)),L=0,G=Math.min(i,f);L<G&&r[L]===a[L];L++);for(G=i-1,O=f-1;G>=L&&O>=L&&r[G]===a[O];G--,O--)W[O]=o[G],V[O]=s[G],l&&(X[O]=l[G]);for(w=new Map,k=new Array(O+1),u=O;u>=L;u--)ie=a[u],d=w.get(ie),k[u]=d===void 0?-1:d,w.set(ie,u);for(d=L;d<=G;d++)ie=r[d],u=w.get(ie),u!==void 0&&u!==-1?(W[u]=o[d],V[u]=s[d],l&&(X[u]=l[d]),u=k[u],w.set(ie,u)):s[d]();for(u=L;u<f;u++)u in W?(o[u]=W[u],s[u]=V[u],l&&(l[u]=X[u],l[u](u))):o[u]=Ge(h);o=o.slice(0,i=f),r=a.slice(0)}return o});function h(f){if(s[u]=f,l){const[w,k]=b(u);return l[u]=k,t(a[u],w)}return t(a[u])}}}function c(e,t){return R(()=>e(t||{}))}function He(){return!0}const bt={get(e,t,n){return t===Ve?n:e.get(t)},has(e,t){return t===Ve?!0:e.has(t)},set:He,deleteProperty:He,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:He,deleteProperty:He}},ownKeys(e){return e.keys()}};function gt(e){return(e=typeof e=="function"?e():e)?e:{}}function Er(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function en(...e){let t=!1;for(let s=0;s<e.length;s++){const i=e[s];t=t||!!i&&Ve in i,e[s]=typeof i=="function"?(t=!0,S(i)):i}if(t)return new Proxy({get(s){for(let i=e.length-1;i>=0;i--){const l=gt(e[i])[s];if(l!==void 0)return l}},has(s){for(let i=e.length-1;i>=0;i--)if(s in gt(e[i]))return!0;return!1},keys(){const s=[];for(let i=0;i<e.length;i++)s.push(...Object.keys(gt(e[i])));return[...new Set(s)]}},bt);const n={},r={},o=new Set;for(let s=e.length-1;s>=0;s--){const i=e[s];if(!i)continue;const l=Object.getOwnPropertyNames(i);for(let a=0,d=l.length;a<d;a++){const u=l[a];if(u==="__proto__"||u==="constructor")continue;const h=Object.getOwnPropertyDescriptor(i,u);if(!o.has(u))h.get?(o.add(u),Object.defineProperty(n,u,{enumerable:!0,configurable:!0,get:Er.bind(r[u]=[h.get.bind(i)])})):(h.value!==void 0&&o.add(u),n[u]=h.value);else{const f=r[u];f?h.get?f.push(h.get.bind(i)):h.value!==void 0&&f.push(()=>h.value):n[u]===void 0&&(n[u]=h.value)}}}return n}function Rn(e,...t){if(Ve in e){const o=new Set(t.length>1?t.flat():t[0]),s=t.map(i=>new Proxy({get(l){return i.includes(l)?e[l]:void 0},has(l){return i.includes(l)&&l in e},keys(){return i.filter(l=>l in e)}},bt));return s.push(new Proxy({get(i){return o.has(i)?void 0:e[i]},has(i){return o.has(i)?!1:i in e},keys(){return Object.keys(e).filter(i=>!o.has(i))}},bt)),s}const n={},r=t.map(()=>({}));for(const o of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,o),i=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let l=!1,a=0;for(const d of t)d.includes(o)&&(l=!0,i?r[a][o]=s.value:Object.defineProperty(r[a],o,s)),++a;l||(i?n[o]=s.value:Object.defineProperty(n,o,s))}return[...r,n]}const Hn=e=>`Stale read from <${e}>.`;function Y(e){const t="fallback"in e&&{fallback:()=>e.fallback};return S(Sr(()=>e.each,e.children,t||void 0))}function A(e){const t=e.keyed,n=S(()=>e.when,void 0,{equals:(r,o)=>t?r===o:!r==!o});return S(()=>{const r=n();if(r){const o=e.children;return typeof o=="function"&&o.length>0?R(()=>o(t?r:()=>{if(!R(n))throw Hn("Show");return e.when})):o}return e.fallback},void 0,void 0)}function zt(e){let t=!1;const n=(s,i)=>s[0]===i[0]&&(t?s[1]===i[1]:!s[1]==!i[1])&&s[2]===i[2],r=$r(()=>e.children),o=S(()=>{let s=r();Array.isArray(s)||(s=[s]);for(let i=0;i<s.length;i++){const l=s[i].when;if(l)return t=!!s[i].keyed,[i,l,s[i]]}return[-1]},void 0,{equals:n});return S(()=>{const[s,i,l]=o();if(s<0)return e.fallback;const a=l.children;return typeof a=="function"&&a.length>0?R(()=>a(t?i:()=>{if(R(o)[0]!==s)throw Hn("Match");return l.when})):a},void 0,void 0)}function ae(e){return e}const Mr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Dr=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Mr]),Br=new Set(["innerHTML","textContent","innerText","children"]),Nr=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ir=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Ar(e,t){const n=Ir[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Pr=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Tr=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Lr={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Or(e,t,n){let r=n.length,o=t.length,s=r,i=0,l=0,a=t[o-1].nextSibling,d=null;for(;i<o||l<s;){if(t[i]===n[l]){i++,l++;continue}for(;t[o-1]===n[s-1];)o--,s--;if(o===i){const u=s<r?l?n[l-1].nextSibling:n[s-l]:a;for(;l<s;)e.insertBefore(n[l++],u)}else if(s===l)for(;i<o;)(!d||!d.has(t[i]))&&t[i].remove(),i++;else if(t[i]===n[s-1]&&n[l]===t[o-1]){const u=t[--o].nextSibling;e.insertBefore(n[l++],t[i++].nextSibling),e.insertBefore(n[--s],u),t[o]=n[s]}else{if(!d){d=new Map;let h=l;for(;h<s;)d.set(n[h],h++)}const u=d.get(t[i]);if(u!=null)if(l<u&&u<s){let h=i,f=1,w;for(;++h<o&&h<s&&!((w=d.get(t[h]))==null||w!==u+f);)f++;if(f>u-l){const k=t[i];for(;l<u;)e.insertBefore(n[l++],k)}else e.replaceChild(n[l++],t[i++])}else i++;else t[i++].remove()}}}const tn="_$DX_DELEGATE";function zr(e,t,n,r={}){let o;return Ge(s=>{o=s,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{o(),t.textContent=""}}function y(e,t,n){let r;const o=()=>{const i=document.createElement("template");return i.innerHTML=e,n?i.content.firstChild.firstChild:i.content.firstChild},s=t?()=>R(()=>document.importNode(r||(r=o()),!0)):()=>(r||(r=o())).cloneNode(!0);return s.cloneNode=s,s}function q(e,t=window.document){const n=t[tn]||(t[tn]=new Set);for(let r=0,o=e.length;r<o;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,Kr))}}function Q(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Rr(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function K(e,t){t==null?e.removeAttribute("class"):e.className=t}function ce(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const o=n[0];e.addEventListener(t,n[0]=s=>o.call(e,n[1],s))}else e.addEventListener(t,n)}function Hr(e,t,n={}){const r=Object.keys(t||{}),o=Object.keys(n);let s,i;for(s=0,i=o.length;s<i;s++){const l=o[s];!l||l==="undefined"||t[l]||(nn(e,l,!1),delete n[l])}for(s=0,i=r.length;s<i;s++){const l=r[s],a=!!t[l];!l||l==="undefined"||n[l]===a||!a||(nn(e,l,!0),n[l]=a)}return n}function Ee(e,t,n){if(!t)return n?Q(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let o,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)o=t[s],o!==n[s]&&(r.setProperty(s,o),n[s]=o);return n}function Fn(e,t={},n,r){const o={};return r||C(()=>o.children=be(e,t.children,o.children)),C(()=>t.ref&&t.ref(e)),C(()=>Fr(e,t,n,!0,o,!0)),o}function F(e,t,n){return R(()=>e(t,n))}function g(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return be(e,t,r,n);C(o=>be(e,t(),o,n),r)}function Fr(e,t,n,r,o={},s=!1){t||(t={});for(const i in o)if(!(i in t)){if(i==="children")continue;o[i]=rn(e,i,null,o[i],n,s)}for(const i in t){if(i==="children"){r||be(e,t.children);continue}const l=t[i];o[i]=rn(e,i,l,o[i],n,s)}}function jr(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function nn(e,t,n){const r=t.trim().split(/\s+/);for(let o=0,s=r.length;o<s;o++)e.classList.toggle(r[o],n)}function rn(e,t,n,r,o,s){let i,l,a,d,u;if(t==="style")return Ee(e,n,r);if(t==="classList")return Hr(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);r&&e.removeEventListener(h,r),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);r&&e.removeEventListener(h,r,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),f=Pr.has(h);if(!f&&r){const w=Array.isArray(r)?r[0]:r;e.removeEventListener(h,w)}(f||n)&&(ce(e,h,n,f),f&&q([h]))}else if(t.slice(0,5)==="attr:")Q(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(a=Br.has(t))||!o&&((d=Ar(t,e.tagName))||(l=Dr.has(t)))||(i=e.nodeName.includes("-")))u&&(t=t.slice(5),l=!0),t==="class"||t==="className"?K(e,n):i&&!l&&!a?e[jr(t)]=n:e[d||t]=n;else{const h=o&&t.indexOf(":")>-1&&Lr[t.split(":")[0]];h?Rr(e,h,t,n):Q(e,Nr[t]||t,n)}return n}function Kr(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(o!==void 0?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function be(e,t,n,r,o){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,i=r!==void 0;if(e=i&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),i){let l=n[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),n=$e(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=$e(e,n,r);else{if(s==="function")return C(()=>{let l=t();for(;typeof l=="function";)l=l();n=be(e,l,n,r)}),()=>n;if(Array.isArray(t)){const l=[],a=n&&Array.isArray(n);if(xt(l,t,n,o))return C(()=>n=be(e,l,n,r,!0)),()=>n;if(l.length===0){if(n=$e(e,n,r),i)return n}else a?n.length===0?on(e,l,r):Or(e,n,l):(n&&$e(e),on(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(i)return n=$e(e,n,r,t);$e(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function xt(e,t,n,r){let o=!1;for(let s=0,i=t.length;s<i;s++){let l=t[s],a=n&&n[s],d;if(!(l==null||l===!0||l===!1))if((d=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))o=xt(e,l,a)||o;else if(d==="function")if(r){for(;typeof l=="function";)l=l();o=xt(e,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||o}else e.push(l),o=!0;else{const u=String(l);a&&a.nodeType===3&&a.data===u?e.push(a):e.push(document.createTextNode(u))}}return o}function on(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function $e(e,t,n,r){if(n===void 0)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let s=!1;for(let i=t.length-1;i>=0;i--){const l=t[i];if(o!==l){const a=l.parentNode===e;!s&&!i?a?e.replaceChild(o,l):e.insertBefore(o,n):a&&l.remove()}else s=!0}}else e.insertBefore(o,n);return[o]}const Ur=!1,Wr="http://www.w3.org/2000/svg";function Gr(e,t=!1){return t?document.createElementNS(Wr,e):document.createElement(e)}function st(e){const[t,n]=Rn(e,["component"]),r=S(()=>t.component);return S(()=>{const o=r();switch(typeof o){case"function":return R(()=>o(n));case"string":const s=Tr.has(o),i=Gr(o,s);return Fn(i,n,s),i}})}var Yr=()=>["%csolid-devtools","color: #fff; background: #2c4f7c; padding: 1px 4px;"];function qr(...e){console.warn(...Yr(),...e)}qr('`import "solid-devtools";` is an entry point for the vite plugin.\nIf you\'re seeing this message you probably forgot to add the plugin to your vite config.');(()=>{let e=100;const t=()=>{const o=getComputedStyle(document.documentElement).getPropertyValue("--kitl-c-bg");if(console.log("bgColor",o),!o){if(e>1e4)return;e*=2,setTimeout(t,e);return}const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content",o)},n=o=>{o?(console.log("Dark mode"),document.documentElement.setAttribute("color-theme","dark")):(console.log("Light mode"),document.documentElement.setAttribute("color-theme","light")),setTimeout(t)},r=window.matchMedia("(prefers-color-scheme: dark)");r.addEventListener("change",o=>n(o.matches)),n(r.matches),window.addEventListener("load",t)})();const Vr="modulepreload",Xr=function(e){return"/"+e},sn={},ln=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Xr(s),s in sn)return;sn[s]=!0;const i=s.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let u=o.length-1;u>=0;u--){const h=o[u];if(h.href===s&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const d=document.createElement("link");if(d.rel=i?"stylesheet":Vr,i||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),i)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s})},Zr=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((r,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t)))})},[jn,Jr]=b({locale:"",strings:new Map}),Qr=()=>jn().locale,Kn=(e,t,n)=>{for(const r in n){const o=n[r],s=t?`${t}.${r}`:r;typeof o=="object"?Kn(e,s,o):e.set(s,o)}},eo=async e=>{const t=navigator.languages.map(n=>{const r=n.indexOf("-");return r===-1?n:n.slice(0,r)});for(const n of[e,...t,"en"])if(n)try{const r=await Zr(Object.assign({"./strings/en.json":()=>ln(()=>import("./en-1d8685f3.js"),[]),"./strings/ko.json":()=>ln(()=>import("./ko-d3c538b0.js"),[])}),`./strings/${n}.json`),o=new Map;return Kn(o,"",r),Jr({locale:n,strings:o}),!0}catch{continue}},m=e=>jn().strings.get(e)||e,to=e=>{const[t]=yr(async()=>await eo(e.language)),n=Qr();return c(zt,{fallback:"Unk",get children(){return[c(ae,{get when(){return t()},get children(){return e.children}}),c(ae,{when:n==="",children:"Failed to load locale."}),c(ae,{when:n===void 0,children:"Loading..."})]}})};var p=(e=>(e.fg="fg",e.bg="bg",e.primary="primary",e.secondary="secondary",e.success="success",e.danger="danger",e.warning="warning",e))(p||{});const no=y("<button>"),$=e=>(()=>{const t=no();return ce(t,"click",e.onClick,!0),g(t,()=>e.children),C(n=>{const r=`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`,o=e.disabled;return r!==n._v$&&K(t,n._v$=r),o!==n._v$2&&(t.disabled=n._v$2=o),n},{_v$:void 0,_v$2:void 0}),t})();q(["click"]);q(["keydown"]);const ro=y("<div>"),U=e=>(()=>{const t=ro();return ce(t,"drop",e.onDrop),ce(t,"click",e.onClick,!0),g(t,()=>e.children),C(()=>K(t,`input-group ${e.class??""}`)),t})();q(["click"]);const oo=y("<input type=text>"),he=e=>(()=>{const t=oo();ce(t,"blur",e.onBlur),ce(t,"keydown",e.onKeyDown,!0),ce(t,"change",e.onChange),ce(t,"click",e.onClick,!0);const n=e.ref;return typeof n=="function"?F(n,t):e.ref=t,C(r=>{const o=e.readonly,s=`form-control ${e.class??""}`,i=e.placeholder;return o!==r._v$&&(t.readOnly=r._v$=o),s!==r._v$2&&K(t,r._v$2=s),i!==r._v$3&&Q(t,"placeholder",r._v$3=i),r},{_v$:void 0,_v$2:void 0,_v$3:void 0}),C(()=>t.value=e.value),t})();q(["click","keydown"]);const so=y("<span>"),Un=e=>(()=>{const t=so();return C(()=>K(t,`spinner ${e.class}`)),t})(),Pe=e=>new TextEncoder().encode(e),io=e=>new TextDecoder().decode(e),lo=async e=>{const t=await new Promise((n,r)=>{const o=new FileReader;o.onload=()=>{n(o.result)},o.onerror=r,o.readAsDataURL(new Blob([e]))});return t.slice(t.indexOf(",")+1)},co=(e,t)=>{const n=URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})),r=document.createElement("a");r.href=n,r.download=e,r.click(),URL.revokeObjectURL(n)},ao=()=>{throw"Empty function invoked"},Wn=e=>t=>{if(typeof t!==e)throw new Error(`Expected ${e}, got ${typeof t}`);return t},ee=Wn("string"),et=Wn("number"),xe=e=>t=>{if(t!==void 0)return e(t)},Ie=e=>t=>{if(!Array.isArray(t))throw new Error(`Expected array, got ${typeof t}`);return t.map(e)},uo=e=>({x:et(e.x),y:et(e.y)}),cn={x:0,y:0},ho=e=>({x:Math.round(e.x),y:Math.round(e.y)}),Te=(e,t)=>e*e+t*t,Ye=(e,t)=>Math.sqrt(Te(e,t)),an=(e,t,n)=>{const r=n.w/2,o=n.h/2,s=n.x+r,i=n.y+o,l=Math.abs(r-o);let a=e-s,d=t-i,u=0,h=0;if(a<-r&&(a=-r,u=-1),a>r&&(a=r,u=1),d<-o&&(d=-o,h=-1),d>o&&(d=o,h=1),n.angular){if(u*h!==0){const f=Ye(a,d);return[s+a-1.4*u,i+d-1.4*h,a/f,d/f]}}else{if(r>o&&Math.abs(a)>l){const f=a>0?l:-l,w=a-f,k=Ye(w,d)/o;return[s+f+w/k,i+d/k,w/o,d/(k*o)]}if(o>r&&Math.abs(d)>l){const f=d>0?l:-l,w=d-f,k=Ye(a,w)/r;return[s+a/k,i+f+w/k,a/(k*r),w/r]}}return[s+a,i+d,u,h]},Ct=(e,t,n)=>{const[r,o,s,i]=an(t.x+t.w/2,t.y+t.h/2,e),[l,a,d,u]=an(r,o,t),h=.2*Ye(r-l,o-a);return`M ${l-n*d} ${a-n*u} C ${l+d*h} ${a+u*h}, ${r+s*h} ${o+i*h}, ${r-n*s} ${o-n*i}`},dn=(e,t)=>{const r=e.x+e.w/2,o=t.x+t.w/2;return`M ${r} ${e.y} C ${r} ${e.y-30}, ${o} ${t.y-30}, ${o} ${t.y}`},fo=e=>Math.random().toString(36).slice(e),go=()=>fo(7),mo=()=>{const e=new Date;return Math.round(e.getTime()/1e3+e.getTimezoneOffset()*60).toString(36)},wo=()=>`${mo()}-${go()}`,yo=(e,t,n)=>e<t?t:e>n?n:e;var v=(e=>(e.Alpha="a",e.Beta="b",e.Delta="d",e.Lambda="l",e.Nu="n",e.Pi="p",e))(v||{});const un=new Set(["d"]),po=new Set(["n"]),vo=new Set(["b","n"]),_t=new Set(["d","p"]),ge=e=>({id:ee(e.id),handle:xe(ee)(e.handle)}),$o=e=>({type:"a",val:e.val}),ko=e=>({type:"b",fn:xe(ge)(e.fn),args:Ie(ge)(e.args)}),bo=e=>({type:"d",comment:ee(e.comment),ret:xe(ge)(e.ret)}),xo=e=>({type:"l",fallback:xe(ge)(e.fallback),ret:xe(ge)(e.ret)}),Co=e=>({type:"n",name:ee(e.name),lhs:et(e.lhs),args:Ie(ge)(e.args)}),_o=e=>({type:"p",name:ee(e.name),pat:xe(ge)(e.pat),elems:et(e.elems)}),So={a:$o,b:ko,d:bo,l:xo,n:Co,p:_o},Eo=e=>({id:ee(e.id),pos:uo(e.pos),x:So[e.x.type](e.x)}),Mo=()=>[{id:"#def",pos:{x:0,y:0},x:{type:"d",comment:""}}],Fe=JSON.stringify,mt=e=>{switch(typeof e){case"string":return e.length>20;case"object":return e===null?!1:Array.isArray(e)?e.length>1:Object.keys(e).length>1}return!1},le=(e,t=0)=>{if(typeof e!="object"||e===null)return Fe(e);const n=" ".repeat(2*(t+1)),r=`,
`+n;if(Array.isArray(e)){const i=e;return i.length===0?"[]":i.length===1?mt(i[0])?`[ ${le(i[0],t+1)} ]`:`[${le(i[0],t+1)}]`:`[ ${i.map(l=>le(l,t+1)).join(r)} ]`}const o=e,s=Object.keys(o);if(s.length===0)return"{}";if(s.length===1){const i=s[0],l=Fe(i),a=o[i];return mt(a)?`{ ${l}:
  ${n}${le(a,t+2)}}`:`{${l}: ${le(a,t+1)}}`}return`{ ${Object.entries(o).map(([i,l])=>mt(l)?`${Fe(i)}:
  ${n}${le(l,t+2)}`:`${Fe(i)}: ${le(l,t+1)}`).join(r)} }`},H=e=>e.charCodeAt(0),Rt=e=>{const t=new Set;for(let n=0;n<e.length;n++)t.add(e.charCodeAt(n));return t},Do=H(`
`),Bo=H("["),No=H("]"),Io=H("{"),Ao=H("}"),Po=H('"'),To=H("'"),Lo=H("\\"),Oo=H("u"),zo=H("x"),Gn=Rt(`[]{},"':
`),Ro=Rt("+-0123456789."),Ho=Rt(`"'`),Fo=new Map([[H("b"),"\b"],[H("f"),"\f"],[H("n"),`
`],[H("r"),"\r"],[H("t"),"	"]]),jo=/[-+]?((0x[0-9a-fA-F]+)|([0-9]+(\.[0-9]+)?))([eE][-+]?[0-9]+)?/y,Ko=/(false|true|null)\b/iy,Uo=new Map([["false",!1],["true",!0],["null",null]]),hn=/\s*([[{'"])/y,Yn=/\s*/y,tt=/[\s,]*/y,Wo=/[\s:]*/y,Go=e=>(hn.lastIndex=0,!!hn.exec(e)),de=e=>e.s.charCodeAt(e.p);class Oe extends Error{s;p;line;column;constructor(t,n){let r=1,o=1;for(let s=0;s<t.p;s++)t.s.charCodeAt(s)===Do&&(r++,o=0),o++;super(`${r}:${o}: ${n}`),this.name="ParseError",this.s=t.s,this.p=t.p,this.line=r,this.column=o}}const Ht=(e,t)=>(t.lastIndex=e.p,t.exec(e.s)),fe=(e,t)=>{const n=Ht(e,t);n&&(e.p+=n[0].length)},Yo=e=>{e.p++,fe(e,tt);const t=[];for(;e.p<e.l&&de(e)!==No;)t.push(Ft(e)),fe(e,tt);return e.p++,t},qo=e=>{e.p++,fe(e,tt);const t={};for(;e.p<e.l&&de(e)!==Ao;){let n;if(Ho.has(de(e)))n=St(e);else{const r=e.p;e.p=e.s.indexOf(":",e.p),e.p===-1&&(e.p=e.l),n=e.s.slice(r,e.p).trim()}fe(e,Wo),t[n]=Ft(e),fe(e,tt)}return e.p++,t},fn=(e,t)=>{const n=e.s.slice(e.p+1,e.p+t+1),r=parseInt(n,16);if(e.p+=t,isNaN(r))throw new Oe(e,`Invalid unicode escape '${n}'`);return String.fromCharCode(r)},St=e=>{const t=de(e);e.p++;let n="";for(;e.p<e.l;e.p++){const r=de(e);if(r===t)return e.p++,n;if(r===Lo){e.p++;const o=de(e);switch(o){case Oo:n+=fn(e,4);break;case zo:n+=fn(e,2);break;default:n+=Fo.get(o)||String.fromCharCode(o)}}else n+=String.fromCharCode(r)}return n},Vo=e=>{const t=Ht(e,jo),n=t?t[0]:"",r=n?Number(n):NaN;if(e.p+=n.length,isNaN(r))throw new Oe(e,`Invalid number '${n}'`);return r},Xo=(e,t)=>{const n=Ht(e,Ko);if(n!==null)return e.p+=n[0].length,Uo.get(n[0].toLowerCase());if(t)throw new Oe(e,`Unexpected character '${e.s[e.p]}'`);const r=e.p;for(;e.p<e.l&&!Gn.has(de(e));)e.p++;return e.s.slice(r,e.p).trim()},gn={[Po]:St,[To]:St,[Bo]:Yo,[Io]:qo},Ft=(e,t)=>{fe(e,Yn);const n=de(e);if(n in gn)return gn[n](e);if(Gn.has(n))throw new Oe(e,`Unexpected character '${e.s[e.p]}' for value`);return Ro.has(n)?Vo(e):Xo(e,t)},Zo=e=>{const t={s:e,p:0,l:e.length},n=Ft(t,!0);if(fe(t,Yn),t.p<t.l)throw new Oe(t,`Unexpected character '${t.s[t.p]}', expect EOF`);return n},Jo=e=>{switch(e.type){case v.Alpha:return JSON.stringify(e.val,null,2);case v.Beta:return e.args.length<=0?"":`,${e.args.length}`;case v.Delta:return`${e.comment}`;case v.Lambda:return"λ";case v.Nu:{const t=e.name,n=t.module?`@${t.module}`:"",r=e.args.length<=0?"":`,${e.lhs},${Math.max(0,e.args.length-e.lhs)}`;return`${t.name}${n}${r}`}case v.Pi:{const t=e.name,n=t.module?`@${t.module}`:"",r=e.elems<=0?"":`,${e.elems}`;return`λ ${t.name}${n}${r}`}}},Qo=e=>{const t=e.trim();try{return{type:v.Alpha,val:Zo(t)}}catch{}switch(t[0]){case"λ":case"\\":{const r=t.slice(1).split(","),o=r[0].split("@");if(o[0]){const s=o[0]?o[0].toString().trim():"",i=o[1]?o[1].toString().trim():"";let l=parseInt(r[1]);return isNaN(l)&&(l=0),{type:v.Pi,name:{name:s,module:i},elems:l}}else return{type:v.Lambda}}default:{const r=t.split(","),o=r[0].split("@"),s=o[0]?o[0].toString().trim():"",i=o[1]?o[1].toString().trim():"";let l=parseInt(r[1]),a=parseInt(r[2]);if(s)return isNaN(l)&&(l=0),isNaN(a)&&(a=l,l=0),{type:v.Nu,name:{name:s,module:i},lhs:l,args:new Array(l+a).fill({id:""})};{const d=(isNaN(l)?0:l)+(isNaN(a)?0:a);return{type:v.Beta,args:new Array(d).fill({id:""})}}}}},jt=e=>{const t=e.split(/[\\/]+/),n=t[0].length<1,r=[];for(const o of t)switch(o){case"":case".":break;case"..":r.pop();break;default:r.push(o)}return n&&r.unshift(""),r},Ae=e=>e.length<1?".":e.length<=1&&e[0].length<1?"/":e.join("/"),es=e=>e.length>0&&e[0].length<1,Kt=e=>{const t=jt(e);return[Ae(t),t]},Ut=e=>{const t=e.indexOf(":");return t<0?["local",e]:[e.slice(0,t),e.slice(t+1)]},qn=e=>{const[t,n]=Ut(e),[r,o]=Kt(n);return[t,r,o]},Et=e=>{const[,,t]=qn(e);return t[t.length-1]},ts=e=>{let t=e.lastIndexOf(".");return t<0&&(t=e.length),[e.slice(0,t),e.slice(t+1)]},ns=(e,t)=>{if(t<1)return e;let n=e.indexOf(".");return n<0&&(n=e.length),`${e.slice(0,n)}-${t}${e.slice(n)}`};var qe=(e=>(e[e.Unknown=0]="Unknown",e[e.Kitl=1]="Kitl",e[e.Image=2]="Image",e))(qe||{});const rs=new Map([[1,["kitl"]],[2,["png","jpg","jpeg","gif","svg","webp"]]]),Vn={};rs.forEach((e,t)=>{for(const n of e)Vn[n]=t});const os=e=>Vn[e]||0,mn=()=>[void 0],ss=e=>{const t=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()?e.toLocaleTimeString():e.toLocaleDateString()},is=y("<div class=toast-container>"),ls=y("<div>");let D=function(e){return e[e.Success=0]="Success",e[e.Warning=1]="Warning",e[e.Error=2]="Error",e[e.Progress=3]="Progress",e}({});const cs=["✅","⚠️","🚫","⏳"],Xn=[ao],E=(e,t)=>{Xn[0](e,t)},as=e=>{const t=e.creation??Xn,[n,r]=b({cnt:0,toasts:[]});return t[0]=(o,s)=>{r(i=>{const l=i.toasts,a=i.cnt,d=Math.max(200,s?.ttl??2e3),u=(f,w)=>window.setTimeout(()=>r(k=>({...k,toasts:f(k.toasts)})),w),h=u(f=>f.filter(w=>w.id!==a),d);return u(f=>f.map(w=>w.id===a?{...w,class:"toast-a-out"}:w),d-100),l.push({id:a,type:s?.type,class:"toast-a-in",message:o,timeout:h}),{cnt:i.cnt+1,toasts:l}})},(()=>{const o=is();return g(o,c(Y,{get each(){return n().toasts},children:s=>(()=>{const i=ls();return g(i,()=>s.type!==void 0?`${cs[s.type]} `:"",null),g(i,()=>s.message,null),C(()=>K(i,`toast ${s.class}`)),i})()})),o})()};let Mt=0;const ds=()=>{Mt=0},Zn=()=>Mt=(Mt+57.295779513)%360,us="hrm-c-bd-empty",hs="⎇",Dt="𝑓",fs="𝑥",wn="𝑦",gs="𝛃",ms="≝",ws="⟾",ys="↯",ps="⧉";var T=(e=>(e[e.Source=0]="Source",e[e.Sink=1]="Sink",e))(T||{});const yn=e=>b({name:e,data:{type:0,color:Zn()}}),ne=(e,t)=>b({name:e,data:{type:1,sourceID:t?.id,sourceHandle:t?.handle}}),vs=e=>{let t=0,n;switch(e.x.type){case v.Alpha:n=[];break;case v.Beta:t=1,n=[ne(Dt,e.x.fn)];for(const r in e.x.args){const o=e.x.args[r];n.push(ne(r,o))}break;case v.Delta:n=[ne(wn,e.x.ret)];break;case v.Lambda:t=2,n=[ne(hs,e.x.fallback),yn(fs),ne(wn,e.x.ret)];break;case v.Nu:n=e.x.args.map((r,o)=>ne(String(o),r)),t=yo(e.x.lhs,0,e.x.args.length);break;case v.Pi:n=[ne(ps,e.x.pat)];for(let r=0;r<e.x.elems;r++)n.push(yn(String(r+1)));t=1;break}return n.lhs=t,n},Bt=e=>b({color:Zn(),angular:e.x.type===v.Alpha,data:e.x,handles:vs(e),position:e.pos,size:{w:0,h:0},selected:!1}),je=e=>{ds();const t=new Map;for(const n of e)t.set(n.id,Bt(n));return t},pn=e=>{if(e.type===1&&e.sourceID)return{id:e.sourceID,handle:e.sourceHandle}},$s=e=>{const t=n=>pn(e.handles[n][0]().data);switch(e.data.type){case v.Alpha:return{type:v.Alpha,val:e.data.val};case v.Beta:{const n=[];for(let r=1;r<e.handles.length;r++){const o=t(r);o&&n.push(o)}return{type:v.Beta,fn:t(0),args:n}}case v.Delta:return{type:v.Delta,comment:e.data.comment,ret:t(0)};case v.Lambda:return{type:v.Lambda,fallback:t(0),ret:t(2)};case v.Nu:return{type:v.Nu,name:e.data.name,lhs:e.handles.lhs,args:e.handles.reduce((n,r)=>{const o=pn(r[0]().data);return o&&n.push(o),n},[])};case v.Pi:return{type:v.Pi,pat:t(0),name:e.data.name,elems:e.data.elems}}},Jn=(e,t)=>({id:e,pos:ho(t.position),x:$s(t)}),ks=e=>{const t=[];for(const[n,r]of e.entries())t.push(Jn(n,r[0]()));return t},vn=e=>{switch(e.data.type){case v.Beta:e.handles[0][1](t=>({...t,name:Dt})),e.handles[0][0]().name=Dt;for(let t=1;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t-1)}));break;case v.Nu:for(let t=0;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t)}));break;default:throw"Unimplemented"}},bs=y('<svg stroke-width="0"></svg>',2),xs=y("<title></title>",2);function x(e,t){const n=en(e.a,t),[r,o]=Rn(n,["src"]);return(()=>{const s=bs.cloneNode(!0);return Fn(s,en({get stroke(){return e.a.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},o,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},get innerHTML(){return e.c},xmlns:"http://www.w3.org/2000/svg"}),!0,!0),g(s,()=>Ur,null),g(s,(()=>{const i=S(()=>!!t.title);return()=>i()&&(()=>{const l=xs.cloneNode(!0);return g(l,()=>t.title),l})()})(),null),s})()}function Cs(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-back-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 14l-4 -4l4 -4"/><path d="M5 10h11a4 4 0 1 1 0 8h-1"/>'},e)}function _s(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-forward-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 14l4 -4l-4 -4"/><path d="M19 10h-11a4 4 0 1 0 0 8h1"/>'},e)}function Wt(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-right",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l14 0"/><path d="M13 18l6 -6"/><path d="M13 6l6 6"/>'},e)}function Nt(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-backspace",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 6a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-11l-5 -5a1.5 1.5 0 0 1 0 -2l5 -5z"/><path d="M12 10l4 4m0 -4l-4 4"/>'},e)}function Qn(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-binary-tree",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 4a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M11 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M21 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M5.058 18.306l2.88 -4.606"/><path d="M10.061 10.303l2.877 -4.604"/><path d="M10.065 13.705l2.876 4.6"/><path d="M15.063 5.7l2.881 4.61"/>'},e)}function Ss(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-caret-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 14l-6 -6l-6 6h12"/>'},e)}function it(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 11l3 3l8 -8"/><path d="M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"/>'},e)}function It(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-clipboard",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"/><path d="M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"/>'},e)}function At(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-copy",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"/><path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"/>'},e)}function $n(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-cut",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M9.15 14.85l8.85 -10.85"/><path d="M6 4l8.85 10.85"/>'},e)}function Es(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-deselect",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 8h3a1 1 0 0 1 1 1v3"/><path d="M16 16h-7a1 1 0 0 1 -1 -1v-7"/><path d="M12 20v.01"/><path d="M16 20v.01"/><path d="M8 20v.01"/><path d="M4 20v.01"/><path d="M4 16v.01"/><path d="M4 12v.01"/><path d="M4 8v.01"/><path d="M8 4v.01"/><path d="M12 4v.01"/><path d="M16 4v.01"/><path d="M20 4v.01"/><path d="M20 8v.01"/><path d="M20 12v.01"/><path d="M20 16v.01"/><path d="M3 3l18 18"/>'},e)}function Ms(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-device-floppy",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"/><path d="M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/><path d="M14 4l0 4l-6 0l0 -4"/>'},e)}function Ds(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-download",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"/><path d="M7 11l5 5l5 -5"/><path d="M12 4l0 12"/>'},e)}function Gt(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-edit",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"/><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"/><path d="M16 5l3 3"/>'},e)}function Bs(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-file-plus",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4"/><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"/><path d="M12 11l0 6"/><path d="M9 14l6 0"/>'},e)}function Ns(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-file",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4"/><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"/>'},e)}function Is(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-folder-plus",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5"/><path d="M16 19h6"/><path d="M19 16v6"/>'},e)}function As(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-folder-search",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 19h-6a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2.5"/><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M20.2 20.2l1.8 1.8"/>'},e)}function Ps(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-folder-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5"/><path d="M19 22v-6"/><path d="M22 19l-3 -3l-3 3"/>'},e)}function Ts(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-folder",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"/>'},e)}function er(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-menu",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 8l16 0"/><path d="M4 16l16 0"/>'},e)}function Ls(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-question-mark",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 8a3.5 3 0 0 1 3.5 -3h1a3.5 3 0 0 1 3.5 3a3 3 0 0 1 -2 3a3 4 0 0 0 -2 4"/><path d="M12 19l0 .01"/>'},e)}function Os(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-refresh",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"/><path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/>'},e)}function zs(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-rocket",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"/><path d="M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"/><path d="M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/>'},e)}function Rs(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-scissors",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M6 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M8.6 8.6l10.4 10.4"/><path d="M8.6 15.4l10.4 -10.4"/>'},e)}function Hs(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-check",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l2 2l4 -4"/>'},e)}function Yt(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-plus",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l6 0"/><path d="M12 9l0 6"/>'},e)}function Fs(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M10 10l4 4m0 -4l-4 4"/>'},e)}function js(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-trash-off",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3l18 18"/><path d="M4 7h3m4 0h9"/><path d="M10 11l0 6"/><path d="M14 14l0 3"/><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l.077 -.923"/><path d="M18.384 14.373l.616 -7.373"/><path d="M9 5v-1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"/>'},e)}function Pt(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-trash",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7l16 0"/><path d="M10 11l0 6"/><path d="M14 11l0 6"/><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"/><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"/>'},e)}function Ks(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-upload",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"/><path d="M7 9l5 -5l5 5"/><path d="M12 4l0 12"/>'},e)}function tr(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12"/><path d="M6 6l12 12"/>'},e)}function Us(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in-area",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 13v4"/><path d="M13 15h4"/><path d="M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"/><path d="M22 22l-3 -3"/><path d="M6 18h-1a2 2 0 0 1 -2 -2v-1"/><path d="M3 11v-1"/><path d="M3 6v-1a2 2 0 0 1 2 -2h1"/><path d="M10 3h1"/><path d="M15 3h1a2 2 0 0 1 2 2v1"/>'},e)}function Ws(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M10 7l0 6"/><path d="M21 21l-6 -6"/>'},e)}function Gs(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-out",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M21 21l-6 -6"/>'},e)}function Ys(e){return x({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-reset",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 21l-6 -6"/><path d="M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"/><path d="M3 4v4h4"/>'},e)}const qs=6,Vs=250,Xs=16,Zs=750,Js=window.setTimeout,Qs=window.clearTimeout,kn=e=>({shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey}),wt=e=>{e.preventDefault(),e.stopPropagation()},me=(e,t)=>{const n={pointers:new Map,maxPointers:0,lastClick:{x:0,y:0,timestamp:0}},r=s=>{n.longPress&&n.longPress.id===s&&(Qs(n.longPress.u),n.longPress=void 0),n.pointers.delete(s)},o={pointerenter:s=>{e.onEnter?.(s.pointerId)},pointercancel:s=>{r(s.pointerId),e.onCancel?.(s.pointerId)},pointerleave:s=>{r(s.pointerId),e.onLeave?.(s.pointerId)},pointerdown:s=>{wt(s);const i=s.pointerId;e.onDown?.({id:i,x:s.clientX,y:s.clientY,pointers:n.pointers.size,modifiers:kn(s)}),s.target.releasePointerCapture(i),e.capture?s.currentTarget.setPointerCapture(i):s.currentTarget.releasePointerCapture(i);const l={id:i,x:s.clientX,y:s.clientY,moved:!1,timestamp:Date.now()};r(s.pointerId),n.pointers.set(i,l),n.maxPointers=Math.max(n.maxPointers,n.pointers.size),n.pointers.size===1&&(n.longPress={id:i,x:s.clientX,y:s.clientY,u:Js(()=>{n.longPress&&n.pointers.size===1&&n.pointers.has(i)&&!n.pointers.get(i).moved&&(n.longPress=void 0,e.onLongPress?.({id:i,x:s.clientX,y:s.clientY}),n.pointers.delete(i))},Zs)})},pointermove:s=>{wt(s);const i=s.pointerId;e.onMove?.({id:i,x:s.clientX,y:s.clientY});const l=n.pointers.get(i);if(!l)return;const a=s.clientX-l.x,d=s.clientY-l.y;if(!(!l.moved&&Te(a,d)<qs)){if(e.onDrag){const u={id:i,x:s.clientX,y:s.clientY,ox:l.x,oy:l.y,dx:a,dy:d},[h,f]=n.pointers.keys();f&&(u.pivot=n.pointers.get(h===i?f:h)),e.onDrag(u)}l.moved=!0,l.x=s.clientX,l.y=s.clientY}},pointerup:s=>{wt(s);const i=s.pointerId,l=n.pointers.get(i),a={id:i,x:s.clientX,y:s.clientY,pointers:n.maxPointers,modifiers:kn(s),dragged:n.pointers.get(i)?.moved};if(e.onUp?.(a),!l)return;r(s.pointerId);const d=Date.now();n.pointers.size===0&&(e.onClick?.(a),d-n.lastClick.timestamp<Vs&&Te(a.x-n.lastClick.x,a.y-n.lastClick.y)<Xs**2&&e.onDoubleClick?.(a),n.lastClick={x:s.clientX,y:s.clientY,timestamp:d},n.maxPointers=0)}};for(const[s,i]of Object.entries(o))t.addEventListener(s,i,{passive:!1})},ei=(e,t)=>{const[n,r]=b(t);let o=t,s;return[()=>(n(),o),a=>{typeof a=="function"?o=a(o):o=a,s===void 0&&(s=window.setTimeout(()=>{s=void 0,r(o)},e))}]},ti=y('<div class="no-user-select hrm-pane abs-parent"><div class=hrm-view></div><div class=hrm-pane-controls>'),ni=y("<button>"),bn=e=>`translate(${e.x}px, ${e.y}px) scale(${e.z})`,ri=e=>{let t;const[n,r]=ei(10,{x:0,y:0,z:1}),o=(l,a,d)=>r(u=>({x:u.x*d+l,y:u.y*d+a,z:u.z*d}));e.g.transform[0]=n,e.g.transform[1]=r;const s=1.1,i=[[c(Ws,{}),()=>o((t?.offsetWidth??0)*(1-s)/2,(t?.offsetHeight??0)*(1-s)/2,s)],[c(Gs,{}),()=>o((t?.offsetWidth??0)*(1-1/s)/2,(t?.offsetHeight??0)*(1-1/s)/2,1/s)],[c(Ys,{}),()=>r(()=>({x:0,y:0,z:1}))],[c(Us,{}),()=>{const l=e.g.usedRect(),a=e.g.size();if(!l||!a)return;l.w=Math.max(l.w,1),l.h=Math.max(l.h,1);const d=a.w/l.w,u=a.h/l.h,h=Math.min(d,u),f=-l.x*h+(a.w-l.w*h)/2,w=-l.y*h+(a.h-l.h*h)/2;r({x:f,y:w,z:h})}]];return Z(()=>{if(t){me({capture:!0,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onLongPress:e.onLongPress,onDrag:l=>{const a=l.pivot;if(a){const d=Math.sqrt(Te(a.x-l.x,a.y-l.y)/Te(a.x-l.ox,a.y-l.oy)),u=d-1;o((l.dx-(a.x+l.ox)*u)/2,(l.dy-(a.y+l.oy)*u)/2,d)}else o(l.dx,l.dy,1)}},t),t.addEventListener("wheel",l=>{if(t)if(l.preventDefault(),l.ctrlKey||l.metaKey){const a=Math.pow(2,l.deltaY/-100),d=t.getBoundingClientRect();o((l.clientX-d.left)*(1-a),(l.clientY-d.top)*(1-a),a)}else o(-l.deltaX,-l.deltaY,1)},{passive:!1});for(const[,l,a]of i)a&&me({capture:!0,onClick:l},a)}}),(()=>{const l=ti(),a=l.firstChild,d=a.nextSibling,u=t;typeof u=="function"?F(u,l):t=l;const h=e.g.viewRef;return typeof h=="function"?F(h,a):e.g.viewRef=a,g(a,()=>e.children),g(d,c(Y,{each:i,children:f=>(()=>{const w=ni(),k=f[2];return typeof k=="function"?F(k,w):f[2]=w,g(w,()=>f[0]),w})()})),C(()=>bn(n())!=null?a.style.setProperty("transform",bn(n())):a.style.removeProperty("transform")),l})()},oi=y("<div>"),si=e=>{const[t,n]=e.handleW;let r;return Z(()=>{r&&(t(),n(o=>{let s,i;if(o.data.type===T.Source)s=o.data.color,i=e.g.nodeColorBd(s);else if(o.data.sourceID){const l=e.g.nodes().get(o.data.sourceID);if(l){const a=l[0]();s=a.color,o.data.sourceHandle!==void 0&&(s=a.handles[o.data.sourceHandle][0]().color??s),i=e.g.nodeColorBg(s)}}return s===o.color&&o.ref===r?o:{...o,ref:r,color:s,style:i}}))}),Z(()=>{r&&me({capture:!1,onEnter:o=>{const s=e.g.connectingEdge[0]();s&&s.pointerID===o&&t().data.type===T.Source!==s.isSource&&e.g.setTempConnectingEnd(e.nodeID,r,e.handleID)},onLeave:()=>{e.g.connectingEnd[0]().ref===r&&e.g.unsetTempConnectingEnd(r)},onDown:o=>{e.g.addConnectingEnd(o.id,e.nodeID,e.handleID,e.g.viewPos(o.x,o.y))},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)},onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},r)}),(()=>{const o=oi(),s=r;return typeof s=="function"?F(s,o):r=o,g(o,()=>t().name),C(i=>{const l=`hrm-node-item hrm-handle hrm-pill ${t().style?"":us}`,a=t().style;return l!==i._v$&&K(o,i._v$=l),i._v$2=Ee(o,a,i._v$2),i},{_v$:void 0,_v$2:void 0}),o})()},ii=new Map([["_|_","⊥"],["-:","∹"],["-<","⤙"],["-<<","⤛"],["->","→"],["->>","↠"],["->|","⇥"],["-|","⊣"],["-|","⊣"],["::","∷"],["::=","⩴"],[":=","≔"],["!=","≠"],["!|=","⊭"],["!||-","⊮"],["!||=","⊯"],["!~=","≄"],["!~~","≉"],["<-->","⟷"],["<-","←"],["<-<","↢"],["<->","↔"],["<-|","↤"],["<.>","⊙"],["<*>","⊗"],["<+>","⊕"],["<<-","↞"],["<<","≪"],["<=","≤"],["<==>","⟺"],["<=>","⇔"],["<=|","⤆"],["<|","◁"],["<~","⇜"],["=:","≕"],["==>","⟹"],["=>","⇒"],[">-","⤚"],[">=","≥"],[">>-","⤜"],[">>","≫"],["|-->","⟼"],["|-","⊢"],["|->","↦"],["|<-","⇤"],["|=","⊨"],["|=>","⤇"],["|>","▷"],["||-","⊩"],["||=","⊫"],["|||-","⊪"],["~=","≃"],["~>","⇝"],["~~","≈"]]),li=e=>ii.get(e)||e,ci=y("<div class=hrm-node-name-module>"),ai=y("<div class=hrm-node-name><div class=hrm-node-name-name>"),di=y("<div class=hrm-node-mark>"),ui=y("<div class=hrm-node-json>"),hi=y('<pre class="hrm-node-comment no-user-select no-pointer-events">'),fi=y('<div class="hrm-node-item hrm-node-body">'),xn=e=>(()=>{const t=ai(),n=t.firstChild;return g(n,()=>li(e.name.name)),g(t,c(A,{get when(){return e.name.module},get children(){const r=ci();return g(r,()=>"@"+e.name.module),r}}),null),t})(),Ke=e=>(()=>{const t=di();return g(t,()=>e.mark),t})(),gi=e=>{const t={[v.Alpha]:()=>(()=>{const n=ui();return g(n,()=>le(e.data.val)),n})(),[v.Beta]:()=>c(Ke,{mark:gs}),[v.Delta]:()=>[c(Ke,{mark:ms}),c(A,{get when(){return e.data.comment},get children(){const n=hi();return g(n,()=>e.data.comment),n}})],[v.Lambda]:()=>c(Ke,{mark:ws}),[v.Nu]:()=>c(xn,{get name(){return e.data.name}}),[v.Pi]:()=>[c(Ke,{mark:ys}),c(xn,{get name(){return e.data.name}})]};return(()=>{const n=fi();return g(n,c(st,{get component(){return t[e.data.type]}})),n})()},mi=y("<div> + "),Cn=e=>{let t;const[n,r]=b(!1);return Z(()=>{t&&me({onEnter:o=>{r(!0);const s=e.g.connectingEdge[0]();s&&s.pointerID===o&&s.isSource&&e.g.setTempConnectingEnd(e.nodeID,t,e.handleID)},onLeave:()=>{r(!1),e.g.connectingEnd[0]().ref===t&&e.g.unsetTempConnectingEnd(t)},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)}},t)}),(()=>{const o=mi(),s=t;return typeof s=="function"?F(s,o):t=o,C(()=>K(o,`hrm-node-item hrm-handle-new hrm-pill ${e.handleID<0?"lhs":"rhs"} ${n()?"opacity-100":""}`)),o})()},wi=y("<div>"),yi=y('<div class="hrm-node abs-lt no-user-select"><div class="hrm-node-row no-user-select">'),pi=e=>{const[t,n]=b(!1),[r,o]=e.nodeW;console.log("[HrmNode] render");let s,i;Z(()=>{if(!s)return;const d=s;o(u=>({...u,ref:d,size:{w:d.offsetWidth,h:d.offsetHeight},selected:!1})),me({capture:!0,onEnter:u=>{const h=e.g.connectingEdge[0]();h&&h.pointerID===u&&!h.isSource&&e.g.setTempConnectingEnd(e.id,s,void 0)},onLeave:()=>{e.g.connectingEnd[0]().ref===i&&e.g.unsetTempConnectingEnd(i)},onUp:u=>{e.g.connectingEdge[0]()&&e.g.addConnectingEnd(u.id,e.id,void 0,e.g.viewPos(u.x,u.y))},onClick:u=>{if(!u.dragged){const h=u.modifiers.shift||u.modifiers.ctrl;e.g.selectOneNode(e.id,h)}},onDrag:u=>{r().selected?e.g.translateSelectedNodes(u.dx,u.dy,e.g.transform[0]().z):e.g.translateOneNode(e.id,u.dx,u.dy,e.g.transform[0]().z)},onDoubleClick:()=>{setTimeout(()=>{e.g.editNode(e.id)},100)}},s)}),Z(()=>{i&&me({onEnter:()=>{n(!0)},onLeave:()=>{n(!1)},onDown:d=>{e.g.addConnectingEnd(d.id,e.id,void 0,e.g.viewPos(d.x,d.y))}},i)});const l=(d,u)=>c(si,{get g(){return e.g},get nodeID(){return e.id},get node(){return r()},get handleID(){return u()},handleW:d}),a=(d,u)=>l(d,()=>u()+r().handles.lhs);return(()=>{const d=yi(),u=d.firstChild,h=s;return typeof h=="function"?F(h,d):s=d,g(d,c(A,{get when(){return po.has(r().data.type)},get children(){return c(Cn,{get g(){return e.g},get nodeID(){return e.id},handleID:-1/0,get node(){return r()}})}}),u),g(u,c(Y,{get each(){return r().handles.slice(0,r().handles.lhs)},children:l}),null),g(u,c(gi,{get data(){return r().data}}),null),g(u,c(Y,{get each(){return r().handles.slice(r().handles.lhs)},children:a}),null),g(d,c(A,{get when(){return vo.has(r().data.type)},get children(){return c(Cn,{get g(){return e.g},get nodeID(){return e.id},handleID:1/0,get node(){return r()}})}}),null),g(d,c(A,{get when(){return!_t.has(r().data.type)},get children(){const f=wi(),w=i;return typeof w=="function"?F(w,f):i=f,C(()=>K(f,`hrm-node-handle hrm-pill ${t()?"opacity-100":""}`)),f}}),null),C(f=>{const w=!!_t.has(r().data.type),k=!!r().selected,W=!!r().angular,V=!r().angular,X={left:`${r().position.x}px`,top:`${r().position.y}px`,...e.g.nodeColorBd(r().color)};return w!==f._v$&&d.classList.toggle("hrm-node-root",f._v$=w),k!==f._v$2&&d.classList.toggle("selected",f._v$2=k),W!==f._v$3&&d.classList.toggle("hrm-rect",f._v$3=W),V!==f._v$4&&d.classList.toggle("hrm-pill",f._v$4=V),f._v$5=Ee(d,X,f._v$5),f},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),d})()},vi=y('<svg><path class="hrm-edge-path hrm-edge-path-bd"stroke-width=6px fill=transparent></svg>',!1,!0),$i=y("<svg><path class=hrm-edge-path stroke-width=3px fill=transparent></svg>",!1,!0),ki=y("<svg><path class=cursor-pointer stroke-width=1rem fill=transparent></svg>",!1,!0),bi=e=>{console.log("[HrmEdge] render");let t;const[n]=e.nodeW,[r]=e.handleW,o=S(()=>{console.log("[HrmEdge] Effect (path)"),n();const i=r();if(i.data.type!==T.Sink)return"";const l=i.data.sourceID,a=i.data.sourceHandle;if(l===void 0)return"";const d=e.g.viewRectOf(l,a),u=e.g.viewRect(i.ref);return!d||!u?"":e.nodeID===l?[dn(d,u),dn(d,u)]:[Ct(d,u,.5),Ct(d,u,-.5)]});Z(()=>{if(t)return me({onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},t)});const s=()=>{const i=r().color;return i?e.g.nodeColorStroke(i):{}};return[(()=>{const i=vi();return C(()=>Q(i,"d",o()[1])),i})(),(()=>{const i=$i();return C(l=>{const a=s(),d=o()[0];return l._v$=Ee(i,a,l._v$),d!==l._v$2&&Q(i,"d",l._v$2=d),l},{_v$:void 0,_v$2:void 0}),i})(),(()=>{const i=ki(),l=t;return typeof l=="function"?F(l,i):t=i,C(()=>Q(i,"d",o()[0])),i})()]},xi=e=>{const[t]=e.handleW;return c(A,{get when(){return S(()=>t().data.type===T.Sink)()&&t().data.sourceID},get children(){return c(bi,e)}})},Ci=e=>{const[t]=e.nodeW;return c(Y,{get each(){return t().handles},children:(n,r)=>c(xi,{get g(){return e.g},get nodeW(){return e.nodeW},handleW:n,get nodeID(){return e.id},get handleID(){return r()}})})},_i=y('<svg class="hrm-edges no-user-select no-pointer-events">'),Si=e=>[c(Y,{get each(){return[...e.g.nodes()]},children:([t,n])=>c(pi,{get g(){return e.g},id:t,nodeW:n})}),(()=>{const t=_i();return g(t,c(Y,{get each(){return[...e.g.nodes()]},children:([n,r])=>c(Ci,{get g(){return e.g},id:n,nodeW:r})})),t})()],Ei=(e,t,n)=>.299*e+.587*t+.114*n,yt=(e,t,n)=>{n<0&&(n+=1),n>1&&(n-=1);let r;return n<1/2?(r=t,n<1/6&&(r=e+(t-e)*6*n)):(r=e,n<2/3&&(r=e+(t-e)*(2/3-n)*6)),Math.round(r*255)},Mi=(e,t,n)=>{if(t===0)return[n,n,n];const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;return[yt(o,r,e+1/3),yt(o,r,e),yt(o,r,e-1/3)]},pt=(e,t,n)=>`hsl(${e}, ${t*100}%, ${n*100}%)`,Di=()=>new Map([["C-a","selectAll"],["M-a","selectAll"],["Backspace","deleteSelectedNodes"],["Delete","deleteSelectedNodes"],["a","addEmptyNode"],["C-=","zoomIn"],["C--","zoomOut"]]);class Bi{nodes;setNodes;transform;rootRef;viewRef;editingNode;connectingEdge;connectingEnd;history;historyIndex;selectMode=!1;keymap=new Map;constructor(t){t||(t=[]);const[n,r]=b(je(t),{equals:!1});this.nodes=n,this.setNodes=r,this.editingNode=b(),this.connectingEdge=b(),this.connectingEnd=b({pos:cn}),this.transform=[()=>({x:0,y:0,z:1}),()=>{}],this.history=[t],this.historyIndex=0,this.keymap=Di()}thaw(t){this.setNodes(je(t)),this.history=[t],this.historyIndex=0}freeze(){return ks(this.nodes())}getSL(){const t=getComputedStyle(document.documentElement),n=Number(t.getPropertyValue("--hrm-node-saturate")),r=Number(t.getPropertyValue("--hrm-node-lightness"));return[n,r]}nodeColorBg(t){const[n,r]=this.getSL(),o=Ei(...Mi(t,n,r))>192?"#000":"#fff",s=pt(t,n,r);return{color:o,"background-color":s,"border-color":s}}nodeColorBd(t){const[n,r]=this.getSL();return{"border-color":pt(t,n,r)}}nodeColorStroke(t){const[n,r]=this.getSL();return{stroke:pt(t,n,r)}}saveHistory(){this.historyIndex++,this.history.length>this.historyIndex&&(this.history=this.history.slice(0,this.historyIndex)),this.history.push(this.freeze())}undo(){this.historyIndex>0&&this.setNodes(je(this.history[--this.historyIndex]))}redo(){this.historyIndex<this.history.length-1&&this.setNodes(je(this.history[++this.historyIndex]))}size(){if(!this.rootRef)return;const t=this.rootRef.getBoundingClientRect();return{w:t.width,h:t.height}}viewPos(t,n){if(!this.viewRef)return;const r=this.viewRef.getBoundingClientRect(),o=R(this.transform[0]);return{x:(t-r.left)/o.z,y:(n-r.top)/o.z}}viewRect(t){if(!t||!this.viewRef)return;const n=this.viewRef.getBoundingClientRect(),r=t.getBoundingClientRect(),o=!t.classList.contains("hrm-pill"),s=R(this.transform[0]);return{x:(r.left-n.left)/s.z,y:(r.top-n.top)/s.z,w:r.width/s.z,h:r.height/s.z,angular:o}}fitTransformFor(t){if(!t)return;const n=t.getBoundingClientRect(),r=this.rootRef.getBoundingClientRect();let o=0,s=0;n.right+o>r.right&&(o=r.right-n.right),n.left+o<r.left&&(o=r.left-n.left),n.bottom+s>r.bottom&&(s=r.bottom-n.bottom),n.top+s<r.top&&(s=r.top-n.top),this.transform[1](i=>({...i,x:i.x+o,y:i.y+s}))}usedRect(){const t={x:0,y:0,w:0,h:0};for(const[,n]of this.nodes()){const r=n[0](),o=r.position,s=r.size;t.x>o.x&&(t.w+=t.x-o.x,t.x=o.x),t.y>o.y&&(t.h+=t.y-o.y,t.y=o.y),t.w=Math.max(t.w,o.x+s.w-t.x),t.h=Math.max(t.h,o.y+s.h-t.y)}return t}viewRectOf(t,n){const r=this.nodes().get(t);if(!r)return;const o=r[0](),s=n===void 0?o.ref:o.handles[n][0]().ref;if(s)return this.viewRect(s)}addEmptyNode(t){if(!t){const l=this.transform[0](),a=this.rootRef;if(!a)t={x:0,y:0};else{const d=a.getBoundingClientRect();t={x:(d.width/2-l.x)/l.z,y:(d.height/2-l.y)/l.z}}}const n=wo();let r;const o=this.connectingEdge[0]();if(o)if(o.isSource)r={id:o.nodeID,handle:o.handleID};else{const l=this.nodes().get(o.nodeID);l&&l[0]().handles[o.handleID][1](d=>({...d,data:{type:T.Sink,sourceID:n}}))}this.connectingEdge[1](void 0);const s={type:v.Beta,fn:r,args:[]},i={id:n,pos:t,x:s};return this.setNodes(l=>(l.set(i.id,Bt(i)),l)),this.saveHistory(),i.id}translateOneNode(t,n,r,o){const s=this.nodes().get(t);s&&s[1](i=>({...i,position:{x:i.position.x+n/o,y:i.position.y+r/o}}))}translateSelectedNodes(t,n,r){for(const[,o]of this.nodes())o[1](s=>s.selected?{...s,position:{x:s.position.x+t/r,y:s.position.y+n/r}}:s)}selectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?n:{...n,selected:!0})}deselectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?{...n,selected:!1}:n)}selectOneNode(t,n){this.connectingEdge[1](void 0);for(const[r,o]of this.nodes())r===t?o[1](s=>({...s,selected:!s.selected})):!n&&!this.selectMode&&o[1](s=>s.selected?{...s,selected:!1}:s)}deleteSelectedNodes(){this.setNodes(t=>{const n=new Set;for(const[r,o]of t){const s=o[0]();s.selected&&!un.has(s.data.type)&&n.add(r)}for(const[r,o]of t)if(n.has(r))t.delete(r);else{const i=o[0]().handles;for(const[,l]of i)l(a=>{if(a.data.type===T.Sink){const d=a.data.sourceID;if(d&&n.has(d))return{...a,data:{type:T.Sink}}}return a})}return t}),this.saveHistory()}deleteEdge(t,n){const r=this.nodes().get(t);r&&r[0]().handles[n][1](o=>o.data.type!==T.Sink?o:{...o,data:{type:T.Sink}})}resetConnectingState(){re(()=>{this.connectingEdge[1](void 0),this.connectingEnd[1]({pos:cn})})}setTempConnectingEnd(t,n,r){re(()=>{const o=this.connectingEdge[0]();o&&(o.nodeID!==t||o.handleID!==r)&&this.connectingEnd[1](s=>({...s,ref:n}))})}unsetTempConnectingEnd(t){re(()=>{this.connectingEdge[0]()&&this.connectingEnd[1](r=>r.ref===t?{...r,ref:void 0}:r)})}finConnecting(t,n){const r=this.connectingEdge[0]();r&&(r.nodeID!==t||r.handleID!==n)&&(r.isSource&&n!==void 0?this.connectEdge(t,n,r.nodeID,r.handleID):!r.isSource&&r.handleID!==void 0&&this.connectEdge(r.nodeID,r.handleID,t,n))}makeLeftHandle(t){const n=this.nodes().get(t);return n&&(n[1](r=>(r.handles.unshift(ne("")),r.handles.lhs++,{...r})),vn(n[0]())),0}makeRightHandle(t){const n=this.nodes().get(t);if(!n)return 0;const r=n[0](),o=r.handles.length;return n[1](s=>(s.handles.push(ne("")),{...s})),vn(r),o}connectEdge(t,n,r,o){re(()=>{n===-1/0&&(n=this.makeLeftHandle(t)),n===1/0&&(n=this.makeRightHandle(t));const s=this.nodes(),i=s.get(t),l=s.get(r);if(!i||!l)return;if(o===void 0){if(_t.has(l[0]().data.type))return}else{const d=l[0]().handles[o];if(!d||d[0]().data.type!==T.Source)return}i[0]().handles[n][1](d=>d.data.type!==T.Sink?d:{...d,data:{type:T.Sink,sourceID:r,sourceHandle:o}}),this.resetConnectingState(),this.saveHistory()})}updateConnectingEnd(t){this.connectingEnd[1](n=>({...n,pos:t}))}addConnectingEnd(t,n,r,o){this.deselectAll();const s=this.nodes().get(n);if(!s)return;const[i]=s;let l=!0;if(r!==void 0){const d=i().handles[r];if(!d)return;l=d[0]().data.type===T.Source}const a=this.connectingEdge[0]();if(a&&a.nodeID===n&&a.handleID===r){this.resetConnectingState();return}if(a&&!l===a.isSource)return l?this.connectEdge(a.nodeID,a.handleID,n,r):this.connectEdge(n,r,a.nodeID,a.handleID);re(()=>{this.connectingEdge[1]({pointerID:t,isSource:l,nodeID:n,handleID:r}),o&&this.connectingEnd[1](d=>({...d,pos:o}))})}editNode(t){const n=this.nodes().get(t);n&&!un.has(n[0]().data.type)&&this.editingNode[1]({node:Jn(t,n[0]()),color:n[0]().color})}applyEditNode(t){re(()=>{const n=this.editingNode[0]();if(!n)return;const r=n.node.id,o={...n.node,x:Qo(t)},s=Bt(o),i=this.nodes().get(r);if(!i)return;s[1](d=>({...d,color:i[0]().color}));const l=[];for(const d of i?i[0]().handles:[]){const u=d[0]();u.data.type===T.Sink&&u.data.sourceID&&l.push(u.data)}const a=s[0]().handles;for(let d=0;d<a.length;d++)a[d][1](u=>{if(u.data.type!==T.Sink)return u;const h={type:T.Sink},f=l[d];return f&&(h.sourceID=f.sourceID,h.sourceHandle=f.sourceHandle),{...u,data:h}});this.setNodes(d=>(d.set(r,s),d)),this.editingNode[1](void 0)})}cancelEditNode(){this.editingNode[1](void 0)}handleKey(t){const n=this.keymap.get(t);n&&n in this&&this[n]()}zoomIn(){this.transform[1](t=>({...t,z:t.z*1.1}))}zoomOut(){this.transform[1](t=>({...t,z:t.z/1.1}))}resetZoom(){this.transform[1](()=>({x:0,y:0,z:1}))}}const Ni=y('<svg class="hrm-edges no-user-select no-pointer-events"><path class="hrm-edge-path hrm-c-stroke-empty"stroke-width=2px fill=transparent>'),Ii=y("<div>"),Ai=e=>{const t=()=>{const s=e.g.connectingEdge[0]();return s?e.g.viewRectOf(s.nodeID,s.handleID):void 0},n=()=>{const s=e.g.connectingEdge[0]();if(!s)return;const i=e.g.connectingEnd[0](),l=e.g.nodes().get(s.nodeID),a=e.g.viewRectOf(s.nodeID,s.handleID);if(!l||!a)return;const d=e.g.viewRect(i.ref);if(d)return Ct(a,d,0)},r=()=>t()?.angular?"hrm-rect":"hrm-pill",o=()=>{const s=t();if(s)return{visibility:"visible",left:`${s.x}px`,top:`${s.y}px`,width:`${s.w}px`,height:`${s.h}px`}};return[(()=>{const s=Ni(),i=s.firstChild;return C(()=>Q(i,"d",n())),s})(),(()=>{const s=Ii();return C(i=>{const l=`hrm-editing-edge-handle no-pointer-events ${r()}`,a=o();return l!==i._v$&&K(s,i._v$=l),i._v$2=Ee(s,a,i._v$2),i},{_v$:void 0,_v$2:void 0}),s})()]},Pi=y("<div class=code-area><textarea></textarea><textarea disabled>"),Ti=10,qt=(e,t)=>{for(;t>0&&e.charCodeAt(t-1)!==Ti;)t--;return t},Li=(e,t,n)=>{const r=qt(e,t),o=e.slice(r,n).split(`
`);return[e.slice(0,r)+"  "+o.join(`
  `)+e.slice(n),t+2,n+2*o.length]},Oi=(e,t,n)=>{const r=qt(e,t),o=e.slice(r,n).split(`
`);let s=t,i=n;for(let l=0;l<o.length;l++){const a=o[l].startsWith("  ")?2:o[l].startsWith("	")?1:0;l===0&&(s-=a),i-=a,o[l]=o[l].slice(a)}return[e.slice(0,r)+o.join(`
`)+e.slice(n),s,i]},nr=e=>{let t,n;const r=d=>{t=d,typeof e.ref=="function"&&e.ref(d)},o=d=>{!e.autoresize||!n||(n.value=d.value,n.style.width=`${d.clientWidth}px`,d.style.height=n.scrollHeight+"px")};Z(()=>{e.autoresize&&o(t)});const s=d=>{if(!(e.onKeyDown&&e.onKeyDown(d))){switch(d.key){case"Tab":{d.preventDefault();const u=d.currentTarget,h=(d.shiftKey?Oi:Li)(u.value,u.selectionStart,u.selectionEnd);u.value=h[0],u.selectionStart=h[1],u.selectionEnd=h[2]}break;case"Enter":{d.preventDefault();const u=d.currentTarget,h=u.selectionStart,f=u.value,w=/[ \t]*/y;w.lastIndex=qt(f,h-1);const k=w.exec(f)?.[0]??"";u.value=f.slice(0,h)+`
`+k+f.slice(u.selectionEnd),u.selectionStart=u.selectionEnd=h+1+k.length}break}o(d.target)}},i=d=>{e.onInput&&e.onInput(d)},l=d=>{e.onChange&&e.onChange(d)},a=d=>{o(d.currentTarget)};return(()=>{const d=Pi(),u=d.firstChild,h=u.nextSibling;u.$$keydown=s,u.$$input=i,u.addEventListener("change",l),u.addEventListener("focus",a),F(r,u);const f=n;return typeof f=="function"?F(f,h):n=h,C(w=>{const k=e.autofocus,W=e.disabled,V=`form-control ${e.class??""}`,X=e.placeholder,L=`form-control abs-lt ${e.class??""} code-area-hidden no-pointer-events no-user-select`;return k!==w._v$&&(u.autofocus=w._v$=k),W!==w._v$2&&(u.disabled=w._v$2=W),V!==w._v$3&&K(u,w._v$3=V),X!==w._v$4&&Q(u,"placeholder",w._v$4=X),L!==w._v$5&&K(h,w._v$5=L),w},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),C(()=>u.value=e.value),d})()};q(["input","keydown"]);const zi=y("<button class=suggest>"),Ri=y("<div class=suggests>"),Hi=y("<div class=hrm-edit-overlay>"),Fi=e=>(()=>{const t=zi();return t.$$click=()=>alert(e.label),g(t,()=>e.label),t})(),ji=e=>(()=>{const t=Ri();return g(t,c(Y,{get each(){return e.items},children:n=>c(Fi,n)})),t})(),Ki=e=>{let t,n;const r=o=>{if(n){if(o.key==="Enter"){let s=o.ctrlKey||o.metaKey;if(s||=!Go(n.value),s)return e.g.applyEditNode(n?n.value:""),!0}return!1}};return pr(()=>{if(t){const o=["mousedown","touchstart","pointerdown","wheel"],s=i=>i.stopPropagation();for(const i of o)t.addEventListener(i,s);n?.click(),e.g.fitTransformFor(t)}}),(()=>{const o=Hi(),s=t;return typeof s=="function"?F(s,o):t=o,g(o,c(U,{class:"shadow-1 w-fit mb-1",get children(){return[c($,{get color(){return p.success},onClick:()=>e.g.applyEditNode(n?n.value:""),get children(){return c(Hs,{})}}),c($,{get color(){return p.warning},onClick:()=>{n.value="",n.focus()},get children(){return c(Nt,{})}}),c($,{get color(){return p.danger},onClick:()=>e.g.cancelEditNode(),get children(){return c(Fs,{})}})]}}),null),g(o,c(nr,{ref(i){const l=n;typeof l=="function"?l(i):n=i},autofocus:!0,autoresize:!0,class:"shadow-1",placeholder:"[NODE DATA]",get value(){return Jo(e.node.x)},onKeyDown:r}),null),g(o,c(ji,{items:[{label:"beta",text:"beta"},{label:"gamma",text:"gamma"},{label:"delta",text:"delta"},{label:"epsilon",text:"epsilon"},{label:"omega",text:"omega"},{label:"alpha",text:"alpha"},{label:"{",text:"{"}]}),null),C(i=>Ee(o,{...e.g.nodeColorBd(e.color),transform:`translate(${e.node.pos.x-16}px, ${e.node.pos.y-16}px)`},i)),o})()},Ui=e=>c(A,{get when(){return e.g.editingNode[0]()},get children(){return c(Ki,{get g(){return e.g},get color(){return e.g.editingNode[0]().color},get node(){return e.g.editingNode[0]().node}})}});q(["click"]);const Wi=e=>[e.ctrlKey?"C":"",e.altKey?"A":"",e.shiftKey?"S":"",e.metaKey?"M":"",e.key].join("-"),Gi=y('<div class="hrm-container abs-parent"tabindex=0>'),Yi=e=>{const t=new Bi(e.initialNodes);e.stateBox&&(e.stateBox[0]=t);const n=()=>{t.rootRef&&(t.rootRef.scrollLeft!=0||t.rootRef.scrollTop!=0)&&t.rootRef.scrollTo(0,0)},r=s=>{if(s.target!==t.rootRef)return;const i=Wi(s);console.log(i),t.handleKey(i)},o=s=>{s.currentTarget.focus()};return(()=>{const s=Gi();s.addEventListener("pointerenter",o),s.$$keydown=r,s.addEventListener("scroll",n);const i=t.rootRef;return typeof i=="function"?F(i,s):t.rootRef=s,g(s,c(ri,{g:t,onClick:()=>t.deselectAll(),onDoubleClick:l=>{const a=t.viewPos(l.x,l.y),d=t.addEmptyNode(a);setTimeout(()=>{t.editNode(d)},100)},onLongPress:()=>{E("[Hrm] Long press")},get children(){return[c(Si,{g:t}),c(Ai,{g:t}),c(Ui,{g:t})]}})),s})()};q(["keydown"]);const qi=y('<div class="editor-root-hrm abs-parent">'),Vi=e=>(()=>{const t=qi();return g(t,c(Yi,{get initialNodes(){return Mo()},get stateBox(){return e.stateBox}})),t})(),Xi=y("<div class=dropdown><button></button><div>"),Zi=y("<hr>"),Vt=e=>{const[t,n]=b(!1);return(()=>{const r=Xi(),o=r.firstChild,s=o.nextSibling;return o.$$click=()=>{n(i=>!i)},g(o,()=>e.children),s.$$click=()=>{n(!1)},g(s,c(Y,{get each(){return e.list},children:(i,l)=>[c(A,{get when(){return l()>0},get children(){return Zi()}}),c(Y,{each:i,children:a=>a})]})),C(i=>{const l=`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`,a=`dropdown-menu ${t()?"visible":"hidden"}`;return l!==i._v$&&K(o,i._v$=l),a!==i._v$2&&K(s,i._v$2=a),i},{_v$:void 0,_v$2:void 0}),r})()};q(["click"]);const Ji=y("<div>"),Ce=e=>(()=>{const t=Ji();return g(t,()=>e.children),C(()=>K(t,`form-control btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();const Qi=y('<div class=m-modal><div class="m-modal-content m-modal-content-stick-to-center">'),rr=e=>{const t=n=>{e.onClose&&n.target===n.currentTarget&&e.onClose()};return(()=>{const n=Qi(),r=n.firstChild;return n.$$click=t,g(r,()=>e.children),C(()=>r.classList.toggle("h-100",!!e.fullHeight)),n})()};q(["click"]);const vt=y("<h3> <!> "),el=e=>c(rr,{get onClose(){return e.onClose},get children(){return[c(U,{get children(){return[c(Ce,{get color(){return p.primary},get children(){return c(Qn,{})}}),c(he,{class:"flex-1",readonly:!0,value:"Graph Tools"}),c($,{get color(){return p.danger},get onClick(){return e.onClose},get children(){return c(tr,{})}})]}}),(()=>{const t=vt(),n=t.firstChild,r=n.nextSibling;return r.nextSibling,g(t,()=>m("graphTools.layout"),r),t})(),c($,{get color(){return p.primary},get children(){return[" ",S(()=>m("graphTools.tool.layoutDefault"))," "]}}),c($,{get color(){return p.secondary},get children(){return[" ",S(()=>m("graphTools.tool.layoutLinear"))," "]}}),(()=>{const t=vt(),n=t.firstChild,r=n.nextSibling;return r.nextSibling,g(t,()=>m("graphTools.optimization"),r),t})(),c($,{get color(){return p.warning},get children(){return[" ",S(()=>m("graphTools.tool.selectUnreachables"))," "]}}),(()=>{const t=vt(),n=t.firstChild,r=n.nextSibling;return r.nextSibling,g(t,()=>m("graphTools.validate"),r),t})(),c($,{get color(){return p.danger},get children(){return[" ",S(()=>m("graphTools.tool.validateGraph"))," "]}})]}});var _=(e=>(e[e.NotFound=0]="NotFound",e[e.File=1]="File",e[e.Directory=2]="Directory",e))(_||{});const _n={0:"NotFound",1:"File",2:"Directory"},tl={type:0,path:"",size:0,lastModified:new Date};class nl extends Error{constructor(t,n,r){super(`Storage item type mismatch: ${t}, (${n.map(o=>_n[o]).join(", ")}) !== ${_n[r]}`)}}const ye=(e,t,n)=>{if(!t.includes(n))throw new nl(e,t,n)},rl="kitl-idbfs",ol=1,Tt="meta",Lt="data",sl={path:"",type:_.NotFound,size:0,lastModified:0},il=["get","getAll","put","delete","clear"],Sn=(e,t)=>Object.fromEntries(il.map(n=>[n,(...r)=>new Promise((o,s)=>{const i=e.objectStore(t)[n](...r);i.onsuccess=()=>o(i.result),i.onerror=()=>s(i.error)})])),te=e=>{const[t,n]=Kt(e);if(!es(n))throw new Error("Path must be absolute");return[t,n]},ll=e=>{if(!e.readwrite)throw new Error("Failed to process: IDBFS is created as readonly mode.")},Me=async(e,t)=>{const[n]=te(t);try{return await e.meta.get(n)}catch{return sl}},we=async(e,t,n,r)=>{console.log("rawWrite",n,t,r.byteLength),await e.meta.put({path:n,type:t,size:r.byteLength,lastModified:Date.now()}),await e.data.put({path:n,data:r})},Xt=async e=>{await e.meta.clear(),await e.data.clear(),await we(e,_.Directory,"/",Pe(""))},lt=async(e,t)=>{try{return(await Me(e,t)).type}catch{return _.NotFound}},cl=async(e,t)=>{ll(e);const[,n]=te(t);let r=n.length;for(;r>=1;--r){const i=Ae(n.slice(0,r)),l=await lt(e,i);if(l===_.Directory)break;ye(i,[_.NotFound],l)}const o=Ae(n.slice(0,r)),s=await ct(e,o);for(s.push(n[r]),await we(e,_.Directory,o,Pe(s.join(`
`))),++r;r<=n.length;++r){const i=Ae(n.slice(0,r)),l=r<n.length?Pe(n[r]):new Uint8Array(0);await we(e,_.Directory,i,l)}},ct=async(e,t)=>{const[n]=te(t),r=await Me(e,n);ye(n,[_.Directory],r.type);const o=await e.data.get(n);return io(o.data).split(`
`).map(s=>s.trim()).filter(s=>s.length>0)},al=async(e,t)=>{const n=await ct(e,t),r=[];for(const o of n){const[s]=Kt(`${t}/${o}`),i=await Me(e,s);r.push({...i,lastModified:new Date(i.lastModified)})}return r},or=async(e,t,n)=>{const[r]=te(t),o=await Me(e,r);ye(r,[_.Directory],o.type);const s=new Set(await ct(e,r));s.add(n),await we(e,_.Directory,r,Pe(Array.from(s).join(`
`)))},dl=async(e,t,n)=>{const[r,o]=te(t),s=await lt(e,t);return ye(t,[_.File,_.NotFound],s),s===_.NotFound&&await or(e,t+"/..",o[o.length-1]),await we(e,_.File,r,n),await Me(e,t)},ul=async(e,t)=>{const[n]=te(t),r=await lt(e,n);return ye(n,[_.File],r),(await e.data.get(n)).data},sr=async(e,t)=>{const[n]=te(t),r=n+"/";return(await e.meta.getAll()).map(s=>s.path).filter(s=>s===t||s.startsWith(r))},ir=async(e,t)=>{const[n,r]=te(t);if(n.length<=1)return await Xt(e);const o=Ae(r.slice(0,r.length-1)),s=await e.meta.get(o);ye(n,[_.Directory],s.type),(await sr(e,n)).forEach(l=>{e.meta.delete(l),e.data.delete(l)});const i=await ct(e,o);await we(e,_.Directory,o,Pe(i.filter(l=>l!==r[r.length-1]).join(`
`)))},lr=async(e,t,n)=>{const[r]=te(t),[o]=te(n);if(o===r||o.startsWith(r+"/"))throw new Error("Cannot copy to a subdirectory");const s=(await sr(e,r)).map(i=>i.slice(r.length));for(const i of s){const l=r+i,a=o+i,d=await e.meta.get(l),u=await e.data.get(l);await we(e,d.type,a,u.data)}n!=="/"&&await or(e,o+"/..",o.split("/").pop())},hl=async(e,t,n)=>{await lr(e,t,n),await ir(e,t)},fl=()=>new Promise((e,t)=>{const n=indexedDB.open(rl,ol);n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error),n.onupgradeneeded=r=>{const o=n.result,s=i=>o.createObjectStore(i,{keyPath:"path"});r.oldVersion===0?(s(Tt),s(Lt),e(o)):t(n.error)}}),J=async e=>{const t=await(await fl()).transaction([Tt,Lt],e?"readwrite":"readonly");return{readwrite:!!e,meta:Sn(t,Tt),data:Sn(t,Lt)}},gl=async()=>{const e=await J(!0);try{const t=await lt(e,"/");ye("/",[_.Directory],t)}catch{console.warn("IDBFS is broken. Format it."),await Xt(e)}},En=e=>({...e,lastModified:new Date(e.lastModified)});class ml{constructor(){gl()}ping(){return 1}execute(t){return""}getExecutionState(t){return{}}async format(){const t=await J(!0);return await Xt(t)}async stat(t){const n=await J(!1);return En(await Me(n,t))}async mkdir(t){const n=await J(!0);await cl(n,t)}async list(t){const n=await J(!1);return await al(n,t)}async read(t){const n=await J(!1);return await ul(n,t)}async write(t,n){const r=await J(!0);return En(await dl(r,t,n))}async remove(t){const n=await J(!0);await ir(n,t)}async move(t,n){const r=await J(!0);await hl(r,t,n)}async copy(t,n){const r=await J(!0);await lr(r,t,n)}}class wl{local;clients;constructor(){this.local=new ml,this.clients=new Map([["local",this.local]])}parsePath(t){const[n,r]=Ut(t);return[this.clients.get(n),r]}async stat(t){const[n,r]=this.parsePath(t);return await n.stat(r)}async list(t){const[n,r]=this.parsePath(t);return await n.list(r)}async mkdir(t){const[n,r]=this.parsePath(t);return await n.mkdir(r)}async read(t){const[n,r]=this.parsePath(t);return await n.read(r)}async write(t,n){const[r,o]=this.parsePath(t);return await r.write(o,n)}async remove(t){const[n,r]=this.parsePath(t);return await n.remove(r)}async copy(t,n){const[r,o]=this.parsePath(t),[s,i]=this.parsePath(n);if(r===s)return await r.copy(o,i);switch((await r.stat(o)).type){case _.Directory:{await s.mkdir(i);const a=await r.list(o);for(const d of a){const u=Et(d.path);await this.copy(`${t}/${u}`,`${n}/${u}`)}}break;default:{const a=await r.read(o);await s.write(i,a)}}}async move(t,n){const[r,o]=this.parsePath(t),[s,i]=this.parsePath(n);if(r===s)return await r.move(o,i);this.copy(t,n),await r.remove(o)}}const j=new wl,yl=1024*128,cr=()=>({items:[],isCutted:!1}),pl=e=>({path:b(e),storageItem:b(),data:b(),ls:b(),copyState:b(cr()),uploads:b(new Set,{equals:!1})}),vl=e=>{confirm(m("fileBrowser.prompt.resetLocal"))&&(j.local.format(),De(e,"local:/"))},ar=async e=>{const t=e.path[0],n=await j.stat(t());e.storageItem[1](n)},Ot=async e=>{const t=e.path[0];if(e.storageItem[0]()?.type===_.Directory){const o=await j.list(t());o.sort((s,i)=>s.type===i.type?s.path.localeCompare(i.path):s.type===_.Directory?-1:1),re(()=>{e.ls[1](o),e.data[1](new Uint8Array)});return}const r=await j.read(t());re(()=>{e.data[1](r),e.ls[1]([])})},De=(e,t)=>{const[n,r]=qn(t);t=`${n}:${r}`,re(()=>{e.path[1](t),e.storageItem[1](void 0),e.data[1](void 0),e.ls[1](void 0)}),ar(e).catch(()=>{console.warn("Failed to load meta ",t),e.storageItem[1](tl)})},$l=e=>{const t=e.path[0]();De(e,t+"/..")},pe=e=>{const t=e.path[0]();De(e,t)},kl=e=>{const t=e.storageItem[0]();return t&&t.size>yl},bl=async(e,t)=>{const n=e.path[0];await j.mkdir(n()+"/"+t)},xl=async(e,t)=>{const n=e.path[0];await j.write(n()+"/"+t,new Uint8Array)},Cl=(e,t,n)=>{e.uploads[1](o=>o.add(t));const r=new FileReader;r.onload=()=>{j.write(t,new Uint8Array(r.result)).then(()=>{e.uploads[1](o=>(o.delete(t),De(e,e.path[0]()),E(`${m("fileBrowser.toast.uploadSuccess")}: ${t}`,{type:D.Success}),o))}).catch(()=>{e.uploads[1](o=>(o.delete(t),o)),E(`${m("fileBrowser.toast.uploadError")}: ${t}`,{type:D.Error})})},r.onerror=()=>{e.uploads[1](o=>(o.delete(t),o)),alert(`${m("fileBrowser.toast.uploadReadError")}: ${t}`)},r.readAsArrayBuffer(n)},_l=(e,t,n)=>{e.ls[1](r=>r&&r.map(o=>(o.path===t&&(o.selected=n),o)))},_e=e=>{const t=e.path[0]().split(":")[0],n=e.ls[0]();return n?n.filter(r=>r.selected).map(r=>`${t}:${r.path}`):[]};class ze extends Error{constructor(){super("Nothing selected")}}const Sl=e=>{if(_e(e).length===0)throw new ze;e.copyState[1]({items:_e(e),isCutted:!1})},El=e=>{if(_e(e).length===0)throw new ze;e.copyState[1]({items:_e(e),isCutted:!0})},Ml=async e=>{const t=e.path[0];if(!e.storageItem[0]())return;const r=t(),o=e.copyState[0]();for(const s of o.items){const i=r+"/"+s.split("/").pop();console.log("Paste",s,i),o.isCutted?await j.move(s,i):await j.copy(s,i)}o.isCutted&&e.copyState[1](cr())},Dl=async e=>{if(confirm(m("fileBrowser.prompt.deleteSelected")))for(const t of _e(e))await j.remove(t)},Bl=async(e,t)=>{await j.move(e,e+"/../"+t)},Nl=async e=>{const t=_e(e);if(t.length<1)throw new ze;for(const n of t){const r=n.split("/").pop();if(!r)return;const o=`${m("fileBrowser.prompt.renameSelected")}:
${n}`,s=prompt(o,r);if(!s)return;await Bl(n,s)}pe(e)},dr=async(e,t)=>{const n=e.path[0](),r=e.storageItem[0]();if(!r)return;const o=await j.stat(n);o&&((r.lastModified<o.lastModified||r.lastModified>o.lastModified||r.size!==o.size)&&!confirm(m("fileBrowser.prompt.saveConflict"))||(await j.write(n,new TextEncoder().encode(t)),e.storageItem[1](await j.stat(n)),E(m("fileBrowser.toast.saved"),{type:D.Success})))},Mn=y("<a>&nbsp; "),Il=e=>{const t=()=>[[(()=>{const o=Mn(),s=o.firstChild;return o.$$click=()=>pe(e.state),g(o,c(Os,{}),s),g(o,()=>m("fileBrowser.menu.refresh"),null),o})()],[(()=>{const o=Mn(),s=o.firstChild;return o.$$click=()=>vl(e.state),g(o,c(js,{}),s),g(o,()=>m("fileBrowser.menu.formatLocalStorage"),null),o})()]];let n;const r=()=>{De(e.state,n.value)};return c(U,{class:"sticky-top shadow-1 mb-2",get children(){return[c(Vt,{get color(){return p.primary},get list(){return t()},get children(){return c(er,{})}}),c($,{get color(){return p.secondary},onClick:()=>$l(e.state),get children(){return c(Ps,{})}}),c(he,{ref(o){const s=n;typeof s=="function"?s(o):n=o},class:"flex-1",get value(){return e.state.path[0]()},onBlur:r,onKeyDown:o=>{o.key==="Enter"&&n.blur()}}),c($,{get color(){return p.danger},get onClick(){return e.state.onClose},get children(){return c(tr,{})}})]}})};q(["click"]);const Al=e=>{const t=" KMGTPE";let n=0;if(e<1024)return`${e} B`;for(;e>=1024&&n<t.length;)e/=1024,++n;return`${e.toFixed(2)} ${t[n]}B`},Pl=y("<input type=file class=d-none>"),Tl=e=>{let t,n;const r=i=>{n=i,typeof e.ref=="function"&&e.ref(i)},o=i=>{e.onFiles&&e.onFiles(i.target.files),t.value=n.value};return c(U,{get class(){return e.class},onDrop:i=>{i.preventDefault(),i.stopPropagation(),e.onFiles&&e.onFiles(i.dataTransfer.files)},get children(){return[c(he,{class:"flex-1",ref(i){const l=t;typeof l=="function"?l(i):t=i},value:"",get placeholder(){return e.placeholder},onClick:()=>{n?.click()}}),(()=>{const i=Pl();return i.addEventListener("change",o),F(r,i),i})(),c($,{get color(){return p.primary},onClick:()=>{n?.click()},children:"..."})]}})},Ll=y('<div class="checkbox no-user-select cursor-pointer"><label><input type=checkbox>'),Ol=e=>{const t=n=>{const r=n.target;e.onChange?.(r.checked)};return(()=>{const n=Ll(),r=n.firstChild,o=r.firstChild;o.addEventListener("change",t);const s=e.ref;return typeof s=="function"?F(s,o):e.ref=o,g(r,()=>e.children,null),C(()=>o.checked=e.value),n})()},Ne=y("<a>&nbsp; "),zl=y("<tr><td></td><td class=word-break-all><a>&nbsp;</a></td><td class=text-right><br>"),Rl=y("<table class=w-100><thead><tr><th></th><th></th><th class=text-right><br> </th></tr></thead><tbody>"),Hl=y("<div>"),Ue=e=>()=>{try{Sl(e),E(m("fileBrowser.toast.copySuccess"),{type:D.Success})}catch(t){if(!(t instanceof ze))throw t;E(m("fileBrowser.toast.nothingSelected"),{type:D.Error})}},Dn=e=>()=>{try{El(e),E(m("fileBrowser.toast.cutSuccess"),{type:D.Success}),pe(e)}catch(t){if(!(t instanceof ze))throw t;E(m("fileBrowser.toast.nothingSelected"),{type:D.Error})}},Fl=e=>async()=>{try{await Ml(e),E(m("fileBrowser.toast.pasteSuccess"),{type:D.Success})}catch(t){E(m("fileBrowser.toast.pasteError"),{type:D.Error}),console.warn("Failed to paste files",t);return}pe(e)},jl=e=>async()=>{try{await Dl(e),E(m("fileBrowser.toast.deleteSuccess"),{type:D.Success})}catch{E(m("fileBrowser.toast.deleteError"),{type:D.Error})}pe(e)},Zt=(e,t)=>{t=t??"new";const n=e.ls[0]();if(n===void 0)return t;const r=new Set(n.map(i=>{const l=jt(i.path);return l[l.length-1]}));let o=t,s=0;for(;r.has(o);)o=ns(t,s++);return o},Kl=e=>async()=>{try{await xl(e,Zt(e)),E(m("fileBrowser.toast.newFileSuccess"),{type:D.Success})}catch(t){E(m("fileBrowser.toast.newFileError"),{type:D.Error}),console.warn("Failed to create new file",t)}pe(e)},Ul=e=>async()=>{try{await bl(e,Zt(e)),E(m("fileBrowser.toast.newFolderSuccess"),{type:D.Success})}catch(t){E(m("fileBrowser.toast.newFolderError"),{type:D.Error}),console.warn("Failed to create new file",t)}pe(e)},Wl=e=>async t=>{for(const n of t){if(n===void 0)return;const r=Zt(e,n.name),o=`${e.path[0]()}/${r}`;Cl(e,o,n),E(m("fileBrowser.toast.uploadingFiles"),{type:D.Progress})}},Gl=e=>c(U,{class:"my-1",get children(){return[c(Vt,{get color(){return p.primary},get list(){return[[(()=>{const t=Ne(),n=t.firstChild;return t.$$click=()=>Nl(e.state),g(t,c(Gt,{}),n),g(t,()=>m("fileBrowser.menu.rename"),null),t})()],[(()=>{const t=Ne(),n=t.firstChild;return t.$$click=()=>Ue(e.state),g(t,c(At,{}),n),g(t,()=>m("fileBrowser.menu.copy"),null),t})(),(()=>{const t=Ne(),n=t.firstChild;return t.$$click=()=>Dn(e.state),g(t,c($n,{}),n),g(t,()=>m("fileBrowser.menu.cut"),null),t})(),(()=>{const t=Ne(),n=t.firstChild;return t.$$click=()=>Ue(e.state),g(t,c(It,{}),n),g(t,()=>m("fileBrowser.menu.paste"),null),t})()],[(()=>{const t=Ne(),n=t.firstChild;return t.$$click=()=>Ue(e.state),g(t,c(Pt,{}),n),g(t,()=>m("fileBrowser.menu.delete"),null),t})()]]},get children(){return c(er,{})}}),c($,{get color(){return p.secondary},get onClick(){return Fl(e.state)},class:"flex-1",get children(){return c(It,{})}}),c($,{get color(){return p.secondary},get onClick(){return Ue(e.state)},class:"flex-1",get children(){return c(At,{})}}),c($,{get color(){return p.warning},get onClick(){return Dn(e.state)},class:"flex-1",get children(){return c($n,{})}}),c($,{get color(){return p.danger},get onClick(){return jl(e.state)},class:"flex-1",get children(){return c(Pt,{})}})]}}),Yl=e=>[c(U,{class:"my-1",get children(){return[c($,{get color(){return p.primary},get onClick(){return Ul(e.state)},class:"flex-1",get children(){return[c(Is,{}),"  ",S(()=>m("fileBrowser.folder"))]}}),c($,{get color(){return p.secondary},get onClick(){return Kl(e.state)},class:"flex-1",get children(){return[c(Bs,{}),"  ",S(()=>m("fileBrowser.file"))]}})]}}),c(Tl,{get placeholder(){return m("fileBrowser.uploadPlaceholder")},get onFiles(){return Wl(e.state)}})],ql=e=>{const t=()=>{const r=jt(e.meta.path);return r[r.length-1]},n=()=>{switch(e.meta.type){case _.Directory:return c(Ts,{});case _.File:return c(Ns,{});default:return c(Ls,{})}};return(()=>{const r=zl(),o=r.firstChild,s=o.nextSibling,i=s.firstChild,l=i.firstChild,a=s.nextSibling,d=a.firstChild;return g(o,c(Ol,{onChange:u=>{_l(e.state,e.meta.path,u)}})),i.$$click=()=>{De(e.state,`${e.host}:${e.meta.path}`)},g(i,n,l),g(i,t,null),g(a,()=>Al(e.meta.size),d),g(a,()=>ss(e.meta.lastModified),null),r})()},Vl=e=>{const t=()=>{const[r]=Ut(e.state.path[0]());return r},n=()=>{const r=e.state.ls[0]();return r===void 0||r.length===0};return Z(()=>{Ot(e.state)}),[c(Gl,e),c(A,{get when(){return!n()},get fallback(){return(()=>{const r=Hl();return g(r,()=>m("fileBrowser.directory.empty")),r})()},get children(){const r=Rl(),o=r.firstChild,s=o.firstChild,i=s.firstChild,l=i.nextSibling,a=l.nextSibling,d=a.firstChild;d.nextSibling;const u=o.nextSibling;return g(l,()=>m("fileBrowser.name")),g(a,()=>m("fileBrowser.size"),d),g(a,()=>m("fileBrowser.modified"),null),g(u,c(Y,{get each(){return e.state.ls[0]()},children:h=>c(ql,{get state(){return e.state},get host(){return t()},meta:h})})),r}}),c(Yl,{get state(){return e.state}})]};q(["click"]);const Xl=y('<div class="m-2 text-center em-2">'),ur=e=>(()=>{const t=Xl();return g(t,c(Un,{}),null),g(t,()=>e.children,null),t})(),Zl=y("<img class=browser-image>"),Jl=e=>{const[t,n]=b("");Z(()=>{const o=e.state.data[0]();o!==void 0&&lo(o).then(n)});const r=()=>e.state.data[0]()===void 0?"":`data:image;base64,${t()}`;return(()=>{const o=Zl();return C(()=>Q(o,"src",r())),o})()},Ql=e=>{let t;const n=()=>{const o=e.state.data[0]();return o?new TextDecoder("utf-8").decode(o):"<NOT LOADED>"};return[c(()=>c(U,{class:"my-1",get children(){return c($,{get color(){return p.primary},onClick:()=>dr(e.state,t.value),class:"flex-1",get children(){return[c(Ks,{})," ",S(()=>m("fileBrowser.menu.save"))]}})}}),{}),c(nr,{ref(o){const s=t;typeof s=="function"?s(o):t=o},autoresize:!0,get value(){return n()}})]},ec="0.0",We=["value","tag","type","alias"],tc={value:()=>({type:"value",value:[]}),tag:()=>({type:"tag",elems:[]}),type:()=>({type:"type",unions:[]}),alias:()=>({type:"alias",origin:""})},nc={value:e=>({type:"value",value:Ie(Eo)(e.value)}),tag:e=>({type:"tag",elems:Ie(ee)(e.elems)}),type:e=>({type:"type",unions:Ie(ee)(e.unions)}),alias:e=>({type:"alias",origin:ee(e.origin)})},rc=e=>{const t={};for(const n in e)t[n]=nc[e[n].type](e[n]);return t},oc=e=>({version:ee(e.version),defs:rc(e.defs)}),sc=e=>({version:ec,defs:e}),Bn='()[]{},;\\@#"',hr=new Map;for(let e=0;e<Bn.length;e++)hr.set(Bn[e],!0);const ic=e=>{let t="";for(let n=0;n<e.length;n++)hr.has(e[n])||(t+=e[n]);return t},lc=e=>{let t="",n=!1,r=0;for(;r<e.length&&(e.charCodeAt(r)<=32||e[r]==="_");)r+=1;for(;r<e.length;r++)e.charCodeAt(r)<=32||e[r]==="_"?n||(n=!0):(n&&(t+="_"),t+=e[r],n=!1);return t},cc=e=>ic(lc(e)),ac=e=>e.replace(/_/g," "),at=e=>ac(cc(e)),dc=y("<hr>"),uc=y("<div>"),Re={value:p.primary,tag:p.success,type:p.warning,alias:p.secondary},hc=e=>{let t="",n=sc({});const r=e.data[0]();if(r!==void 0&&r.byteLength!==0)try{const d=JSON.parse(new TextDecoder("utf-8").decode(r));n=oc(d)}catch{E(m("fileBrowser.toast.invalidKitl"),{type:D.Error}),t=m("fileBrowser.toast.invalidKitl")}const[o,s]=b(!1),[i,l]=b(n),a=d=>(s(!0),l(d));return{modified:[o,s],errorMessage:b(t),root:[i,a]}},fc=e=>c(A,{get when(){return e.errorMessage},get children(){return e.errorMessage[0]()}}),dt=e=>{let t;const n=b(!1),r=()=>{e.contents.root[1](s=>{const i={...s.defs};return delete i[e.name],{...s,defs:i}})},o=()=>{const s=at(t?.value??"");if(console.log(s),s===e.name){n[1](!1);return}if(!s){E(m("fileBrowser.toast.invalidDefCreationName"),{type:D.Error});return}if(e.contents.root[0]().defs[s]){E(m("fileBrowser.toast.defAlreadyExists"),{type:D.Error});return}e.contents.root[1](i=>{const l={...i.defs};return l[s]=l[e.name],delete l[e.name],{...i,defs:l}}),n[1](!1)};return c(U,{class:"my-1",get children(){return[c(Ce,{get color(){return Re[e.type]},get children(){return m(`defType.${e.type}`)}}),c(he,{class:"flex-1",get value(){return e.name},get readonly(){return!n[0]()},ref(s){const i=t;typeof i=="function"?i(s):t=s},onKeyDown:s=>{s.key==="Enter"&&o()},onClick:()=>{n[1](!0)}}),c(A,{get when(){return e.label!==void 0},get children(){return c(Ce,{get color(){return p.secondary},get children(){return e.label}})}}),c(A,{get when(){return n[0]()},get fallback(){return c($,{get color(){return p.danger},onClick:r,get children(){return c(Pt,{})}})},get children(){return c($,{get color(){return p.primary},onClick:o,get children(){return c(it,{})}})}}),c($,{get color(){return p.secondary},get onClick(){return e.toggle},get children(){return c(A,{get when(){return e.openState()},get fallback(){return c(Gt,{})},get children(){return c(Ss,{})}})}})]}})},gc=e=>c(dt,{type:"value",get name(){return e.name},get contents(){return e.contents},openState:()=>!1,toggle:()=>{}}),mc=e=>{const t=()=>e.def;let n;const[r,o]=b(!1),s=()=>{const l=(n?.value??"").split(",").map(at).filter(a=>a);e.contents.root[1](a=>{const d={...a.defs};return d[e.name]={type:"tag",elems:l},{...a,defs:d}})};return[c(dt,{type:"tag",get name(){return e.name},get contents(){return e.contents},openState:r,toggle:()=>o(i=>!i),get label(){return""+t().elems.length}}),c(A,{get when(){return r()},get children(){return c(U,{class:"ml-3 my-1",get children(){return[c(Ce,{get color(){return Re[e.def.type]},get children(){return c(Wt,{})}}),c(he,{class:"flex-1",get value(){return t().elems.join(",")},ref(i){const l=n;typeof l=="function"?l(i):n=i}}),c($,{get color(){return p.primary},onClick:s,get children(){return c(it,{})}})]}})}})]},wc=e=>{const t=()=>e.def;let n;const[r,o]=b(!1),s=()=>{const l=(n?.value??"").split(",").map(at).filter(a=>a);e.contents.root[1](a=>{const d={...a.defs};return d[e.name]={type:"type",unions:l},{...a,defs:d}})};return[c(dt,{type:"type",get name(){return e.name},get contents(){return e.contents},openState:r,toggle:()=>o(i=>!i),get label(){return""+t().unions.length}}),c(A,{get when(){return r()},get children(){return c(U,{class:"ml-3 my-1",get children(){return[c(Ce,{get color(){return Re[e.def.type]},get children(){return c(Wt,{})}}),c(he,{class:"flex-1",get value(){return t().unions.join(",")},ref(i){const l=n;typeof l=="function"?l(i):n=i}}),c($,{get color(){return p.primary},onClick:s,get children(){return c(it,{})}})]}})}})]},yc=e=>{const t=()=>e.def;let n;const[r,o]=b(!1),s=()=>{const i=n?.value;if(!i){E(m("fileBrowser.toast.invalidDefCreationName"),{type:D.Error});return}e.contents.root[1](l=>{const a={...l.defs};return a[e.name]={type:"alias",origin:i},{...l,defs:a}})};return[c(dt,{type:"alias",get name(){return e.name},get contents(){return e.contents},openState:r,toggle:()=>o(i=>!i)}),c(A,{get when(){return r()},get children(){return c(U,{class:"ml-3 my-1",get children(){return[c(Ce,{get color(){return Re[e.def.type]},get children(){return c(Wt,{})}}),c(he,{class:"flex-1",get value(){return t().origin},ref(i){const l=n;typeof l=="function"?l(i):n=i}}),c($,{get color(){return p.primary},onClick:s,get children(){return c(it,{})}})]}})}})]},pc={type:wc,tag:mc,value:gc,alias:yc},vc=e=>{const t=hc(e.state),n=()=>{const s=Object.entries(t.root[0]().defs);return s.sort((i,l)=>{const[a]=i,[d]=l;return a.localeCompare(d)}),s},r=()=>{const s=async()=>{const i=JSON.stringify(t.root[0]());await dr(e.state,i),t.modified[1](!1)};return c(U,{class:"my-1",get children(){return c($,{get color(){return t.modified[0]()?p.primary:p.secondary},class:"flex-1",onClick:s,get disabled(){return!t.modified[0]()},get children(){return[c(Ms,{})," ",S(()=>m("fileBrowser.menu.save"))]}})}})},o=()=>{let s;const[i,l]=b(0),a=()=>{l((i()+1)%We.length)},d=()=>{const u=tc[We[i()]](),h=at(s?.value??"");if(!h){E(m("fileBrowser.toast.invalidDefCreationName"),{type:D.Error});return}if(t.root[0]().defs[h]){E(m("fileBrowser.toast.defAlreadyExists"),{type:D.Error});return}t.root[1](f=>({...f,defs:{...f.defs,[h]:u}})),s.value=""};return c(U,{class:"my-1",get children(){return[c($,{get color(){return Re[We[i()]]},onClick:a,get children(){return m(`defType.${We[i()]}`)}}),c(he,{class:"flex-1",placeholder:"Name",ref(u){const h=s;typeof h=="function"?h(u):s=u},onKeyDown:u=>{u.key==="Enter"&&d()},value:""}),c($,{get color(){return p.primary},onClick:d,get children(){return c(Yt,{})}})]}})};return[c(fc,t),c(r,{}),c(o,{content:t}),dc(),(()=>{const s=uc();return g(s,c(Y,{get each(){return n()},children:i=>{const[l,a]=i;return c(st,{get component(){return pc[a.type]},get state(){return e.state},contents:t,name:l,def:a})}})),s})()]},$c=y('<div class="w-100 text-center"><br>(<!> bytes).<br>'),kc=new Map([[qe.Unknown,Ql],[qe.Kitl,vc],[qe.Image,Jl]]),bc=e=>{const t=kl(e.state),[n,r]=b(!t);t||Ot(e.state);const o=async()=>{r(!0),Ot(e.state)},s=()=>ts(Et(e.state.path[0]()))[1],i=()=>os(s());return c(zt,{get children(){return[c(ae,{get when(){return!n()},get children(){const l=$c(),a=l.firstChild,d=a.nextSibling,u=d.nextSibling;return u.nextSibling.nextSibling,g(l,()=>m("fileBrowser.fileTooLarge.message"),a),g(l,()=>e.state.storageItem[0]().size,u),g(l,c($,{get color(){return p.primary},onClick:o,get children(){return m("fileBrowser.fileTooLarge.show")}}),null),g(l,c($,{get color(){return p.secondary},onClick:async()=>{const f=e.state.storageItem[0]().path,w=Et(f),k=await j.read(f);co(w,k)},get children(){return[c(Ds,{})," ",S(()=>m("fileBrowser.fileTooLarge.download"))]}}),null),l}}),c(ae,{get when(){return e.state.data[0]()===void 0},get children(){return c(ur,{children:"Loading data..."})}}),c(ae,{when:!0,get children(){return c(st,{get component(){return kc.get(i())},get state(){return e.state}})}})]}})},xc=y("<div> Not Found "),Cc=new Map([[_.NotFound,()=>xc()],[_.Directory,Vl],[_.File,bc]]),_c=e=>c(A,{get when(){return e.state.storageItem[0]()!==void 0},get fallback(){return c(ur,{children:"Loading metadata..."})},get children(){return c(st,{get component(){return Cc.get(e.state.storageItem[0]().type)},get state(){return e.state}})}}),Sc=y("<h3> <!> <!> "),Ec=y("<ul>"),Mc=y("<li>"),Dc=e=>{const t=()=>e.state.uploads[0]();return c(A,{get when(){return t().size>0},get children(){return[(()=>{const n=Sc(),r=n.firstChild,o=r.nextSibling,s=o.nextSibling,i=s.nextSibling;return i.nextSibling,g(n,c(Un,{}),o),g(n,()=>m("fileBrowser.title.uploading"),i),n})(),(()=>{const n=Ec();return g(n,c(Y,{get each(){return Array.from(t())},children:r=>(()=>{const o=Mc();return g(o,r),o})()})),n})()]}})};const Bc=y("<div class=em-075>⚠️ "),Nc=e=>c(A,{get when(){return e.state.path[0]().startsWith("local:")},get children(){const t=Bc();return t.firstChild,g(t,()=>m("fileBrowser.warningLocal"),null),t}}),Ic=e=>{const t=pl("local:/");return t.onClose=e.onClose,ar(t),[c(Il,{state:t}),c(Nc,{state:t}),c(Dc,{state:t}),c(_c,{state:t})]},Ac=e=>c(rr,{get onClose(){return e.onClose},get children(){return c(Ic,{get onClose(){return e.onClose}})}});let ke=function(e){return e[e.None=0]="None",e[e.Browser=1]="Browser",e[e.Launch=2]="Launch",e[e.GraphTools=3]="GraphTools",e}({});class Pc{constructor(){const[t,n]=b({type:ke.None});this.state=t,this.setState=n}close(){this.setState(t=>({...t,type:ke.None}))}open(t){this.setState(n=>({...n,type:t}))}openGraphTools(){this.setState(t=>({...t,type:ke.GraphTools}))}}const Tc=e=>{const t=new Pc;return e.actionsBox&&(e.actionsBox[0]=t),c(zt,{get children(){return[c(ae,{get when(){return t.state().type===ke.GraphTools},get children(){return c(el,{onClose:()=>t.close(),get stateBox(){return e.stateBox}})}}),c(ae,{get when(){return t.state().type===ke.Browser},get children(){return c(Ac,{onClose:()=>t.close()})}})]}})},Lc=y("<a> <!> "),$t=y("<a> "),Oc=y("<div class=editor-root-hrm-header-container>");var Le=function(e){return e[e.Add=0]="Add",e[e.Edit=1]="Edit",e}(Le||{});const fr=()=>[{name:m("mainEditor.menu.addTools"),icon:c(Yt,{})},{name:m("mainEditor.menu.selectTools"),icon:c(Gt,{})}],zc=e=>fr()[e].icon,Rc=(e,t)=>{switch(e){case Le.Add:return[c($,{get color(){return p.warning},onClick:()=>t[0]?.undo(),get children(){return c(Cs,{})}}),c($,{get color(){return p.warning},onClick:()=>t[0]?.redo(),get children(){return c(_s,{})}}),c($,{get color(){return p.secondary},class:"flex-1",onClick:()=>t[0]?.addEmptyNode(),get children(){return c(Yt,{})}}),c($,{get color(){return p.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return c(Nt,{})}})];case Le.Edit:return[c($,{get color(){return p.warning},class:"flex-1",onClick:()=>t[0]?.deselectAll(),get children(){return c(Es,{})}}),c($,{get color(){return p.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return c(Rs,{})}}),c($,{get color(){return p.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return c(At,{})}}),c($,{get color(){return p.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return c(It,{})}}),c($,{get color(){return p.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return c(Nt,{})}})]}},Hc=(e,t)=>fr().map((n,r)=>(()=>{const o=Lc(),s=o.firstChild,i=s.nextSibling;return i.nextSibling,o.$$click=()=>{t(l=>({...l,toolSet:r})),e[0]&&(e[0].selectMode=r===Le.Edit)},g(o,()=>n.icon,i),g(o,()=>n.name,null),o})()),Fc=e=>{const[t,n]=b({toolSet:Le.Add}),r=()=>[Hc(e.stateBox,n),[(()=>{const o=$t(),s=o.firstChild;return o.$$click=()=>e.modalActionsBox?.[0]?.open(ke.Browser),g(o,c(As,{}),s),g(o,()=>m("mainEditor.menu.browser"),null),o})(),(()=>{const o=$t(),s=o.firstChild;return g(o,c(zs,{}),s),g(o,()=>m("mainEditor.menu.launch"),null),o})(),(()=>{const o=$t(),s=o.firstChild;return o.$$click=()=>e.modalActionsBox?.[0]?.openGraphTools(),g(o,c(Qn,{}),s),g(o,()=>m("mainEditor.menu.graphTools"),null),o})()]];return(()=>{const o=Oc();return g(o,c(U,{class:"editor-root-hrm-header shadow-2",get children(){return[c(Vt,{get color(){return p.primary},get list(){return r()},get children(){return zc(t().toolSet)}}),S(()=>Rc(t().toolSet,e.stateBox))]}})),o})()};q(["click"]);const jc=y("<div class=editor-root>"),Kc=()=>{const e=mn(),t=mn();return(()=>{const n=jc();return g(n,c(Vi,{stateBox:e}),null),g(n,c(Fc,{stateBox:e,modalActionsBox:t}),null),g(n,c(Tc,{actionsBox:t,stateBox:e}),null),n})()},Uc=()=>c(to,{get children(){return[c(as,{}),c(Kc,{})]}}),Wc=document.getElementById("root");zr(()=>c(Uc,{}),Wc);
