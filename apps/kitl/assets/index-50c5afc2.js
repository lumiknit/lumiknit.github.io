(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const cn=(e,t)=>e===t,_e=Symbol("solid-proxy"),an=Symbol("solid-track"),Se={equals:cn};let Pt=Ht;const X=1,Me=2,Lt={owned:null,cleanups:null,context:null,owner:null},He={};var C=null;let ze=null,$=null,A=null,Y=null,Te=0;function xe(e,t){const n=$,r=C,o=e.length===0,s=t===void 0?r:t,l=o?Lt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},i=o?e:()=>e(()=>T(()=>Le(l)));C=l,$=null;try{return ne(i,!0)}finally{$=n,C=r}}function x(e,t){t=t?Object.assign({},Se,t):Se;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=o=>(typeof o=="function"&&(o=o(n.value)),Ot(n,o));return[Bt.bind(n),r]}function ct(e,t,n){const r=Pe(e,t,!0,X);de(r)}function v(e,t,n){const r=Pe(e,t,!1,X);de(r)}function V(e,t,n){Pt=pn;const r=Pe(e,t,!1,X);(!n||!n.render)&&(r.user=!0),Y?Y.push(r):de(r)}function _(e,t,n){n=n?Object.assign({},Se,n):Se;const r=Pe(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,de(r),Bt.bind(r)}function dn(e){return e&&typeof e=="object"&&"then"in e}function un(e,t,n){let r,o,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,o=e,s=t||{}):(r=e,o=t,s=n||{});let l=null,i=He,c=!1,a="initialValue"in s,d=typeof r=="function"&&_(r);const h=new Set,[f,m]=(s.storage||x)(s.initialValue),[p,O]=x(void 0),[F,G]=x(void 0,{equals:!1}),[H,z]=x(a?"ready":"unresolved");function I(k,E,M,se){return l===k&&(l=null,se!==void 0&&(a=!0),(k===i||E===i)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(se,{value:E})),i=He,Z(E,M)),E}function Z(k,E){ne(()=>{E===void 0&&m(()=>k),z(E!==void 0?"errored":a?"ready":"unresolved"),O(E);for(const M of h.keys())M.decrement();h.clear()},!1)}function he(){const k=mn,E=f(),M=p();if(M!==void 0&&!l)throw M;return $&&!$.user&&k&&ct(()=>{F(),l&&(k.resolved||h.has(k)||(k.increment(),h.add(k)))}),E}function Oe(k=!0){if(k!==!1&&c)return;c=!1;const E=d?d():r;if(E==null||E===!1){I(l,T(f));return}const M=i!==He?i:T(()=>o(E,{value:f(),refetching:k}));return dn(M)?"value"in M?(M.status==="success"?I(l,M.value,void 0,E):I(l,void 0,void 0,E),M):(l=M,c=!0,queueMicrotask(()=>c=!1),ne(()=>{z(a?"refreshing":"pending"),G()},!1),M.then(se=>I(M,se,void 0,E),se=>I(M,void 0,Rt(se),E))):(I(l,M,void 0,E),M)}return Object.defineProperties(he,{state:{get:()=>H()},error:{get:()=>p()},loading:{get(){const k=H();return k==="pending"||k==="refreshing"}},latest:{get(){if(!a)return he();const k=p();if(k&&!l)throw k;return f()}}}),d?ct(()=>Oe(!1)):Oe(!1),[he,{refetch:Oe,mutate:m}]}function ie(e){return ne(e,!1)}function T(e){if($===null)return e();const t=$;$=null;try{return e()}finally{$=t}}function hn(e){V(()=>T(e))}function fn(e){return C===null||(C.cleanups===null?C.cleanups=[e]:C.cleanups.push(e)),e}function gn(e){const t=_(e),n=_(()=>Ye(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let mn;function Bt(){if(this.sources&&this.state)if(this.state===X)de(this);else{const e=A;A=null,ne(()=>Ne(this),!1),A=e}if($){const e=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(e)):($.sources=[this],$.sourceSlots=[e]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function Ot(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ne(()=>{for(let o=0;o<e.observers.length;o+=1){const s=e.observers[o],l=ze&&ze.running;l&&ze.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?A.push(s):Y.push(s),s.observers&&zt(s)),l||(s.state=X)}if(A.length>1e6)throw A=[],new Error},!1)),t}function de(e){if(!e.fn)return;Le(e);const t=C,n=$,r=Te;$=C=e,wn(e,e.value,r),$=n,C=t}function wn(e,t,n){let r;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=X,e.owned&&e.owned.forEach(Le),e.owned=null),e.updatedAt=n+1,jt(o)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ot(e,r):e.value=r,e.updatedAt=n)}function Pe(e,t,n,r=X,o){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:C?C.context:null,pure:n};return C===null||C!==Lt&&(C.owned?C.owned.push(s):C.owned=[s]),s}function De(e){if(e.state===0)return;if(e.state===Me)return Ne(e);if(e.suspense&&T(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Te);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===X)de(e);else if(e.state===Me){const r=A;A=null,ne(()=>Ne(e,t[0]),!1),A=r}}function ne(e,t){if(A)return e();let n=!1;t||(A=[]),Y?n=!0:Y=[],Te++;try{const r=e();return yn(n),r}catch(r){n||(Y=null),A=null,jt(r)}}function yn(e){if(A&&(Ht(A),A=null),e)return;const t=Y;Y=null,t.length&&ne(()=>Pt(t),!1)}function Ht(e){for(let t=0;t<e.length;t++)De(e[t])}function pn(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:De(r)}for(t=0;t<n;t++)De(e[t])}function Ne(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const o=r.state;o===X?r!==t&&(!r.updatedAt||r.updatedAt<Te)&&De(r):o===Me&&Ne(r,t)}}}function zt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Me,n.pure?A.push(n):Y.push(n),n.observers&&zt(n))}}function Le(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const s=o.pop(),l=n.observerSlots.pop();r<o.length&&(s.sourceSlots[l]=r,o[r]=s,n.observerSlots[r]=l)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Le(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Rt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function jt(e,t=C){throw Rt(e)}function Ye(e){if(typeof e=="function"&&!e.length)return Ye(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Ye(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const vn=Symbol("fallback");function at(e){for(let t=0;t<e.length;t++)e[t]()}function $n(e,t,n={}){let r=[],o=[],s=[],l=0,i=t.length>1?[]:null;return fn(()=>at(s)),()=>{let c=e()||[],a,d;return c[an],T(()=>{let f=c.length,m,p,O,F,G,H,z,I,Z;if(f===0)l!==0&&(at(s),s=[],r=[],o=[],l=0,i&&(i=[])),n.fallback&&(r=[vn],o[0]=xe(he=>(s[0]=he,n.fallback())),l=1);else if(l===0){for(o=new Array(f),d=0;d<f;d++)r[d]=c[d],o[d]=xe(h);l=f}else{for(O=new Array(f),F=new Array(f),i&&(G=new Array(f)),H=0,z=Math.min(l,f);H<z&&r[H]===c[H];H++);for(z=l-1,I=f-1;z>=H&&I>=H&&r[z]===c[I];z--,I--)O[I]=o[z],F[I]=s[z],i&&(G[I]=i[z]);for(m=new Map,p=new Array(I+1),d=I;d>=H;d--)Z=c[d],a=m.get(Z),p[d]=a===void 0?-1:a,m.set(Z,d);for(a=H;a<=z;a++)Z=r[a],d=m.get(Z),d!==void 0&&d!==-1?(O[d]=o[a],F[d]=s[a],i&&(G[d]=i[a]),d=p[d],m.set(Z,d)):s[a]();for(d=H;d<f;d++)d in O?(o[d]=O[d],s[d]=F[d],i&&(i[d]=G[d],i[d](d))):o[d]=xe(h);o=o.slice(0,l=f),r=c.slice(0)}return o});function h(f){if(s[d]=f,i){const[m,p]=x(d);return i[d]=p,t(c[d],m)}return t(c[d])}}}function u(e,t){return T(()=>e(t||{}))}function pe(){return!0}const qe={get(e,t,n){return t===_e?n:e.get(t)},has(e,t){return t===_e?!0:e.has(t)},set:pe,deleteProperty:pe,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:pe,deleteProperty:pe}},ownKeys(e){return e.keys()}};function Re(e){return(e=typeof e=="function"?e():e)?e:{}}function bn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function dt(...e){let t=!1;for(let s=0;s<e.length;s++){const l=e[s];t=t||!!l&&_e in l,e[s]=typeof l=="function"?(t=!0,_(l)):l}if(t)return new Proxy({get(s){for(let l=e.length-1;l>=0;l--){const i=Re(e[l])[s];if(i!==void 0)return i}},has(s){for(let l=e.length-1;l>=0;l--)if(s in Re(e[l]))return!0;return!1},keys(){const s=[];for(let l=0;l<e.length;l++)s.push(...Object.keys(Re(e[l])));return[...new Set(s)]}},qe);const n={},r={},o=new Set;for(let s=e.length-1;s>=0;s--){const l=e[s];if(!l)continue;const i=Object.getOwnPropertyNames(l);for(let c=0,a=i.length;c<a;c++){const d=i[c];if(d==="__proto__"||d==="constructor")continue;const h=Object.getOwnPropertyDescriptor(l,d);if(!o.has(d))h.get?(o.add(d),Object.defineProperty(n,d,{enumerable:!0,configurable:!0,get:bn.bind(r[d]=[h.get.bind(l)])})):(h.value!==void 0&&o.add(d),n[d]=h.value);else{const f=r[d];f?h.get?f.push(h.get.bind(l)):h.value!==void 0&&f.push(()=>h.value):n[d]===void 0&&(n[d]=h.value)}}}return n}function Ft(e,...t){if(_e in e){const o=new Set(t.length>1?t.flat():t[0]),s=t.map(l=>new Proxy({get(i){return l.includes(i)?e[i]:void 0},has(i){return l.includes(i)&&i in e},keys(){return l.filter(i=>i in e)}},qe));return s.push(new Proxy({get(l){return o.has(l)?void 0:e[l]},has(l){return o.has(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!o.has(l))}},qe)),s}const n={},r=t.map(()=>({}));for(const o of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,o),l=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let i=!1,c=0;for(const a of t)a.includes(o)&&(i=!0,l?r[c][o]=s.value:Object.defineProperty(r[c],o,s)),++c;i||(l?n[o]=s.value:Object.defineProperty(n,o,s))}return[...r,n]}const Kt=e=>`Stale read from <${e}>.`;function K(e){const t="fallback"in e&&{fallback:()=>e.fallback};return _($n(()=>e.each,e.children,t||void 0))}function ee(e){const t=e.keyed,n=_(()=>e.when,void 0,{equals:(r,o)=>t?r===o:!r==!o});return _(()=>{const r=n();if(r){const o=e.children;return typeof o=="function"&&o.length>0?T(()=>o(t?r:()=>{if(!T(n))throw Kt("Show");return e.when})):o}return e.fallback},void 0,void 0)}function Wt(e){let t=!1;const n=(s,l)=>s[0]===l[0]&&(t?s[1]===l[1]:!s[1]==!l[1])&&s[2]===l[2],r=gn(()=>e.children),o=_(()=>{let s=r();Array.isArray(s)||(s=[s]);for(let l=0;l<s.length;l++){const i=s[l].when;if(i)return t=!!s[l].keyed,[l,i,s[l]]}return[-1]},void 0,{equals:n});return _(()=>{const[s,l,i]=o();if(s<0)return e.fallback;const c=i.children;return typeof c=="function"&&c.length>0?T(()=>c(t?l:()=>{if(T(o)[0]!==s)throw Kt("Match");return i.when})):c},void 0,void 0)}function ge(e){return e}const xn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],kn=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...xn]),En=new Set(["innerHTML","textContent","innerText","children"]),Cn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),_n=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Sn(e,t){const n=_n[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Mn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Dn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Nn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function In(e,t,n){let r=n.length,o=t.length,s=r,l=0,i=0,c=t[o-1].nextSibling,a=null;for(;l<o||i<s;){if(t[l]===n[i]){l++,i++;continue}for(;t[o-1]===n[s-1];)o--,s--;if(o===l){const d=s<r?i?n[i-1].nextSibling:n[s-i]:c;for(;i<s;)e.insertBefore(n[i++],d)}else if(s===i)for(;l<o;)(!a||!a.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[s-1]&&n[i]===t[o-1]){const d=t[--o].nextSibling;e.insertBefore(n[i++],t[l++].nextSibling),e.insertBefore(n[--s],d),t[o]=n[s]}else{if(!a){a=new Map;let h=i;for(;h<s;)a.set(n[h],h++)}const d=a.get(t[l]);if(d!=null)if(i<d&&d<s){let h=l,f=1,m;for(;++h<o&&h<s&&!((m=a.get(t[h]))==null||m!==d+f);)f++;if(f>d-i){const p=t[l];for(;i<d;)e.insertBefore(n[i++],p)}else e.replaceChild(n[i++],t[l++])}else l++;else t[l++].remove()}}}const ut="_$DX_DELEGATE";function An(e,t,n,r={}){let o;return xe(s=>{o=s,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{o(),t.textContent=""}}function y(e,t,n){let r;const o=()=>{const l=document.createElement("template");return l.innerHTML=e,n?l.content.firstChild.firstChild:l.content.firstChild},s=t?()=>T(()=>document.importNode(r||(r=o()),!0)):()=>(r||(r=o())).cloneNode(!0);return s.cloneNode=s,s}function W(e,t=window.document){const n=t[ut]||(t[ut]=new Set);for(let r=0,o=e.length;r<o;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,On))}}function q(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Tn(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function B(e,t){t==null?e.removeAttribute("class"):e.className=t}function Ie(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const o=n[0];e.addEventListener(t,n[0]=s=>o.call(e,n[1],s))}else e.addEventListener(t,n)}function Pn(e,t,n={}){const r=Object.keys(t||{}),o=Object.keys(n);let s,l;for(s=0,l=o.length;s<l;s++){const i=o[s];!i||i==="undefined"||t[i]||(ht(e,i,!1),delete n[i])}for(s=0,l=r.length;s<l;s++){const i=r[s],c=!!t[i];!i||i==="undefined"||n[i]===c||!c||(ht(e,i,!0),n[i]=c)}return n}function ue(e,t,n){if(!t)return n?q(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let o,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)o=t[s],o!==n[s]&&(r.setProperty(s,o),n[s]=o);return n}function Gt(e,t={},n,r){const o={};return r||v(()=>o.children=ae(e,t.children,o.children)),v(()=>t.ref&&t.ref(e)),v(()=>Ln(e,t,n,!0,o,!0)),o}function j(e,t,n){return T(()=>e(t,n))}function g(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return ae(e,t,r,n);v(o=>ae(e,t(),o,n),r)}function Ln(e,t,n,r,o={},s=!1){t||(t={});for(const l in o)if(!(l in t)){if(l==="children")continue;o[l]=ft(e,l,null,o[l],n,s)}for(const l in t){if(l==="children"){r||ae(e,t.children);continue}const i=t[l];o[l]=ft(e,l,i,o[l],n,s)}}function Bn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function ht(e,t,n){const r=t.trim().split(/\s+/);for(let o=0,s=r.length;o<s;o++)e.classList.toggle(r[o],n)}function ft(e,t,n,r,o,s){let l,i,c,a,d;if(t==="style")return ue(e,n,r);if(t==="classList")return Pn(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);r&&e.removeEventListener(h,r),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);r&&e.removeEventListener(h,r,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),f=Mn.has(h);if(!f&&r){const m=Array.isArray(r)?r[0]:r;e.removeEventListener(h,m)}(f||n)&&(Ie(e,h,n,f),f&&W([h]))}else if(t.slice(0,5)==="attr:")q(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(c=En.has(t))||!o&&((a=Sn(t,e.tagName))||(i=kn.has(t)))||(l=e.nodeName.includes("-")))d&&(t=t.slice(5),i=!0),t==="class"||t==="className"?B(e,n):l&&!i&&!c?e[Bn(t)]=n:e[a||t]=n;else{const h=o&&t.indexOf(":")>-1&&Nn[t.split(":")[0]];h?Tn(e,h,t,n):q(e,Cn[t]||t,n)}return n}function On(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(o!==void 0?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ae(e,t,n,r,o){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,l=r!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),l){let i=n[0];i&&i.nodeType===3?i.data=t:i=document.createTextNode(t),n=le(e,n,r,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=le(e,n,r);else{if(s==="function")return v(()=>{let i=t();for(;typeof i=="function";)i=i();n=ae(e,i,n,r)}),()=>n;if(Array.isArray(t)){const i=[],c=n&&Array.isArray(n);if(Ve(i,t,n,o))return v(()=>n=ae(e,i,n,r,!0)),()=>n;if(i.length===0){if(n=le(e,n,r),l)return n}else c?n.length===0?gt(e,i,r):In(e,n,i):(n&&le(e),gt(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=le(e,n,r,t);le(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ve(e,t,n,r){let o=!1;for(let s=0,l=t.length;s<l;s++){let i=t[s],c=n&&n[s],a;if(!(i==null||i===!0||i===!1))if((a=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))o=Ve(e,i,c)||o;else if(a==="function")if(r){for(;typeof i=="function";)i=i();o=Ve(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||o}else e.push(i),o=!0;else{const d=String(i);c&&c.nodeType===3&&c.data===d?e.push(c):e.push(document.createTextNode(d))}}return o}function gt(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function le(e,t,n,r){if(n===void 0)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let s=!1;for(let l=t.length-1;l>=0;l--){const i=t[l];if(o!==i){const c=i.parentNode===e;!s&&!l?c?e.replaceChild(o,i):e.insertBefore(o,n):c&&i.remove()}else s=!0}}else e.insertBefore(o,n);return[o]}const Hn=!1,zn="http://www.w3.org/2000/svg";function Rn(e,t=!1){return t?document.createElementNS(zn,e):document.createElement(e)}function jn(e){const[t,n]=Ft(e,["component"]),r=_(()=>t.component);return _(()=>{const o=r();switch(typeof o){case"function":return T(()=>o(n));case"string":const s=Dn.has(o),l=Rn(o,s);return Gt(l,n,s),l}})}var Fn=()=>["%csolid-devtools","color: #fff; background: #2c4f7c; padding: 1px 4px;"];function Kn(...e){console.warn(...Fn(),...e)}Kn('`import "solid-devtools";` is an entry point for the vite plugin.\nIf you\'re seeing this message you probably forgot to add the plugin to your vite config.');(()=>{let e=100;const t=()=>{const o=getComputedStyle(document.documentElement).getPropertyValue("--kitl-c-bg");if(console.log("bgColor",o),!o){if(e>1e4)return;e*=2,setTimeout(t,e);return}const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content",o)},n=o=>{o?(console.log("Dark mode"),document.documentElement.setAttribute("color-theme","dark")):(console.log("Light mode"),document.documentElement.setAttribute("color-theme","light")),setTimeout(t)},r=window.matchMedia("(prefers-color-scheme: dark)");r.addEventListener("change",o=>n(o.matches)),n(r.matches),window.addEventListener("load",t)})();const Wn="modulepreload",Gn=function(e){return"/"+e},mt={},wt=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Gn(s),s in mt)return;mt[s]=!0;const l=s.endsWith(".css"),i=l?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const h=o[d];if(h.href===s&&(!l||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${i}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":Wn,l||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),l)return new Promise((d,h)=>{a.addEventListener("load",d),a.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})},Un=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((r,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t)))})},[Ut,Yn]=x({locale:"",strings:new Map}),qn=()=>Ut().locale,Yt=(e,t,n)=>{for(const r in n){const o=n[r],s=t?`${t}.${r}`:r;typeof o=="object"?Yt(e,s,o):e.set(s,o)}},Vn=async e=>{for(const t of[e,...navigator.languages,"en"])if(t)try{const n=await Un(Object.assign({"./strings/en.json":()=>wt(()=>import("./en-d1a00eea.js"),[]),"./strings/ko.json":()=>wt(()=>import("./ko-1ded49bb.js"),[])}),`./strings/${t}.json`),r=new Map;return Yt(r,"",n),Yn({locale:t,strings:r}),!0}catch{continue}},R=e=>Ut().strings.get(e)||e,Xn=e=>{const[t]=un(async()=>await Vn(e.language)),n=qn();return u(Wt,{fallback:"Unk",get children(){return[u(ge,{get when(){return t()},get children(){return e.children}}),u(ge,{when:n==="",children:"Failed to load locale."}),u(ge,{when:n===void 0,children:"Loading..."})]}})},fe=e=>{const t=new TextEncoder().encode(e),n=new ArrayBuffer(t.length),r=new Uint8Array(n);for(let o=0;o<t.length;++o)r[o]=t[o];return n},yt=e=>new TextDecoder().decode(e),Zn=()=>{throw"Empty function invoked"},pt={x:0,y:0},Jn=e=>({x:Math.round(e.x),y:Math.round(e.y)}),me=(e,t)=>e*e+t*t,ke=(e,t)=>Math.sqrt(me(e,t)),vt=(e,t,n)=>{const r=n.w/2,o=n.h/2,s=n.x+r,l=n.y+o,i=Math.abs(r-o);let c=e-s,a=t-l,d=0,h=0;if(c<-r&&(c=-r,d=-1),c>r&&(c=r,d=1),a<-o&&(a=-o,h=-1),a>o&&(a=o,h=1),n.angular){if(d*h!==0){const f=ke(c,a);return[s+c-1.4*d,l+a-1.4*h,c/f,a/f]}}else{if(r>o&&Math.abs(c)>i){const f=c>0?i:-i,m=c-f,p=ke(m,a)/o;return[s+f+m/p,l+a/p,m/o,a/(p*o)]}if(o>r&&Math.abs(a)>i){const f=a>0?i:-i,m=a-f,p=ke(c,m)/r;return[s+c/p,l+f+m/p,c/(p*r),m/r]}}return[s+c,l+a,d,h]},Xe=(e,t,n)=>{const[r,o,s,l]=vt(t.x+t.w/2,t.y+t.h/2,e),[i,c,a,d]=vt(r,o,t),h=.2*ke(r-i,o-c);return`M ${i-n*a} ${c-n*d} C ${i+a*h} ${c+d*h}, ${r+s*h} ${o+l*h}, ${r-n*s} ${o-n*l}`},$t=(e,t)=>{const r=e.x+e.w/2,o=t.x+t.w/2;return`M ${r} ${e.y} C ${r} ${e.y-30}, ${o} ${t.y-30}, ${o} ${t.y}`},Qn=e=>Math.random().toString(36).slice(e),er=()=>Qn(7),tr=()=>{const e=new Date;return Math.round(e.getTime()/1e3+e.getTimezoneOffset()*60).toString(36)},nr=()=>`${tr()}-${er()}`,rr=(e,t,n)=>e<t?t:e>n?n:e;var w=(e=>(e.Alpha="a",e.Beta="b",e.Delta="d",e.Lambda="l",e.Nu="n",e.Pi="p",e))(w||{});const Ee=new Set(["d"]),or=new Set(["n"]),sr=new Set(["b","n"]),ir=()=>[{id:"#def",pos:{x:0,y:0},x:{type:"d",comment:""}}],ve=JSON.stringify,je=e=>{switch(typeof e){case"string":return e.length>20;case"object":return e===null?!1:Array.isArray(e)?e.length>1:Object.keys(e).length>1}return!1},Q=(e,t=0)=>{if(typeof e!="object"||e===null)return ve(e);const n=" ".repeat(2*(t+1)),r=`,
`+n;if(Array.isArray(e)){const l=e;return l.length===0?"[]":l.length===1?je(l[0])?`[ ${Q(l[0],t+1)} ]`:`[${Q(l[0],t+1)}]`:`[ ${l.map(i=>Q(i,t+1)).join(r)} ]`}const o=e,s=Object.keys(o);if(s.length===0)return"{}";if(s.length===1){const l=s[0],i=ve(l),c=o[l];return je(c)?`{ ${i}:
  ${n}${Q(c,t+2)}}`:`{${i}: ${Q(c,t+1)}}`}return`{ ${Object.entries(o).map(([l,i])=>je(i)?`${ve(l)}:
  ${n}${Q(i,t+2)}`:`${ve(l)}: ${Q(i,t+1)}`).join(r)} }`},P=e=>e.charCodeAt(0),ot=e=>{const t=new Set;for(let n=0;n<e.length;n++)t.add(e.charCodeAt(n));return t},lr=P(`
`),cr=P("["),ar=P("]"),dr=P("{"),ur=P("}"),hr=P('"'),fr=P("'"),gr=P("\\"),mr=P("u"),wr=P("x"),qt=ot(`[]{},"':
`),yr=ot("+-0123456789."),pr=ot(`"'`),vr=new Map([[P("b"),"\b"],[P("f"),"\f"],[P("n"),`
`],[P("r"),"\r"],[P("t"),"	"]]),$r=/[-+]?((0x[0-9a-fA-F]+)|([0-9]+(\.[0-9]+)?))([eE][-+]?[0-9]+)?/y,br=/(false|true|null)\b/iy,xr=new Map([["false",!1],["true",!0],["null",null]]),bt=/\s*([[{'"])/y,Vt=/\s*/y,Ae=/[\s,]*/y,kr=/[\s:]*/y,Er=e=>(bt.lastIndex=0,!!bt.exec(e)),te=e=>e.s.charCodeAt(e.p);class ye extends Error{s;p;line;column;constructor(t,n){let r=1,o=1;for(let s=0;s<t.p;s++)t.s.charCodeAt(s)===lr&&(r++,o=0),o++;super(`${r}:${o}: ${n}`),this.name="ParseError",this.s=t.s,this.p=t.p,this.line=r,this.column=o}}const st=(e,t)=>(t.lastIndex=e.p,t.exec(e.s)),re=(e,t)=>{const n=st(e,t);n&&(e.p+=n[0].length)},Cr=e=>{e.p++,re(e,Ae);const t=[];for(;e.p<e.l&&te(e)!==ar;)t.push(it(e)),re(e,Ae);return e.p++,t},_r=e=>{e.p++,re(e,Ae);const t={};for(;e.p<e.l&&te(e)!==ur;){let n;if(pr.has(te(e)))n=Ze(e);else{const r=e.p;e.p=e.s.indexOf(":",e.p),e.p===-1&&(e.p=e.l),n=e.s.slice(r,e.p).trim()}re(e,kr),t[n]=it(e),re(e,Ae)}return e.p++,t},xt=(e,t)=>{const n=e.s.slice(e.p+1,e.p+t+1),r=parseInt(n,16);if(e.p+=t,isNaN(r))throw new ye(e,`Invalid unicode escape '${n}'`);return String.fromCharCode(r)},Ze=e=>{const t=te(e);e.p++;let n="";for(;e.p<e.l;e.p++){const r=te(e);if(r===t)return e.p++,n;if(r===gr){e.p++;const o=te(e);switch(o){case mr:n+=xt(e,4);break;case wr:n+=xt(e,2);break;default:n+=vr.get(o)||String.fromCharCode(o)}}else n+=String.fromCharCode(r)}return n},Sr=e=>{const t=st(e,$r),n=t?t[0]:"",r=n?Number(n):NaN;if(e.p+=n.length,isNaN(r))throw new ye(e,`Invalid number '${n}'`);return r},Mr=(e,t)=>{const n=st(e,br);if(n!==null)return e.p+=n[0].length,xr.get(n[0].toLowerCase());if(t)throw new ye(e,`Unexpected character '${e.s[e.p]}'`);const r=e.p;for(;e.p<e.l&&!qt.has(te(e));)e.p++;return e.s.slice(r,e.p).trim()},kt={[hr]:Ze,[fr]:Ze,[cr]:Cr,[dr]:_r},it=(e,t)=>{re(e,Vt);const n=te(e);if(n in kt)return kt[n](e);if(qt.has(n))throw new ye(e,`Unexpected character '${e.s[e.p]}' for value`);return yr.has(n)?Sr(e):Mr(e,t)},Dr=e=>{const t={s:e,p:0,l:e.length},n=it(t,!0);if(re(t,Vt),t.p<t.l)throw new ye(t,`Unexpected character '${t.s[t.p]}', expect EOF`);return n},Nr=e=>{switch(e.type){case w.Alpha:return JSON.stringify(e.val,null,2);case w.Beta:return e.args.length<=0?"":`,${e.args.length}`;case w.Delta:return`${e.comment}`;case w.Lambda:return"λ";case w.Nu:{const t=e.name,n=t.module?`@${t.module}`:"",r=e.args.length<=0?"":`,${e.lhs},${Math.max(0,e.args.length-e.lhs)}`;return`${t.name}${n}${r}`}case w.Pi:{const t=e.name,n=t.module?`@${t.module}`:"",r=e.elems<=0?"":`,${e.elems}`;return`λ ${t.name}${n}${r}`}}},Ir=e=>{const t=e.trim();try{return{type:w.Alpha,val:Dr(t)}}catch{}switch(t[0]){case"λ":case"\\":{const r=t.slice(1).split(","),o=r[0].split("@");if(o[0]){const s=o[0]?o[0].toString().trim():"",l=o[1]?o[1].toString().trim():"";let i=parseInt(r[1]);return isNaN(i)&&(i=0),{type:w.Pi,name:{name:s,module:l},elems:i}}else return{type:w.Lambda}}default:{const r=t.split(","),o=r[0].split("@"),s=o[0]?o[0].toString().trim():"",l=o[1]?o[1].toString().trim():"";let i=parseInt(r[1]),c=parseInt(r[2]);if(s)return isNaN(i)&&(i=0),isNaN(c)&&(c=i,i=0),{type:w.Nu,name:{name:s,module:l},lhs:i,args:new Array(i+c).fill({id:""})};{const a=(isNaN(i)?0:i)+(isNaN(c)?0:c);return{type:w.Beta,args:new Array(a).fill({id:""})}}}}},Ar=e=>{const t=e.split(/[\\/]+/),n=t[0].length<=0,r=[];for(const o of t)switch(o){case"":case".":break;case"..":r.pop();break;default:r.push(o)}return n&&r.length>0&&r[0].length>0&&r.unshift(""),r},Ce=e=>e.length<=0?".":e.length<=1&&e[0].length<=0?"/":e.join("/"),Tr=e=>e.length>0&&e[0].length<=0,Pr=e=>{const t=Ar(e);return[Ce(t),t]},Et=()=>[void 0];var L=(e=>(e[e.NotFound=0]="NotFound",e[e.File=1]="File",e[e.Directory=2]="Directory",e))(L||{});const Lr="kitl-idbfs",Br=1,Je="meta",Qe="data";class Ct{transaction;store;constructor(t,n){this.transaction=t,this.store=this.transaction.objectStore(n)}r(t){return new Promise((n,r)=>{const o=t();o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error)})}get(t){return this.r(()=>this.store.get(t))}getAll(){return this.r(()=>this.store.getAll())}put(t,n){return this.r(()=>this.store.put(t,n))}delete(t){return this.r(()=>this.store.delete(t))}clear(){return this.r(()=>this.store.clear())}}const J=e=>{const[t,n]=Pr(e);if(!Tr(n))throw new Error("Path must be absolute");return[t,n]};class Or{readwrite;meta;data;constructor(t,n,r){this.readwrite=t,this.meta=n,this.data=r}shouldWritable(){if(!this.readwrite)throw new Error("Failed to process: IDBFS is created as readonly mode.")}async getMeta(t){return await this.meta.get(t)}async rawWrite(t,n,r){await this.meta.put({path:n,type:t,size:r.byteLength,lastModified:Date.now()}),await this.data.put({path:n,data:r})}async format(){await this.meta.clear(),await this.data.clear(),await this.rawWrite(L.Directory,"/",fe(""))}async getFileType(t){const[n]=J(t);try{return(await this.meta.get(n)).type}catch{return L.NotFound}}async mkdir(t){this.shouldWritable();const[,n]=J(t);let r=n.length;for(;r>=0;--r){const o=n.slice(0,r).join("/"),s=await this.getFileType(o);if(s===L.Directory)break;if(s!==L.NotFound)throw new Error("File exists")}for(++r;r<n.length;++r){const o=n.slice(0,r).join("/"),s=r<n.length?fe(n[r]):new ArrayBuffer(0);await this.meta.put({path:o,type:L.Directory,size:s.byteLength,lastModified:Date.now()}),await this.data.put({path:o,data:s})}}async getChildrenNames(t){const[n]=J(t);if((await this.meta.get(n)).type!==L.Directory)throw new Error("Not a directory");const o=await this.data.get(n);return yt(o.data).split(`
`).map(s=>s.trim()).filter(s=>s.length>0)}async list(t){const n=await this.getChildrenNames(t),r=[];for(const o of n){const s=Ce([t,o]),l=await this.meta.get(s);r.push({type:l.type,path:s,size:l.size,lastModified:new Date(l.lastModified)})}return r}async write(t,n){const[,r]=J(t),o=await this.getFileType(t);if(o===L.NotFound){const s=Ce(r.slice(0,r.length-1));if(await this.getFileType(s)!==L.Directory)throw new Error("Parent directory does not exist");const i=await this.getChildrenNames(s);i.push(r[r.length-1]),await this.data.put({path:s,data:fe(i.join(`
`))})}else if(o!==L.File)throw new Error("Cannot create a file: directory exists");await this.rawWrite(L.File,t,fe(n))}async read(t){const[n]=J(t);if(await this.getFileType(n)!==L.File)throw new Error("Not a file");const o=await this.data.get(n);return yt(o.data)}async remove(t){const[n,r]=J(t);if(n.length<=1)return await this.format();const o=Ce(r.slice(0,r.length-1));let s;try{if(await this.meta.get(n),s=await this.meta.get(o),s.type!==L.Directory)throw new Error("Parent is not a directory")}catch{throw new Error("File or directory does not exist")}const l=await this.meta.getAll();for(const a of l)(a.path===n||a.path.startsWith(n+"/"))&&(await this.meta.delete(a.path),await this.data.delete(a.path));const c=(await this.getChildrenNames(o)).filter(a=>a!==r[r.length-1]);await this.rawWrite(L.Directory,o,fe(c.join(`
`)))}async copy(t,n){const[r]=J(t),[o]=J(n),l=(await this.meta.getAll()).map(i=>i.path).filter(i=>i===r||i.startsWith(r+"/")).map(i=>i.slice(r.length));for(const i of l){const c=r+i,a=o+i,d=await this.meta.get(c);await this.meta.put({...d,path:a,lastModified:Date.now()});const h=await this.data.get(c);await this.data.put({...h,path:a})}}async move(t,n){await this.copy(t,n),await this.remove(t)}}const Hr=()=>new Promise((e,t)=>{const n=indexedDB.open(Lr,Br);n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error),n.onupgradeneeded=r=>{const o=n.result;r.oldVersion===0?(o.createObjectStore(Je,{keyPath:"path"}),o.createObjectStore(Qe,{keyPath:"path"}),e(o)):t(n.error)}}),zr=async e=>{const n=(await Hr()).transaction([Je,Qe],e?"readwrite":"readonly");return new Or(e===!0,new Ct(n,Je),new Ct(n,Qe))};var b=(e=>(e.fg="fg",e.bg="bg",e.primary="primary",e.secondary="secondary",e.success="success",e.danger="danger",e.warning="warning",e))(b||{});const Rr=y("<button>"),D=e=>(()=>{const t=Rr();return Ie(t,"click",e.onClick,!0),g(t,()=>e.children),v(()=>B(t,`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();W(["click"]);W(["keydown"]);const jr=y("<div>"),Be=e=>(()=>{const t=jr();return g(t,()=>e.children),v(()=>B(t,`input-group ${e.class??""}`)),t})(),Fr=y("<input type=text>"),Xt=e=>(()=>{const t=Fr();return Ie(t,"keydown",e.onKeyDown,!0),Ie(t,"change",e.onChange),v(n=>{const r=e.disabled,o=`form-control ${e.class??""}`,s=e.placeholder;return r!==n._v$&&(t.disabled=n._v$=r),o!==n._v$2&&B(t,n._v$2=o),s!==n._v$3&&q(t,"placeholder",n._v$3=s),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),v(()=>t.value=e.value),t})();W(["keydown"]);const Kr=y("<div class=toast-container>"),Wr=y("<div>"),Gr=["✅","⚠️","🚫"],Zt=[Zn],Ur=(e,t)=>{Zt[0](e,t)},Yr=e=>{const t=e.creation??Zt,[n,r]=x({cnt:0,toasts:[]});return t[0]=(o,s)=>{r(l=>{const i=l.toasts,c=l.cnt,a=Math.max(200,s?.ttl??2e3),d=(f,m)=>window.setTimeout(()=>r(p=>({...p,toasts:f(p.toasts)})),m),h=d(f=>f.filter(m=>m.id!==c),a);return d(f=>f.map(m=>m.id===c?{...m,class:"toast-a-out"}:m),a-100),i.push({id:c,type:s?.type,class:"toast-a-in",message:o,timeout:h}),{cnt:l.cnt+1,toasts:i}})},(()=>{const o=Kr();return g(o,u(K,{get each(){return n().toasts},children:s=>(()=>{const l=Wr();return g(l,()=>s.type?Gr[s.type]:"",null),g(l,()=>s.message,null),v(()=>B(l,`toast ${s.class}`)),l})()})),o})()};let et=0;const qr=()=>{et=0},Jt=()=>et=(et+57.295779513)%360,Vr="hrm-c-bd-empty",Xr="⎇",tt="𝑓",Zr="𝑥",_t="𝑦",Jr="𝛃",Qr="≝",eo="⟾",to="↯",no="⧉";var N=(e=>(e[e.Source=0]="Source",e[e.Sink=1]="Sink",e))(N||{});const St=e=>x({name:e,data:{type:0,color:Jt()}}),U=(e,t)=>x({name:e,data:{type:1,sourceID:t?.id,sourceHandle:t?.handle}}),ro=e=>{let t=0,n;switch(e.x.type){case w.Alpha:n=[];break;case w.Beta:t=1,n=[U(tt,e.x.fn)];for(const r in e.x.args){const o=e.x.args[r];n.push(U(r,o))}break;case w.Delta:n=[U(_t,e.x.ret)];break;case w.Lambda:t=2,n=[U(Xr,e.x.fallback),St(Zr),U(_t,e.x.ret)];break;case w.Nu:n=e.x.args.map((r,o)=>U(String(o),r)),t=rr(e.x.lhs,0,e.x.args.length);break;case w.Pi:n=[U(no,e.x.pat)];for(let r=0;r<e.x.elems;r++)n.push(St(String(r+1)));t=1;break}return n.lhs=t,n},nt=e=>x({color:Jt(),angular:e.x.type===w.Alpha,data:e.x,handles:ro(e),position:e.pos,size:{w:0,h:0},selected:!1}),$e=e=>{qr();const t=new Map;for(const n of e)t.set(n.id,nt(n));return t},Mt=e=>{if(e.type===1&&e.sourceID)return{id:e.sourceID,handle:e.sourceHandle}},oo=e=>{const t=n=>Mt(e.handles[n][0]().data);switch(e.data.type){case w.Alpha:return{type:w.Alpha,val:e.data.val};case w.Beta:{const n=[];for(let r=1;r<e.handles.length;r++){const o=t(r);o&&n.push(o)}return{type:w.Beta,fn:t(0),args:n}}case w.Delta:return{type:w.Delta,comment:e.data.comment,ret:t(0)};case w.Lambda:return{type:w.Lambda,fallback:t(0),ret:t(2)};case w.Nu:return{type:w.Nu,name:e.data.name,lhs:e.handles.lhs,args:e.handles.reduce((n,r)=>{const o=Mt(r[0]().data);return o&&n.push(o),n},[])};case w.Pi:return{type:w.Pi,pat:t(0),name:e.data.name,elems:e.data.elems}}},Qt=(e,t)=>({id:e,pos:Jn(t.position),x:oo(t)}),so=e=>{const t=[];for(const[n,r]of e.entries())t.push(Qt(n,r[0]()));return t},Dt=e=>{switch(e.data.type){case w.Beta:e.handles[0][1](t=>({...t,name:tt})),e.handles[0][0]().name=tt;for(let t=1;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t-1)}));break;case w.Nu:for(let t=0;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t)}));break;default:throw"Unimplemented"}},io=y('<svg stroke-width="0"></svg>',2),lo=y("<title></title>",2);function S(e,t){const n=dt(e.a,t),[r,o]=Ft(n,["src"]);return(()=>{const s=io.cloneNode(!0);return Gt(s,dt({get stroke(){return e.a.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},o,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},get innerHTML(){return e.c},xmlns:"http://www.w3.org/2000/svg"}),!0,!0),g(s,()=>Hn,null),g(s,(()=>{const l=_(()=>!!t.title);return()=>l()&&(()=>{const i=lo.cloneNode(!0);return g(i,()=>t.title),i})()})(),null),s})()}function co(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-back-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 14l-4 -4l4 -4"/><path d="M5 10h11a4 4 0 1 1 0 8h-1"/>'},e)}function ao(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-forward-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 14l4 -4l-4 -4"/><path d="M19 10h-11a4 4 0 1 0 0 8h1"/>'},e)}function rt(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-backspace",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 6a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-11l-5 -5a1.5 1.5 0 0 1 0 -2l5 -5z"/><path d="M12 10l4 4m0 -4l-4 4"/>'},e)}function en(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-binary-tree",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 4a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M11 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M21 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M5.058 18.306l2.88 -4.606"/><path d="M10.061 10.303l2.877 -4.604"/><path d="M10.065 13.705l2.876 4.6"/><path d="M15.063 5.7l2.881 4.61"/>'},e)}function uo(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-clipboard",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"/><path d="M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"/>'},e)}function ho(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-copy",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"/><path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"/>'},e)}function fo(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-deselect",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 8h3a1 1 0 0 1 1 1v3"/><path d="M16 16h-7a1 1 0 0 1 -1 -1v-7"/><path d="M12 20v.01"/><path d="M16 20v.01"/><path d="M8 20v.01"/><path d="M4 20v.01"/><path d="M4 16v.01"/><path d="M4 12v.01"/><path d="M4 8v.01"/><path d="M8 4v.01"/><path d="M12 4v.01"/><path d="M16 4v.01"/><path d="M20 4v.01"/><path d="M20 8v.01"/><path d="M20 12v.01"/><path d="M20 16v.01"/><path d="M3 3l18 18"/>'},e)}function go(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-edit",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"/><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"/><path d="M16 5l3 3"/>'},e)}function tn(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-folder-search",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 19h-6a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2.5"/><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M20.2 20.2l1.8 1.8"/>'},e)}function mo(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-rocket",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"/><path d="M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"/><path d="M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/>'},e)}function wo(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-scissors",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M6 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M8.6 8.6l10.4 10.4"/><path d="M8.6 15.4l10.4 -10.4"/>'},e)}function yo(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-check",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l2 2l4 -4"/>'},e)}function nn(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-plus",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l6 0"/><path d="M12 9l0 6"/>'},e)}function po(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M10 10l4 4m0 -4l-4 4"/>'},e)}function rn(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12"/><path d="M6 6l12 12"/>'},e)}function vo(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in-area",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 13v4"/><path d="M13 15h4"/><path d="M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"/><path d="M22 22l-3 -3"/><path d="M6 18h-1a2 2 0 0 1 -2 -2v-1"/><path d="M3 11v-1"/><path d="M3 6v-1a2 2 0 0 1 2 -2h1"/><path d="M10 3h1"/><path d="M15 3h1a2 2 0 0 1 2 2v1"/>'},e)}function $o(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M10 7l0 6"/><path d="M21 21l-6 -6"/>'},e)}function bo(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-out",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M21 21l-6 -6"/>'},e)}function xo(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-reset",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 21l-6 -6"/><path d="M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"/><path d="M3 4v4h4"/>'},e)}const ko=6,Eo=250,Co=16,_o=750,So=window.setTimeout,Mo=window.clearTimeout,Nt=e=>({shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey}),Fe=e=>{e.preventDefault(),e.stopPropagation()},oe=(e,t)=>{const n={pointers:new Map,maxPointers:0,lastClick:{x:0,y:0,timestamp:0}},r=s=>{n.longPress&&n.longPress.id===s&&(Mo(n.longPress.u),n.longPress=void 0),n.pointers.delete(s)},o={pointerenter:s=>{e.onEnter?.(s.pointerId)},pointercancel:s=>{r(s.pointerId),e.onCancel?.(s.pointerId)},pointerleave:s=>{r(s.pointerId),e.onLeave?.(s.pointerId)},pointerdown:s=>{Fe(s);const l=s.pointerId;e.onDown?.({id:l,x:s.clientX,y:s.clientY,pointers:n.pointers.size,modifiers:Nt(s)}),s.target.releasePointerCapture(l),e.capture?s.currentTarget.setPointerCapture(l):s.currentTarget.releasePointerCapture(l);const i={id:l,x:s.clientX,y:s.clientY,moved:!1,timestamp:Date.now()};r(s.pointerId),n.pointers.set(l,i),n.maxPointers=Math.max(n.maxPointers,n.pointers.size),n.pointers.size===1&&(n.longPress={id:l,x:s.clientX,y:s.clientY,u:So(()=>{n.longPress&&n.pointers.size===1&&n.pointers.has(l)&&!n.pointers.get(l).moved&&(n.longPress=void 0,e.onLongPress?.({id:l,x:s.clientX,y:s.clientY}),n.pointers.delete(l))},_o)})},pointermove:s=>{Fe(s);const l=s.pointerId;e.onMove?.({id:l,x:s.clientX,y:s.clientY});const i=n.pointers.get(l);if(!i)return;const c=s.clientX-i.x,a=s.clientY-i.y;if(!(!i.moved&&me(c,a)<ko)){if(e.onDrag){const d={id:l,x:s.clientX,y:s.clientY,ox:i.x,oy:i.y,dx:c,dy:a},[h,f]=n.pointers.keys();f&&(d.pivot=n.pointers.get(h===l?f:h)),e.onDrag(d)}i.moved=!0,i.x=s.clientX,i.y=s.clientY}},pointerup:s=>{Fe(s);const l=s.pointerId,i=n.pointers.get(l),c={id:l,x:s.clientX,y:s.clientY,pointers:n.maxPointers,modifiers:Nt(s),dragged:n.pointers.get(l)?.moved};if(e.onUp?.(c),!i)return;r(s.pointerId);const a=Date.now();n.pointers.size===0&&(e.onClick?.(c),a-n.lastClick.timestamp<Eo&&me(c.x-n.lastClick.x,c.y-n.lastClick.y)<Co**2&&e.onDoubleClick?.(c),n.lastClick={x:s.clientX,y:s.clientY,timestamp:a},n.maxPointers=0)}};for(const[s,l]of Object.entries(o))t.addEventListener(s,l,{passive:!1})},Do=(e,t)=>{const[n,r]=x(t);let o=t,s;return[()=>(n(),o),c=>{typeof c=="function"?o=c(o):o=c,s===void 0&&(s=window.setTimeout(()=>{s=void 0,r(o)},e))}]},No=y('<div class="no-user-select hrm-pane abs-parent"><div class=hrm-view></div><div class=hrm-pane-controls>'),Io=y("<button>"),It=e=>`translate(${e.x}px, ${e.y}px) scale(${e.z})`,Ao=e=>{let t;const[n,r]=Do(10,{x:0,y:0,z:1}),o=(i,c,a)=>r(d=>({x:d.x*a+i,y:d.y*a+c,z:d.z*a}));e.g.transform[0]=n,e.g.transform[1]=r;const s=1.1,l=[[u($o,{}),()=>o((t?.offsetWidth??0)*(1-s)/2,(t?.offsetHeight??0)*(1-s)/2,s)],[u(bo,{}),()=>o((t?.offsetWidth??0)*(1-1/s)/2,(t?.offsetHeight??0)*(1-1/s)/2,1/s)],[u(xo,{}),()=>r(()=>({x:0,y:0,z:1}))],[u(vo,{}),()=>{const i=e.g.usedRect(),c=e.g.size();if(!i||!c)return;i.w=Math.max(i.w,1),i.h=Math.max(i.h,1);const a=c.w/i.w,d=c.h/i.h,h=Math.min(a,d),f=-i.x*h+(c.w-i.w*h)/2,m=-i.y*h+(c.h-i.h*h)/2;r({x:f,y:m,z:h})}]];return V(()=>{if(t){oe({capture:!0,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onLongPress:e.onLongPress,onDrag:i=>{const c=i.pivot;if(c){const a=Math.sqrt(me(c.x-i.x,c.y-i.y)/me(c.x-i.ox,c.y-i.oy)),d=a-1;o((i.dx-(c.x+i.ox)*d)/2,(i.dy-(c.y+i.oy)*d)/2,a)}else o(i.dx,i.dy,1)}},t),t.addEventListener("wheel",i=>{if(t)if(i.preventDefault(),i.ctrlKey||i.metaKey){const c=Math.pow(2,i.deltaY/-100),a=t.getBoundingClientRect();o((i.clientX-a.left)*(1-c),(i.clientY-a.top)*(1-c),c)}else o(-i.deltaX,-i.deltaY,1)},{passive:!1});for(const[,i,c]of l)c&&oe({capture:!0,onClick:i},c)}}),(()=>{const i=No(),c=i.firstChild,a=c.nextSibling,d=t;typeof d=="function"?j(d,i):t=i;const h=e.g.viewRef;return typeof h=="function"?j(h,c):e.g.viewRef=c,g(c,()=>e.children),g(a,u(K,{each:l,children:f=>(()=>{const m=Io(),p=f[2];return typeof p=="function"?j(p,m):f[2]=m,g(m,()=>f[0]),m})()})),v(()=>It(n())!=null?c.style.setProperty("transform",It(n())):c.style.removeProperty("transform")),i})()},To=y("<div>"),Po=e=>{const[t,n]=e.handleW;let r;return V(()=>{r&&(t(),n(o=>{let s,l;if(o.data.type===N.Source)s=o.data.color,l=e.g.nodeColorBd(s);else if(o.data.sourceID){const i=e.g.nodes().get(o.data.sourceID);if(i){const c=i[0]();s=c.color,o.data.sourceHandle!==void 0&&(s=c.handles[o.data.sourceHandle][0]().color??s),l=e.g.nodeColorBg(s)}}return s===o.color&&o.ref===r?o:{...o,ref:r,color:s,style:l}}))}),V(()=>{r&&oe({capture:!1,onEnter:o=>{const s=e.g.connectingEdge[0]();s&&s.pointerID===o&&t().data.type===N.Source!==s.isSource&&e.g.setTempConnectingEnd(e.nodeID,r,e.handleID)},onLeave:()=>{e.g.connectingEnd[0]().ref===r&&e.g.unsetTempConnectingEnd(r)},onDown:o=>{e.g.addConnectingEnd(o.id,e.nodeID,e.handleID,e.g.viewPos(o.x,o.y))},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)},onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},r)}),(()=>{const o=To(),s=r;return typeof s=="function"?j(s,o):r=o,g(o,()=>t().name),v(l=>{const i=`hrm-node-item hrm-handle hrm-pill ${t().style?"":Vr}`,c=t().style;return i!==l._v$&&B(o,l._v$=i),l._v$2=ue(o,c,l._v$2),l},{_v$:void 0,_v$2:void 0}),o})()},Lo=new Map([["_|_","⊥"],["-:","∹"],["-<","⤙"],["-<<","⤛"],["->","→"],["->>","↠"],["->|","⇥"],["-|","⊣"],["-|","⊣"],["::","∷"],["::=","⩴"],[":=","≔"],["!=","≠"],["!|=","⊭"],["!||-","⊮"],["!||=","⊯"],["!~=","≄"],["!~~","≉"],["<-->","⟷"],["<-","←"],["<-<","↢"],["<->","↔"],["<-|","↤"],["<.>","⊙"],["<*>","⊗"],["<+>","⊕"],["<<-","↞"],["<<","≪"],["<=","≤"],["<==>","⟺"],["<=>","⇔"],["<=|","⤆"],["<|","◁"],["<~","⇜"],["=:","≕"],["==>","⟹"],["=>","⇒"],[">-","⤚"],[">=","≥"],[">>-","⤜"],[">>","≫"],["|-->","⟼"],["|-","⊢"],["|->","↦"],["|<-","⇤"],["|=","⊨"],["|=>","⤇"],["|>","▷"],["||-","⊩"],["||=","⊫"],["|||-","⊪"],["~=","≃"],["~>","⇝"],["~~","≈"]]),Bo=e=>Lo.get(e)||e,Oo=y("<div class=hrm-node-name-module>"),Ho=y("<div class=hrm-node-name><div class=hrm-node-name-name>"),zo=y("<div class=hrm-node-mark>"),Ro=y("<div class=hrm-node-json>"),jo=y('<pre class="hrm-node-comment no-user-select no-pointer-events">'),Fo=y('<div class="hrm-node-item hrm-node-body">'),At=e=>(()=>{const t=Ho(),n=t.firstChild;return g(n,()=>Bo(e.name.name)),g(t,u(ee,{get when(){return e.name.module},get children(){const r=Oo();return g(r,()=>"@"+e.name.module),r}}),null),t})(),be=e=>(()=>{const t=zo();return g(t,()=>e.mark),t})(),Ko=e=>{const t={[w.Alpha]:()=>(()=>{const n=Ro();return g(n,()=>Q(e.data.val)),n})(),[w.Beta]:()=>u(be,{mark:Jr}),[w.Delta]:()=>[u(be,{mark:Qr}),u(ee,{get when(){return e.data.comment},get children(){const n=jo();return g(n,()=>e.data.comment),n}})],[w.Lambda]:()=>u(be,{mark:eo}),[w.Nu]:()=>u(At,{get name(){return e.data.name}}),[w.Pi]:()=>[u(be,{mark:to}),u(At,{get name(){return e.data.name}})]};return(()=>{const n=Fo();return g(n,u(jn,{get component(){return t[e.data.type]}})),n})()},Wo=y("<div> + "),Tt=e=>{let t;const[n,r]=x(!1);return V(()=>{t&&oe({onEnter:o=>{r(!0);const s=e.g.connectingEdge[0]();s&&s.pointerID===o&&s.isSource&&e.g.setTempConnectingEnd(e.nodeID,t,e.handleID)},onLeave:()=>{r(!1),e.g.connectingEnd[0]().ref===t&&e.g.unsetTempConnectingEnd(t)},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)}},t)}),(()=>{const o=Wo(),s=t;return typeof s=="function"?j(s,o):t=o,v(()=>B(o,`hrm-node-item hrm-handle-new hrm-pill ${e.handleID<0?"lhs":"rhs"} ${n()?"opacity-100":""}`)),o})()},Go=y("<div>"),Uo=y('<div class="hrm-node abs-lt no-user-select"><div class="hrm-node-row no-user-select">'),Yo=e=>{const[t,n]=x(!1),[r,o]=e.nodeW;console.log("[HrmNode] render");let s,l;V(()=>{if(!s)return;const a=s;o(d=>({...d,ref:a,size:{w:a.offsetWidth,h:a.offsetHeight},selected:!1})),oe({capture:!0,onEnter:d=>{const h=e.g.connectingEdge[0]();h&&h.pointerID===d&&!h.isSource&&e.g.setTempConnectingEnd(e.id,s,void 0)},onLeave:()=>{e.g.connectingEnd[0]().ref===l&&e.g.unsetTempConnectingEnd(l)},onUp:d=>{e.g.connectingEdge[0]()&&e.g.addConnectingEnd(d.id,e.id,void 0,e.g.viewPos(d.x,d.y))},onClick:d=>{if(!d.dragged){const h=d.modifiers.shift||d.modifiers.ctrl;e.g.selectOneNode(e.id,h)}},onDrag:d=>{r().selected?e.g.translateSelectedNodes(d.dx,d.dy,e.g.transform[0]().z):e.g.translateOneNode(e.id,d.dx,d.dy,e.g.transform[0]().z)},onDoubleClick:()=>{setTimeout(()=>{e.g.editNode(e.id)},100)}},s)}),V(()=>{l&&oe({onEnter:()=>{n(!0)},onLeave:()=>{n(!1)},onDown:a=>{e.g.addConnectingEnd(a.id,e.id,void 0,e.g.viewPos(a.x,a.y))}},l)});const i=(a,d)=>u(Po,{get g(){return e.g},get nodeID(){return e.id},get node(){return r()},get handleID(){return d()},handleW:a}),c=(a,d)=>i(a,()=>d()+r().handles.lhs);return(()=>{const a=Uo(),d=a.firstChild,h=s;return typeof h=="function"?j(h,a):s=a,g(a,u(ee,{get when(){return or.has(r().data.type)},get children(){return u(Tt,{get g(){return e.g},get nodeID(){return e.id},handleID:-1/0,get node(){return r()}})}}),d),g(d,u(K,{get each(){return r().handles.slice(0,r().handles.lhs)},children:i}),null),g(d,u(Ko,{get data(){return r().data}}),null),g(d,u(K,{get each(){return r().handles.slice(r().handles.lhs)},children:c}),null),g(a,u(ee,{get when(){return sr.has(r().data.type)},get children(){return u(Tt,{get g(){return e.g},get nodeID(){return e.id},handleID:1/0,get node(){return r()}})}}),null),g(a,u(ee,{get when(){return!Ee.has(r().data.type)},get children(){const f=Go(),m=l;return typeof m=="function"?j(m,f):l=f,v(()=>B(f,`hrm-node-handle hrm-pill ${t()?"opacity-100":""}`)),f}}),null),v(f=>{const m=!!r().selected,p=!!r().angular,O=!r().angular,F={left:`${r().position.x}px`,top:`${r().position.y}px`,...e.g.nodeColorBd(r().color)};return m!==f._v$&&a.classList.toggle("selected",f._v$=m),p!==f._v$2&&a.classList.toggle("hrm-rect",f._v$2=p),O!==f._v$3&&a.classList.toggle("hrm-pill",f._v$3=O),f._v$4=ue(a,F,f._v$4),f},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),a})()},qo=y('<svg><path class="hrm-edge-path hrm-edge-path-bd"stroke-width=6px fill=transparent></svg>',!1,!0),Vo=y("<svg><path class=hrm-edge-path stroke-width=3px fill=transparent></svg>",!1,!0),Xo=y("<svg><path class=cursor-pointer stroke-width=1rem fill=transparent></svg>",!1,!0),Zo=e=>{console.log("[HrmEdge] render");let t;const[n]=e.nodeW,[r]=e.handleW,o=_(()=>{console.log("[HrmEdge] Effect (path)"),n();const l=r();if(l.data.type!==N.Sink)return"";const i=l.data.sourceID,c=l.data.sourceHandle;if(i===void 0)return"";const a=e.g.viewRectOf(i,c),d=e.g.viewRect(l.ref);return!a||!d?"":e.nodeID===i?[$t(a,d),$t(a,d)]:[Xe(a,d,.5),Xe(a,d,-.5)]});V(()=>{if(t)return oe({onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},t)});const s=()=>{const l=r().color;return l?e.g.nodeColorStroke(l):{}};return[(()=>{const l=qo();return v(()=>q(l,"d",o()[1])),l})(),(()=>{const l=Vo();return v(i=>{const c=s(),a=o()[0];return i._v$=ue(l,c,i._v$),a!==i._v$2&&q(l,"d",i._v$2=a),i},{_v$:void 0,_v$2:void 0}),l})(),(()=>{const l=Xo(),i=t;return typeof i=="function"?j(i,l):t=l,v(()=>q(l,"d",o()[0])),l})()]},Jo=e=>{const[t]=e.handleW;return u(ee,{get when(){return _(()=>t().data.type===N.Sink)()&&t().data.sourceID},get children(){return u(Zo,e)}})},Qo=e=>{const[t]=e.nodeW;return u(K,{get each(){return t().handles},children:(n,r)=>u(Jo,{get g(){return e.g},get nodeW(){return e.nodeW},handleW:n,get nodeID(){return e.id},get handleID(){return r()}})})},es=y('<svg class="hrm-edges no-user-select no-pointer-events">'),ts=e=>[u(K,{get each(){return[...e.g.nodes()]},children:([t,n])=>u(Yo,{get g(){return e.g},id:t,nodeW:n})}),(()=>{const t=es();return g(t,u(K,{get each(){return[...e.g.nodes()]},children:([n,r])=>u(Qo,{get g(){return e.g},id:n,nodeW:r})})),t})()],ns=(e,t,n)=>.299*e+.587*t+.114*n,Ke=(e,t,n)=>{n<0&&(n+=1),n>1&&(n-=1);let r;return n<1/2?(r=t,n<1/6&&(r=e+(t-e)*6*n)):(r=e,n<2/3&&(r=e+(t-e)*(2/3-n)*6)),Math.round(r*255)},rs=(e,t,n)=>{if(t===0)return[n,n,n];const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;return[Ke(o,r,e+1/3),Ke(o,r,e),Ke(o,r,e-1/3)]},We=(e,t,n)=>`hsl(${e}, ${t*100}%, ${n*100}%)`,os=()=>new Map([["C-a","selectAll"],["M-a","selectAll"],["Backspace","deleteSelectedNodes"],["Delete","deleteSelectedNodes"],["a","addEmptyNode"],["C-=","zoomIn"],["C--","zoomOut"]]);class ss{nodes;setNodes;transform;rootRef;viewRef;editingNode;connectingEdge;connectingEnd;history;historyIndex;selectMode=!1;keymap=new Map;constructor(t){t||(t=[]);const[n,r]=x($e(t),{equals:!1});this.nodes=n,this.setNodes=r,this.editingNode=x(),this.connectingEdge=x(),this.connectingEnd=x({pos:pt}),this.transform=[()=>({x:0,y:0,z:1}),()=>{}],this.history=[t],this.historyIndex=0,this.keymap=os()}thaw(t){this.setNodes($e(t)),this.history=[t],this.historyIndex=0}freeze(){return so(this.nodes())}getSL(){const t=getComputedStyle(document.documentElement),n=Number(t.getPropertyValue("--hrm-node-saturate")),r=Number(t.getPropertyValue("--hrm-node-lightness"));return[n,r]}nodeColorBg(t){const[n,r]=this.getSL(),o=ns(...rs(t,n,r))>192?"#000":"#fff",s=We(t,n,r);return{color:o,"background-color":s,"border-color":s}}nodeColorBd(t){const[n,r]=this.getSL();return{"border-color":We(t,n,r)}}nodeColorStroke(t){const[n,r]=this.getSL();return{stroke:We(t,n,r)}}saveHistory(){this.historyIndex++,this.history.length>this.historyIndex&&(this.history=this.history.slice(0,this.historyIndex)),this.history.push(this.freeze())}undo(){this.historyIndex>0&&this.setNodes($e(this.history[--this.historyIndex]))}redo(){this.historyIndex<this.history.length-1&&this.setNodes($e(this.history[++this.historyIndex]))}size(){if(!this.rootRef)return;const t=this.rootRef.getBoundingClientRect();return{w:t.width,h:t.height}}viewPos(t,n){if(!this.viewRef)return;const r=this.viewRef.getBoundingClientRect(),o=T(this.transform[0]);return{x:(t-r.left)/o.z,y:(n-r.top)/o.z}}viewRect(t){if(!t||!this.viewRef)return;const n=this.viewRef.getBoundingClientRect(),r=t.getBoundingClientRect(),o=!t.classList.contains("hrm-pill"),s=T(this.transform[0]);return{x:(r.left-n.left)/s.z,y:(r.top-n.top)/s.z,w:r.width/s.z,h:r.height/s.z,angular:o}}fitTransformFor(t){if(!t)return;const n=t.getBoundingClientRect(),r=this.rootRef.getBoundingClientRect();console.log(n,r);let o=0,s=0;n.right+o>r.right&&(o=r.right-n.right),n.left+o<r.left&&(o=r.left-n.left),n.bottom+s>r.bottom&&(s=r.bottom-n.bottom),n.top+s<r.top&&(s=r.top-n.top),console.log(o,s),this.transform[1](l=>({...l,x:l.x+o,y:l.y+s}))}usedRect(){const t={x:0,y:0,w:0,h:0};for(const[,n]of this.nodes()){const r=n[0](),o=r.position,s=r.size;t.x>o.x&&(t.w+=t.x-o.x,t.x=o.x),t.y>o.y&&(t.h+=t.y-o.y,t.y=o.y),t.w=Math.max(t.w,o.x+s.w-t.x),t.h=Math.max(t.h,o.y+s.h-t.y)}return t}viewRectOf(t,n){const r=this.nodes().get(t);if(!r)return;const o=r[0](),s=n===void 0?o.ref:o.handles[n][0]().ref;if(s)return this.viewRect(s)}addEmptyNode(t){if(!t){const i=this.transform[0](),c=this.rootRef;if(!c)t={x:0,y:0};else{const a=c.getBoundingClientRect();t={x:(a.width/2-i.x)/i.z,y:(a.height/2-i.y)/i.z}}}const n=nr();let r;const o=this.connectingEdge[0]();if(o)if(o.isSource)r={id:o.nodeID,handle:o.handleID};else{const i=this.nodes().get(o.nodeID);i&&i[0]().handles[o.handleID][1](a=>({...a,data:{type:N.Sink,sourceID:n}}))}this.connectingEdge[1](void 0);const s={type:w.Beta,fn:r,args:[]},l={id:n,pos:t,x:s};return this.setNodes(i=>(i.set(l.id,nt(l)),i)),this.saveHistory(),l.id}translateOneNode(t,n,r,o){const s=this.nodes().get(t);s&&s[1](l=>({...l,position:{x:l.position.x+n/o,y:l.position.y+r/o}}))}translateSelectedNodes(t,n,r){for(const[,o]of this.nodes())o[1](s=>s.selected?{...s,position:{x:s.position.x+t/r,y:s.position.y+n/r}}:s)}selectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?n:{...n,selected:!0})}deselectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?{...n,selected:!1}:n)}selectOneNode(t,n){this.connectingEdge[1](void 0);for(const[r,o]of this.nodes())r===t?o[1](s=>({...s,selected:!s.selected})):!n&&!this.selectMode&&o[1](s=>s.selected?{...s,selected:!1}:s)}deleteSelectedNodes(){this.setNodes(t=>{const n=new Set;for(const[r,o]of t){const s=o[0]();s.selected&&!Ee.has(s.data.type)&&n.add(r)}for(const[r,o]of t)if(n.has(r))t.delete(r);else{const l=o[0]().handles;for(const[,i]of l)i(c=>{if(c.data.type===N.Sink){const a=c.data.sourceID;if(a&&n.has(a))return{...c,data:{type:N.Sink}}}return c})}return t}),this.saveHistory()}deleteEdge(t,n){const r=this.nodes().get(t);r&&r[0]().handles[n][1](o=>o.data.type!==N.Sink?o:{...o,data:{type:N.Sink}})}resetConnectingState(){ie(()=>{this.connectingEdge[1](void 0),this.connectingEnd[1]({pos:pt})})}setTempConnectingEnd(t,n,r){ie(()=>{const o=this.connectingEdge[0]();o&&(o.nodeID!==t||o.handleID!==r)&&this.connectingEnd[1](s=>({...s,ref:n}))})}unsetTempConnectingEnd(t){ie(()=>{this.connectingEdge[0]()&&this.connectingEnd[1](r=>r.ref===t?{...r,ref:void 0}:r)})}finConnecting(t,n){const r=this.connectingEdge[0]();r&&(r.nodeID!==t||r.handleID!==n)&&(r.isSource&&n!==void 0?this.connectEdge(t,n,r.nodeID,r.handleID):!r.isSource&&r.handleID!==void 0&&this.connectEdge(r.nodeID,r.handleID,t,n))}makeLeftHandle(t){const n=this.nodes().get(t);return n&&(n[1](r=>(r.handles.unshift(U("")),r.handles.lhs++,{...r})),Dt(n[0]())),0}makeRightHandle(t){const n=this.nodes().get(t);if(!n)return 0;const r=n[0](),o=r.handles.length;return n[1](s=>(s.handles.push(U("")),{...s})),Dt(r),o}connectEdge(t,n,r,o){ie(()=>{n===-1/0&&(n=this.makeLeftHandle(t)),n===1/0&&(n=this.makeRightHandle(t));const s=this.nodes(),l=s.get(t),i=s.get(r);if(!l||!i)return;if(o===void 0){if(Ee.has(i[0]().data.type))return}else{const a=i[0]().handles[o];if(!a||a[0]().data.type!==N.Source)return}l[0]().handles[n][1](a=>a.data.type!==N.Sink?a:{...a,data:{type:N.Sink,sourceID:r,sourceHandle:o}}),this.resetConnectingState(),this.saveHistory()})}updateConnectingEnd(t){this.connectingEnd[1](n=>({...n,pos:t}))}addConnectingEnd(t,n,r,o){this.deselectAll();const s=this.nodes().get(n);if(!s)return;const[l]=s;let i=!0;if(r!==void 0){const a=l().handles[r];if(!a)return;i=a[0]().data.type===N.Source}const c=this.connectingEdge[0]();if(c&&c.nodeID===n&&c.handleID===r){this.resetConnectingState();return}if(c&&!i===c.isSource)return i?this.connectEdge(c.nodeID,c.handleID,n,r):this.connectEdge(n,r,c.nodeID,c.handleID);ie(()=>{this.connectingEdge[1]({pointerID:t,isSource:i,nodeID:n,handleID:r}),o&&this.connectingEnd[1](a=>({...a,pos:o}))})}editNode(t){const n=this.nodes().get(t);n&&!Ee.has(n[0]().data.type)&&this.editingNode[1]({node:Qt(t,n[0]()),color:n[0]().color})}applyEditNode(t){ie(()=>{const n=this.editingNode[0]();if(!n)return;const r=n.node.id,o={...n.node,x:Ir(t)},s=nt(o),l=this.nodes().get(r);if(!l)return;s[1](a=>({...a,color:l[0]().color}));const i=[];for(const a of l?l[0]().handles:[]){const d=a[0]();d.data.type===N.Sink&&d.data.sourceID&&i.push(d.data)}console.log(i);const c=s[0]().handles;for(let a=0;a<c.length;a++)c[a][1](d=>{if(d.data.type!==N.Sink)return d;const h={type:N.Sink},f=i[a];return f&&(h.sourceID=f.sourceID,h.sourceHandle=f.sourceHandle),{...d,data:h}});this.setNodes(a=>(a.set(r,s),a)),this.editingNode[1](void 0)})}cancelEditNode(){this.editingNode[1](void 0)}handleKey(t){const n=this.keymap.get(t);n&&n in this&&this[n]()}zoomIn(){this.transform[1](t=>({...t,z:t.z*1.1}))}zoomOut(){this.transform[1](t=>({...t,z:t.z/1.1}))}resetZoom(){this.transform[1](()=>({x:0,y:0,z:1}))}}const is=y('<svg class="hrm-edges no-user-select no-pointer-events"><path class="hrm-edge-path hrm-c-stroke-empty"stroke-width=2px fill=transparent>'),ls=y("<div>"),cs=e=>{const t=()=>{const s=e.g.connectingEdge[0]();return s?e.g.viewRectOf(s.nodeID,s.handleID):void 0},n=()=>{const s=e.g.connectingEdge[0]();if(!s)return;const l=e.g.connectingEnd[0](),i=e.g.nodes().get(s.nodeID),c=e.g.viewRectOf(s.nodeID,s.handleID);if(!i||!c)return;const a=e.g.viewRect(l.ref);if(a)return Xe(c,a,0)},r=()=>t()?.angular?"hrm-rect":"hrm-pill",o=()=>{const s=t();if(s)return{visibility:"visible",left:`${s.x}px`,top:`${s.y}px`,width:`${s.w}px`,height:`${s.h}px`}};return V(()=>{console.log(t())}),[(()=>{const s=is(),l=s.firstChild;return v(()=>q(l,"d",n())),s})(),(()=>{const s=ls();return v(l=>{const i=`hrm-editing-edge-handle no-pointer-events ${r()}`,c=o();return i!==l._v$&&B(s,l._v$=i),l._v$2=ue(s,c,l._v$2),l},{_v$:void 0,_v$2:void 0}),s})()]},as=y("<div class=code-area><textarea></textarea><textarea>"),ds=10,lt=(e,t)=>{for(;t>0&&e.charCodeAt(t-1)!==ds;)t--;return t},us=(e,t,n)=>{const r=lt(e,t),o=e.slice(r,n).split(`
`);return[e.slice(0,r)+"  "+o.join(`
  `)+e.slice(n),t+2,n+2*o.length]},hs=(e,t,n)=>{const r=lt(e,t),o=e.slice(r,n).split(`
`);let s=t,l=n;for(let i=0;i<o.length;i++){const c=o[i].startsWith("  ")?2:o[i].startsWith("	")?1:0;i===0&&(s-=c),l-=c,o[i]=o[i].slice(c)}return[e.slice(0,r)+o.join(`
`)+e.slice(n),s,l]},fs=e=>{let t;const n=i=>{!e.autoresize||!t||(t.value=i.value,t.style.width=i.style.width,i.style.height=t.scrollHeight+"px")},r=i=>{if(!(e.onKeyDown&&e.onKeyDown(i))){switch(i.key){case"Tab":{i.preventDefault();const c=i.currentTarget,a=(i.shiftKey?hs:us)(c.value,c.selectionStart,c.selectionEnd);c.value=a[0],c.selectionStart=a[1],c.selectionEnd=a[2]}break;case"Enter":{i.preventDefault();const c=i.currentTarget,a=c.selectionStart,d=c.value,h=/[ \t]*/y;h.lastIndex=lt(d,a-1);const f=h.exec(d)?.[0]??"";c.value=d.slice(0,a)+`
`+f+d.slice(c.selectionEnd),c.selectionStart=c.selectionEnd=a+1+f.length}break}n(i.target)}},o=i=>{e.onInput&&e.onInput(i)},s=i=>{e.onChange&&e.onChange(i)},l=i=>{n(i.currentTarget)};return(()=>{const i=as(),c=i.firstChild,a=c.nextSibling;c.$$keydown=r,c.$$input=o,c.addEventListener("change",s),c.addEventListener("focus",l);const d=e.ref;typeof d=="function"?j(d,c):e.ref=c;const h=t;return typeof h=="function"?j(h,a):t=a,a.disabled=!0,v(f=>{const m=e.autofocus,p=e.disabled,O=`form-control ${e.class??""}`,F=e.placeholder,G=`form-control abs-lt ${e.class??""} code-area-hidden no-pointer-events no-user-select`;return m!==f._v$&&(c.autofocus=f._v$=m),p!==f._v$2&&(c.disabled=f._v$2=p),O!==f._v$3&&B(c,f._v$3=O),F!==f._v$4&&q(c,"placeholder",f._v$4=F),G!==f._v$5&&B(a,f._v$5=G),f},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),v(()=>c.value=e.value),i})()};W(["input","keydown"]);const gs=y("<button class=suggest>"),ms=y("<div class=suggests>"),ws=y("<div class=hrm-edit-overlay>"),ys=e=>(()=>{const t=gs();return t.$$click=()=>alert(e.label),g(t,()=>e.label),t})(),ps=e=>(()=>{const t=ms();return g(t,u(K,{get each(){return e.items},children:n=>u(ys,n)})),t})(),vs=e=>{let t,n;const r=o=>{if(n){if(o.key==="Enter"){let s=o.ctrlKey||o.metaKey;if(s||=!Er(n.value),s)return e.g.applyEditNode(n?n.value:""),!0}return!1}};return hn(()=>{if(t){const o=["mousedown","touchstart","pointerdown","wheel"],s=l=>l.stopPropagation();for(const l of o)t.addEventListener(l,s);n?.click(),e.g.fitTransformFor(t)}}),(()=>{const o=ws(),s=t;return typeof s=="function"?j(s,o):t=o,g(o,u(Be,{class:"shadow-1 w-fit mb-1",get children(){return[u(D,{get color(){return b.success},onClick:()=>e.g.applyEditNode(n?n.value:""),get children(){return u(yo,{})}}),u(D,{get color(){return b.warning},onClick:()=>{n.value="",n.focus()},get children(){return u(rt,{})}}),u(D,{get color(){return b.danger},onClick:()=>e.g.cancelEditNode(),get children(){return u(po,{})}})]}}),null),g(o,u(fs,{ref(l){const i=n;typeof i=="function"?i(l):n=l},autofocus:!0,autoresize:!0,class:"shadow-1",placeholder:"[NODE DATA]",get value(){return Nr(e.node.x)},onKeyDown:r}),null),g(o,u(ps,{items:[{label:"beta",text:"beta"},{label:"gamma",text:"gamma"},{label:"delta",text:"delta"},{label:"epsilon",text:"epsilon"},{label:"omega",text:"omega"},{label:"alpha",text:"alpha"},{label:"{",text:"{"}]}),null),v(l=>ue(o,{...e.g.nodeColorBd(e.color),transform:`translate(${e.node.pos.x-16}px, ${e.node.pos.y-16}px)`},l)),o})()},$s=e=>u(ee,{get when(){return e.g.editingNode[0]()},get children(){return u(vs,{get g(){return e.g},get color(){return e.g.editingNode[0]().color},get node(){return e.g.editingNode[0]().node}})}});W(["click"]);const bs=e=>[e.ctrlKey?"C":"",e.altKey?"A":"",e.shiftKey?"S":"",e.metaKey?"M":"",e.key].join("-"),xs=y('<div class="hrm-container abs-parent"tabindex=0>'),ks=e=>{const t=new ss(e.initialNodes);e.stateBox&&(e.stateBox[0]=t);const n=()=>{t.rootRef&&(t.rootRef.scrollLeft!=0||t.rootRef.scrollTop!=0)&&t.rootRef.scrollTo(0,0)},r=s=>{if(s.target!==t.rootRef)return;const l=bs(s);console.log(l),t.handleKey(l)},o=s=>{s.currentTarget.focus()};return(()=>{const s=xs();s.addEventListener("pointerenter",o),s.$$keydown=r,s.addEventListener("scroll",n);const l=t.rootRef;return typeof l=="function"?j(l,s):t.rootRef=s,g(s,u(Ao,{g:t,onClick:()=>t.deselectAll(),onDoubleClick:i=>{const c=t.viewPos(i.x,i.y),a=t.addEmptyNode(c);setTimeout(()=>{t.editNode(a)},100)},onLongPress:()=>{Ur("[Hrm] Long press")},get children(){return[u(ts,{g:t}),u(cs,{g:t}),u($s,{g:t})]}})),s})()};W(["keydown"]);const Es=y('<div class="editor-root-hrm abs-parent">'),Cs=e=>(()=>{const t=Es();return g(t,u(ks,{get initialNodes(){return ir()},get stateBox(){return e.stateBox}})),t})(),_s=y("<div class=dropdown><button></button><div>"),Ss=y("<hr>"),Ms=e=>{const[t,n]=x(!1);return(()=>{const r=_s(),o=r.firstChild,s=o.nextSibling;return o.$$click=()=>{n(!t())},g(o,()=>e.children),s.$$click=()=>{n(!1)},g(s,u(K,{get each(){return e.list},children:(l,i)=>[u(ee,{get when(){return i()>0},get children(){return Ss()}}),u(K,{each:l,children:c=>c})]})),v(l=>{const i=`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`,c=`dropdown-menu ${t()?"visible":"hidden"}`;return i!==l._v$&&B(o,l._v$=i),c!==l._v$2&&B(s,l._v$2=c),l},{_v$:void 0,_v$2:void 0}),r})()};W(["click"]);const Ds=y("<div>"),on=e=>(()=>{const t=Ds();return g(t,()=>e.children),v(()=>B(t,`form-control btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();const Ns=y('<div class=m-modal><div class="m-modal-content m-modal-content-stick-to-center">'),sn=e=>{const t=n=>{e.onClose&&n.target===n.currentTarget&&e.onClose()};return(()=>{const n=Ns(),r=n.firstChild;return n.$$click=t,g(r,()=>e.children),v(()=>r.classList.toggle("h-100",!!e.fullHeight)),n})()};W(["click"]);const Ge=y("<h3> <!> "),Is=e=>u(sn,{get onClose(){return e.onClose},get children(){return[u(Be,{get children(){return[u(on,{get color(){return b.primary},get children(){return u(en,{})}}),u(Xt,{class:"flex-1",disabled:!0,value:"Graph Tools"}),u(D,{get color(){return b.danger},get onClick(){return e.onClose},get children(){return u(rn,{})}})]}}),(()=>{const t=Ge(),n=t.firstChild,r=n.nextSibling;return r.nextSibling,g(t,()=>R("graphTools.layout"),r),t})(),u(D,{get color(){return b.primary},get children(){return[" ",_(()=>R("graphTools.tool.layoutDefault"))," "]}}),u(D,{get color(){return b.secondary},get children(){return[" ",_(()=>R("graphTools.tool.layoutLinear"))," "]}}),(()=>{const t=Ge(),n=t.firstChild,r=n.nextSibling;return r.nextSibling,g(t,()=>R("graphTools.optimization"),r),t})(),u(D,{get color(){return b.warning},get children(){return[" ",_(()=>R("graphTools.tool.selectUnreachables"))," "]}}),(()=>{const t=Ge(),n=t.firstChild,r=n.nextSibling;return r.nextSibling,g(t,()=>R("graphTools.validate"),r),t})(),u(D,{get color(){return b.danger},get children(){return[" ",_(()=>R("graphTools.tool.validateGraph"))," "]}})]}}),As=e=>u(sn,{get onClose(){return e.onClose},get children(){return[u(Be,{get children(){return[u(on,{get color(){return b.primary},get children(){return u(tn,{})}}),u(Xt,{class:"flex-1",disabled:!0,value:"Browser Tools"}),u(D,{get color(){return b.danger},get onClick(){return e.onClose},get children(){return u(rn,{})}})]}}),"Hello"]}});let ce=function(e){return e[e.None=0]="None",e[e.Browser=1]="Browser",e[e.Launch=2]="Launch",e[e.GraphTools=3]="GraphTools",e}({});class Ts{constructor(){const[t,n]=x({type:ce.None});this.state=t,this.setState=n}close(){this.setState(t=>({...t,type:ce.None}))}open(t){this.setState(n=>({...n,type:t}))}openGraphTools(){this.setState(t=>({...t,type:ce.GraphTools}))}}const Ps=e=>{const t=new Ts;return e.actionsBox&&(e.actionsBox[0]=t),u(Wt,{get children(){return[u(ge,{get when(){return t.state().type===ce.GraphTools},get children(){return u(Is,{onClose:()=>t.close(),get stateBox(){return e.stateBox}})}}),u(ge,{get when(){return t.state().type===ce.Browser},get children(){return u(As,{onClose:()=>t.close()})}})]}})},Ls=y("<a> <!> "),Ue=y("<a> "),Bs=y("<div class=editor-root-hrm-header-container>");var we=function(e){return e[e.Add=0]="Add",e[e.Edit=1]="Edit",e}(we||{});const ln=()=>[{name:R("mainEditor.menu.addTools"),icon:u(nn,{})},{name:R("mainEditor.menu.selectTools"),icon:u(go,{})}],Os=e=>ln()[e].icon,Hs=(e,t)=>{switch(e){case we.Add:return[u(D,{get color(){return b.warning},onClick:()=>t[0]?.undo(),get children(){return u(co,{})}}),u(D,{get color(){return b.warning},onClick:()=>t[0]?.redo(),get children(){return u(ao,{})}}),u(D,{get color(){return b.secondary},class:"flex-1",onClick:()=>t[0]?.addEmptyNode(),get children(){return u(nn,{})}}),u(D,{get color(){return b.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return u(rt,{})}})];case we.Edit:return[u(D,{get color(){return b.warning},class:"flex-1",onClick:()=>t[0]?.deselectAll(),get children(){return u(fo,{})}}),u(D,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(wo,{})}}),u(D,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(ho,{})}}),u(D,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(uo,{})}}),u(D,{get color(){return b.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return u(rt,{})}})]}},zs=(e,t)=>ln().map((n,r)=>(()=>{const o=Ls(),s=o.firstChild,l=s.nextSibling;return l.nextSibling,o.$$click=()=>{t(i=>({...i,toolSet:r})),e[0]&&(e[0].selectMode=r===we.Edit)},g(o,()=>n.icon,l),g(o,()=>n.name,null),o})()),Rs=e=>{const[t,n]=x({toolSet:we.Add}),r=()=>[zs(e.stateBox,n),[(()=>{const o=Ue(),s=o.firstChild;return o.$$click=()=>e.modalActionsBox?.[0]?.open(ce.Browser),g(o,u(tn,{}),s),g(o,()=>R("mainEditor.menu.browser"),null),o})(),(()=>{const o=Ue(),s=o.firstChild;return g(o,u(mo,{}),s),g(o,()=>R("mainEditor.menu.launch"),null),o})(),(()=>{const o=Ue(),s=o.firstChild;return o.$$click=()=>e.modalActionsBox?.[0]?.openGraphTools(),g(o,u(en,{}),s),g(o,()=>R("mainEditor.menu.graphTools"),null),o})()]];return(()=>{const o=Bs();return g(o,u(Be,{class:"editor-root-hrm-header shadow-2",get children(){return[u(Ms,{get color(){return b.primary},get list(){return r()},get children(){return Os(t().toolSet)}}),_(()=>Hs(t().toolSet,e.stateBox))]}})),o})()};W(["click"]);const js=y("<div class=editor-root>"),Fs=()=>{const e=Et(),t=Et();return(()=>{const n=js();return g(n,u(Cs,{stateBox:e}),null),g(n,u(Rs,{stateBox:e,modalActionsBox:t}),null),g(n,u(Ps,{actionsBox:t,stateBox:e}),null),n})()};zr();const Ks=()=>u(Xn,{get children(){return[u(Yr,{}),u(Fs,{})]}}),Ws=document.getElementById("root");An(()=>u(Ks,{}),Ws);
