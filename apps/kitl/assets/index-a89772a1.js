(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const Ft=(e,t)=>e===t,xe=Symbol("solid-proxy"),qt=Symbol("solid-track"),Xt=Symbol("solid-dev-component"),ke={equals:Ft};let xt=Et;const F=1,_e=2,kt={owned:null,cleanups:null,context:null,owner:null},Te={};var k=null;let Oe=null,$=null,D=null,W=null,Ie=0;function ve(e,t){const n=$,o=k,r=e.length===0,s=t===void 0?o:t,l=r?kt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},i=r?e:()=>e(()=>A(()=>Ae(l)));k=l,$=null;try{return Q(i,!0)}finally{$=n,k=o}}function _(e,t){t=t?Object.assign({},ke,t):ke;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},o=r=>(typeof r=="function"&&(r=r(n.value)),Ct(n,r));return[_t.bind(n),o]}function tt(e,t,n){const o=Ne(e,t,!0,F);le(o)}function p(e,t,n){const o=Ne(e,t,!1,F);le(o)}function Y(e,t,n){xt=rn;const o=Ne(e,t,!1,F);(!n||!n.render)&&(o.user=!0),W?W.push(o):le(o)}function C(e,t,n){n=n?Object.assign({},ke,n):ke;const o=Ne(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,le(o),_t.bind(o)}function Vt(e){return e&&typeof e=="object"&&"then"in e}function Zt(e,t,n){let o,r,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(o=!0,r=e,s=t||{}):(o=e,r=t,s=n||{});let l=null,i=Te,c=!1,d="initialValue"in s,a=typeof o=="function"&&C(o);const f=new Set,[h,m]=(s.storage||_)(s.initialValue),[v,z]=_(void 0),[U,G]=_(void 0,{equals:!1}),[O,L]=_(d?"ready":"unresolved");function P(b,S,T,re){return l===b&&(l=null,re!==void 0&&(d=!0),(b===i||S===i)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(re,{value:S})),i=Te,X(S,T)),S}function X(b,S){Q(()=>{S===void 0&&m(()=>b),L(S!==void 0?"errored":d?"ready":"unresolved"),z(S);for(const T of f.keys())T.decrement();f.clear()},!1)}function ce(){const b=en,S=h(),T=v();if(T!==void 0&&!l)throw T;return $&&!$.user&&b&&tt(()=>{U(),l&&(b.resolved||f.has(b)||(b.increment(),f.add(b)))}),S}function Pe(b=!0){if(b!==!1&&c)return;c=!1;const S=a?a():o;if(S==null||S===!1){P(l,A(h));return}const T=i!==Te?i:A(()=>r(S,{value:h(),refetching:b}));return Vt(T)?(l=T,c=!0,queueMicrotask(()=>c=!1),Q(()=>{L(d?"refreshing":"pending"),G()},!1),T.then(re=>P(T,re,void 0,S),re=>P(T,void 0,Mt(re),S))):(P(l,T,void 0,S),T)}return Object.defineProperties(ce,{state:{get:()=>O()},error:{get:()=>v()},loading:{get(){const b=O();return b==="pending"||b==="refreshing"}},latest:{get(){if(!d)return ce();const b=v();if(b&&!l)throw b;return h()}}}),a?tt(()=>Pe(!1)):Pe(!1),[ce,{refetch:Pe,mutate:m}]}function oe(e){return Q(e,!1)}function A(e){if($===null)return e();const t=$;$=null;try{return e()}finally{$=t}}function Jt(e){return k===null||(k.cleanups===null?k.cleanups=[e]:k.cleanups.push(e)),e}function Qt(e){const t=C(e),n=C(()=>Ke(t()));return n.toArray=()=>{const o=n();return Array.isArray(o)?o:o!=null?[o]:[]},n}let en;function _t(){if(this.sources&&this.state)if(this.state===F)le(this);else{const e=D;D=null,Q(()=>Ee(this),!1),D=e}if($){const e=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(e)):($.sources=[this],$.sourceSlots=[e]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function Ct(e,t,n){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&Q(()=>{for(let r=0;r<e.observers.length;r+=1){const s=e.observers[r],l=Oe&&Oe.running;l&&Oe.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?D.push(s):W.push(s),s.observers&&St(s)),l||(s.state=F)}if(D.length>1e6)throw D=[],new Error},!1)),t}function le(e){if(!e.fn)return;Ae(e);const t=k,n=$,o=Ie;$=k=e,tn(e,e.value,o),$=n,k=t}function tn(e,t,n){let o;try{o=e.fn(t)}catch(r){return e.pure&&(e.state=F,e.owned&&e.owned.forEach(Ae),e.owned=null),e.updatedAt=n+1,Dt(r)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ct(e,o):e.value=o,e.updatedAt=n)}function Ne(e,t,n,o=F,r){const s={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:k,context:k?k.context:null,pure:n};return k===null||k!==kt&&(k.owned?k.owned.push(s):k.owned=[s]),s}function Ce(e){if(e.state===0)return;if(e.state===_e)return Ee(e);if(e.suspense&&A(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ie);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===F)le(e);else if(e.state===_e){const o=D;D=null,Q(()=>Ee(e,t[0]),!1),D=o}}function Q(e,t){if(D)return e();let n=!1;t||(D=[]),W?n=!0:W=[],Ie++;try{const o=e();return nn(n),o}catch(o){n||(W=null),D=null,Dt(o)}}function nn(e){if(D&&(Et(D),D=null),e)return;const t=W;W=null,t.length&&Q(()=>xt(t),!1)}function Et(e){for(let t=0;t<e.length;t++)Ce(e[t])}function rn(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:Ce(o)}for(t=0;t<n;t++)Ce(e[t])}function Ee(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const o=e.sources[n];if(o.sources){const r=o.state;r===F?o!==t&&(!o.updatedAt||o.updatedAt<Ie)&&Ce(o):r===_e&&Ee(o,t)}}}function St(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=_e,n.pure?D.push(n):W.push(n),n.observers&&St(n))}}function Ae(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),o=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const s=r.pop(),l=n.observerSlots.pop();o<r.length&&(s.sourceSlots[l]=o,r[o]=s,n.observerSlots[o]=l)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ae(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Mt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Dt(e,t=k){throw Mt(e)}function Ke(e){if(typeof e=="function"&&!e.length)return Ke(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const o=Ke(e[n]);Array.isArray(o)?t.push.apply(t,o):t.push(o)}return t}return e}const on=Symbol("fallback");function nt(e){for(let t=0;t<e.length;t++)e[t]()}function sn(e,t,n={}){let o=[],r=[],s=[],l=0,i=t.length>1?[]:null;return Jt(()=>nt(s)),()=>{let c=e()||[],d,a;return c[qt],A(()=>{let h=c.length,m,v,z,U,G,O,L,P,X;if(h===0)l!==0&&(nt(s),s=[],o=[],r=[],l=0,i&&(i=[])),n.fallback&&(o=[on],r[0]=ve(ce=>(s[0]=ce,n.fallback())),l=1);else if(l===0){for(r=new Array(h),a=0;a<h;a++)o[a]=c[a],r[a]=ve(f);l=h}else{for(z=new Array(h),U=new Array(h),i&&(G=new Array(h)),O=0,L=Math.min(l,h);O<L&&o[O]===c[O];O++);for(L=l-1,P=h-1;L>=O&&P>=O&&o[L]===c[P];L--,P--)z[P]=r[L],U[P]=s[L],i&&(G[P]=i[L]);for(m=new Map,v=new Array(P+1),a=P;a>=O;a--)X=c[a],d=m.get(X),v[a]=d===void 0?-1:d,m.set(X,a);for(d=O;d<=L;d++)X=o[d],a=m.get(X),a!==void 0&&a!==-1?(z[a]=r[d],U[a]=s[d],i&&(G[a]=i[d]),a=v[a],m.set(X,a)):s[d]();for(a=O;a<h;a++)a in z?(r[a]=z[a],s[a]=U[a],i&&(i[a]=G[a],i[a](a))):r[a]=ve(f);r=r.slice(0,l=h),o=c.slice(0)}return r});function f(h){if(s[a]=h,i){const[m,v]=_(a);return i[a]=v,t(c[a],m)}return t(c[a])}}}function u(e,t){return A(()=>e(t||{}))}function he(){return!0}const We={get(e,t,n){return t===xe?n:e.get(t)},has(e,t){return t===xe?!0:e.has(t)},set:he,deleteProperty:he,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:he,deleteProperty:he}},ownKeys(e){return e.keys()}};function Le(e){return(e=typeof e=="function"?e():e)?e:{}}function ln(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function rt(...e){let t=!1;for(let s=0;s<e.length;s++){const l=e[s];t=t||!!l&&xe in l,e[s]=typeof l=="function"?(t=!0,C(l)):l}if(t)return new Proxy({get(s){for(let l=e.length-1;l>=0;l--){const i=Le(e[l])[s];if(i!==void 0)return i}},has(s){for(let l=e.length-1;l>=0;l--)if(s in Le(e[l]))return!0;return!1},keys(){const s=[];for(let l=0;l<e.length;l++)s.push(...Object.keys(Le(e[l])));return[...new Set(s)]}},We);const n={},o={},r=new Set;for(let s=e.length-1;s>=0;s--){const l=e[s];if(!l)continue;const i=Object.getOwnPropertyNames(l);for(let c=0,d=i.length;c<d;c++){const a=i[c];if(a==="__proto__"||a==="constructor")continue;const f=Object.getOwnPropertyDescriptor(l,a);if(!r.has(a))f.get?(r.add(a),Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:ln.bind(o[a]=[f.get.bind(l)])})):(f.value!==void 0&&r.add(a),n[a]=f.value);else{const h=o[a];h?f.get?h.push(f.get.bind(l)):f.value!==void 0&&h.push(()=>f.value):n[a]===void 0&&(n[a]=f.value)}}}return n}function It(e,...t){if(xe in e){const r=new Set(t.length>1?t.flat():t[0]),s=t.map(l=>new Proxy({get(i){return l.includes(i)?e[i]:void 0},has(i){return l.includes(i)&&i in e},keys(){return l.filter(i=>i in e)}},We));return s.push(new Proxy({get(l){return r.has(l)?void 0:e[l]},has(l){return r.has(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!r.has(l))}},We)),s}const n={},o=t.map(()=>({}));for(const r of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,r),l=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let i=!1,c=0;for(const d of t)d.includes(r)&&(i=!0,l?o[c][r]=s.value:Object.defineProperty(o[c],r,s)),++c;i||(l?n[r]=s.value:Object.defineProperty(n,r,s))}return[...o,n]}const Nt=e=>`Stale read from <${e}>.`;function j(e){const t="fallback"in e&&{fallback:()=>e.fallback};return C(sn(()=>e.each,e.children,t||void 0))}function Z(e){const t=e.keyed,n=C(()=>e.when,void 0,{equals:(o,r)=>t?o===r:!o==!r});return C(()=>{const o=n();if(o){const r=e.children;return typeof r=="function"&&r.length>0?A(()=>r(t?o:()=>{if(!A(n))throw Nt("Show");return e.when})):r}return e.fallback},void 0,void 0)}function At(e){let t=!1;const n=(s,l)=>s[0]===l[0]&&(t?s[1]===l[1]:!s[1]==!l[1])&&s[2]===l[2],o=Qt(()=>e.children),r=C(()=>{let s=o();Array.isArray(s)||(s=[s]);for(let l=0;l<s.length;l++){const i=s[l].when;if(i)return t=!!s[l].keyed,[l,i,s[l]]}return[-1]},void 0,{equals:n});return C(()=>{const[s,l,i]=r();if(s<0)return e.fallback;const c=i.children;return typeof c=="function"&&c.length>0?A(()=>c(t?l:()=>{if(A(r)[0]!==s)throw Nt("Match");return i.when})):c},void 0,void 0)}function pe(e){return e}const cn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],an=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...cn]),dn=new Set(["innerHTML","textContent","innerText","children"]),un=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),fn=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function hn(e,t){const n=fn[e];return typeof n=="object"?n[t]?n.$:void 0:n}const gn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),mn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),wn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function yn(e,t,n){let o=n.length,r=t.length,s=o,l=0,i=0,c=t[r-1].nextSibling,d=null;for(;l<r||i<s;){if(t[l]===n[i]){l++,i++;continue}for(;t[r-1]===n[s-1];)r--,s--;if(r===l){const a=s<o?i?n[i-1].nextSibling:n[s-i]:c;for(;i<s;)e.insertBefore(n[i++],a)}else if(s===i)for(;l<r;)(!d||!d.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[s-1]&&n[i]===t[r-1]){const a=t[--r].nextSibling;e.insertBefore(n[i++],t[l++].nextSibling),e.insertBefore(n[--s],a),t[r]=n[s]}else{if(!d){d=new Map;let f=i;for(;f<s;)d.set(n[f],f++)}const a=d.get(t[l]);if(a!=null)if(i<a&&a<s){let f=l,h=1,m;for(;++f<r&&f<s&&!((m=d.get(t[f]))==null||m!==a+h);)h++;if(h>a-i){const v=t[l];for(;i<a;)e.insertBefore(n[i++],v)}else e.replaceChild(n[i++],t[l++])}else l++;else t[l++].remove()}}}const ot="_$DX_DELEGATE";function vn(e,t,n,o={}){let r;return ve(s=>{r=s,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},o.owner),()=>{r(),t.textContent=""}}function y(e,t,n){let o;const r=()=>{const l=document.createElement("template");return l.innerHTML=e,n?l.content.firstChild.firstChild:l.content.firstChild},s=t?()=>A(()=>document.importNode(o||(o=r()),!0)):()=>(o||(o=r())).cloneNode(!0);return s.cloneNode=s,s}function q(e,t=window.document){const n=t[ot]||(t[ot]=new Set);for(let o=0,r=e.length;o<r;o++){const s=e[o];n.has(s)||(n.add(s),t.addEventListener(s,kn))}}function ee(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function pn(e,t,n,o){o==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,o)}function B(e,t){t==null?e.removeAttribute("class"):e.className=t}function Se(e,t,n,o){if(o)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=s=>r.call(e,n[1],s))}else e.addEventListener(t,n)}function $n(e,t,n={}){const o=Object.keys(t||{}),r=Object.keys(n);let s,l;for(s=0,l=r.length;s<l;s++){const i=r[s];!i||i==="undefined"||t[i]||(st(e,i,!1),delete n[i])}for(s=0,l=o.length;s<l;s++){const i=o[s],c=!!t[i];!i||i==="undefined"||n[i]===c||!c||(st(e,i,!0),n[i]=c)}return n}function ue(e,t,n){if(!t)return n?ee(e,"style"):t;const o=e.style;if(typeof t=="string")return o.cssText=t;typeof n=="string"&&(o.cssText=n=void 0),n||(n={}),t||(t={});let r,s;for(s in n)t[s]==null&&o.removeProperty(s),delete n[s];for(s in t)r=t[s],r!==n[s]&&(o.setProperty(s,r),n[s]=r);return n}function Pt(e,t={},n,o){const r={};return o||p(()=>r.children=ie(e,t.children,r.children)),p(()=>t.ref&&t.ref(e)),p(()=>bn(e,t,n,!0,r,!0)),r}function R(e,t,n){return A(()=>e(t,n))}function g(e,t,n,o){if(n!==void 0&&!o&&(o=[]),typeof t!="function")return ie(e,t,o,n);p(r=>ie(e,t(),r,n),o)}function bn(e,t,n,o,r={},s=!1){t||(t={});for(const l in r)if(!(l in t)){if(l==="children")continue;r[l]=it(e,l,null,r[l],n,s)}for(const l in t){if(l==="children"){o||ie(e,t.children);continue}const i=t[l];r[l]=it(e,l,i,r[l],n,s)}}function xn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function st(e,t,n){const o=t.trim().split(/\s+/);for(let r=0,s=o.length;r<s;r++)e.classList.toggle(o[r],n)}function it(e,t,n,o,r,s){let l,i,c,d,a;if(t==="style")return ue(e,n,o);if(t==="classList")return $n(e,n,o);if(n===o)return o;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);o&&e.removeEventListener(f,o),n&&e.addEventListener(f,n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);o&&e.removeEventListener(f,o,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),h=gn.has(f);if(!h&&o){const m=Array.isArray(o)?o[0]:o;e.removeEventListener(f,m)}(h||n)&&(Se(e,f,n,h),h&&q([f]))}else if(t.slice(0,5)==="attr:")ee(e,t.slice(5),n);else if((a=t.slice(0,5)==="prop:")||(c=dn.has(t))||!r&&((d=hn(t,e.tagName))||(i=an.has(t)))||(l=e.nodeName.includes("-")))a&&(t=t.slice(5),i=!0),t==="class"||t==="className"?B(e,n):l&&!i&&!c?e[xn(t)]=n:e[d||t]=n;else{const f=r&&t.indexOf(":")>-1&&wn[t.split(":")[0]];f?pn(e,f,t,n):ee(e,un[t]||t,n)}return n}function kn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const o=n[t];if(o&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?o.call(n,r,e):o.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ie(e,t,n,o,r){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,l=o!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),l){let i=n[0];i&&i.nodeType===3?i.data=t:i=document.createTextNode(t),n=se(e,n,o,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=se(e,n,o);else{if(s==="function")return p(()=>{let i=t();for(;typeof i=="function";)i=i();n=ie(e,i,n,o)}),()=>n;if(Array.isArray(t)){const i=[],c=n&&Array.isArray(n);if(Ye(i,t,n,r))return p(()=>n=ie(e,i,n,o,!0)),()=>n;if(i.length===0){if(n=se(e,n,o),l)return n}else c?n.length===0?lt(e,i,o):yn(e,n,i):(n&&se(e),lt(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=se(e,n,o,t);se(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function Ye(e,t,n,o){let r=!1;for(let s=0,l=t.length;s<l;s++){let i=t[s],c=n&&n[s],d;if(!(i==null||i===!0||i===!1))if((d=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=Ye(e,i,c)||r;else if(d==="function")if(o){for(;typeof i=="function";)i=i();r=Ye(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||r}else e.push(i),r=!0;else{const a=String(i);c&&c.nodeType===3&&c.data===a?e.push(c):e.push(document.createTextNode(a))}}return r}function lt(e,t,n=null){for(let o=0,r=t.length;o<r;o++)e.insertBefore(t[o],n)}function se(e,t,n,o){if(n===void 0)return e.textContent="";const r=o||document.createTextNode("");if(t.length){let s=!1;for(let l=t.length-1;l>=0;l--){const i=t[l];if(r!==i){const c=i.parentNode===e;!s&&!l?c?e.replaceChild(r,i):e.insertBefore(r,n):c&&i.remove()}else s=!0}}else e.insertBefore(r,n);return[r]}const _n=!1,Cn="http://www.w3.org/2000/svg";function En(e,t=!1){return t?document.createElementNS(Cn,e):document.createElement(e)}function Sn(e){const[t,n]=It(e,["component"]),o=C(()=>t.component);return C(()=>{const r=o();switch(typeof r){case"function":return Object.assign(r,{[Xt]:!0}),A(()=>r(n));case"string":const s=mn.has(r),l=En(r,s);return Pt(l,n,s),l}})}var Mn=()=>["%csolid-devtools","color: #fff; background: #2c4f7c; padding: 1px 4px;"];function Dn(...e){console.warn(...Mn(),...e)}Dn('`import "solid-devtools";` is an entry point for the vite plugin.\nIf you\'re seeing this message you probably forgot to add the plugin to your vite config.');const In="modulepreload",Nn=function(e){return"/"+e},ct={},at=function(t,n,o){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Nn(s),s in ct)return;ct[s]=!0;const l=s.endsWith(".css"),i=l?'[rel="stylesheet"]':"";if(!!o)for(let a=r.length-1;a>=0;a--){const f=r[a];if(f.href===s&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${i}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":In,l||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),l)return new Promise((a,f)=>{d.addEventListener("load",a),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})},An=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((o,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})},[Tt,Pn]=_({locale:"",strings:new Map}),Tn=()=>Tt().locale,Ot=(e,t,n)=>{for(const o in n){const r=n[o],s=t?`${t}.${o}`:o;typeof r=="object"?Ot(e,s,r):e.set(s,r)}},On=async e=>{for(const t of[e,...navigator.languages,"en"])if(t)try{const n=await An(Object.assign({"./strings/en.json":()=>at(()=>import("./en-d1a00eea.js"),[]),"./strings/ko.json":()=>at(()=>import("./ko-1ded49bb.js"),[])}),`./strings/${t}.json`),o=new Map;return Ot(o,"",n),Pn({locale:t,strings:o}),!0}catch{continue}},H=e=>Tt().strings.get(e)||e,Ln=e=>{const[t]=Zt(async()=>await On(e.language)),n=Tn();return u(At,{fallback:"Unk",get children(){return[u(pe,{get when(){return t()},get children(){return e.children}}),u(pe,{when:n==="",children:"Failed to load locale."}),u(pe,{when:n===void 0,children:"Loading..."})]}})};var x=(e=>(e.fg="fg",e.bg="bg",e.primary="primary",e.secondary="secondary",e.success="success",e.danger="danger",e.warning="warning",e))(x||{});const Bn=y("<button>"),M=e=>(()=>{const t=Bn();return Se(t,"click",e.onClick,!0),g(t,()=>e.children),p(()=>B(t,`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();q(["click"]);q(["keydown"]);const Hn=y("<div>"),Ve=e=>(()=>{const t=Hn();return g(t,()=>e.children),p(()=>B(t,`input-group ${e.class??""}`)),t})(),Rn=y("<input type=text>"),zn=e=>(()=>{const t=Rn();return Se(t,"keydown",e.onKeyDown,!0),Se(t,"change",e.onChange),p(n=>{const o=e.disabled,r=`form-control ${e.class??""}`,s=e.placeholder;return o!==n._v$&&(t.disabled=n._v$=o),r!==n._v$2&&B(t,n._v$2=r),s!==n._v$3&&ee(t,"placeholder",n._v$3=s),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),p(()=>t.value=e.value),t})();q(["keydown"]);const jn=()=>{throw"Empty function invoked"},dt={x:0,y:0},Me=(e,t)=>e*e+t*t,$e=(e,t)=>Math.sqrt(Me(e,t)),ut=(e,t,n)=>{const o=n.w/2,r=n.h/2,s=n.x+o,l=n.y+r,i=o-r;let c=e-s,d=t-l,a=0,f=0;if(c<-o&&(c=-o,a=-1),c>o&&(c=o,a=1),d<-r&&(d=-r,f=-1),d>r&&(d=r,f=1),n.angular){if(a*f!==0){const h=$e(c,d);return[s+c-1.4*a,l+d-1.4*f,c/h,d/h]}}else{if(o>r&&Math.abs(c)>i){const h=c>0?i:-i,m=c-h,v=$e(m,d)/r;return[s+h+m/v,l+d/v,m/r,d/(v*r)]}if(r>o&&Math.abs(d)>i){const h=d>0?i:-i,m=d-h,v=$e(c,m)/o;return[s+c/v,l+h+m/v,c/(v*o),m/o]}}return[s+c,l+d,a,f]},Lt=(e,t)=>{const[n,o,r,s]=ut(t.x+t.w/2,t.y+t.h/2,e),[l,i,c,d]=ut(n,o,t),a=.2*$e(n-l,o-i);return`M ${l-c/2} ${i-d/2} C ${l+c*a} ${i+d*a}, ${n+r*a} ${o+s*a}, ${n-r/2} ${o-s/2}`},Un=(e,t)=>{const o=e.x+e.w/2,r=t.x+t.w/2;return`M ${o} ${e.y} C ${o} ${e.y-30}, ${r} ${t.y-30}, ${r} ${t.y}`},Gn=()=>Math.random().toString(36).substring(7),Kn=()=>{const e=new Date,t=e.getTimezoneOffset()*60*1e3,n=e.getTime()+t;return Math.round(n/1e3).toString(36)},Wn=()=>`${Kn()}-${Gn()}`,Yn=(e,t,n)=>e<t?t:e>n?n:e;var w=(e=>(e.Alpha="a",e.Beta="b",e.Delta="d",e.Lambda="l",e.Nu="n",e.Pi="p",e))(w||{});const be=new Set(["d"]),Fn=new Set(["n"]),qn=new Set(["b","n"]),Xn=()=>[{id:"#def",pos:{x:0,y:0},x:{type:"d",comment:""}}],ge=JSON.stringify,Be=e=>{switch(typeof e){case"string":return e.length>20;case"object":return e===null?!1:Array.isArray(e)?e.length>1:Object.keys(e).length>1}return!1},V=(e,t=0)=>{if(typeof e!="object"||e===null)return ge(e);const n=" ".repeat(2*(t+1)),o=`,
`+n;if(Array.isArray(e)){const l=e;return l.length===0?"[]":l.length===1?Be(l[0])?`[ ${V(l[0],t+1)} ]`:`[${V(l[0],t+1)}]`:`[ ${l.map(i=>V(i,t+1)).join(o)} ]`}const r=e,s=Object.keys(r);if(s.length===0)return"{}";if(s.length===1){const l=s[0],i=ge(l),c=r[l];return Be(c)?`{ ${i}:
  ${n}${V(c,t+2)}}`:`{${i}: ${V(c,t+1)}}`}return`{ ${Object.entries(r).map(([l,i])=>Be(i)?`${ge(l)}:
  ${n}${V(i,t+2)}`:`${ge(l)}: ${V(i,t+1)}`).join(o)} }`},N=e=>e.charCodeAt(0),Ze=e=>{const t=new Set;for(let n=0;n<e.length;n++)t.add(e.charCodeAt(n));return t},Vn=N(`
`),Zn=N("["),Jn=N("]"),Qn=N("{"),er=N("}"),tr=N('"'),nr=N("'"),rr=N("\\"),or=N("u"),sr=N("x"),Bt=Ze(`[]{},"':
`),ir=Ze("+-0123456789."),lr=Ze(`"'`),cr=new Map([[N("b"),"\b"],[N("f"),"\f"],[N("n"),`
`],[N("r"),"\r"],[N("t"),"	"]]),ar=/[-+]?((0x[0-9a-fA-F]+)|([0-9]+(\.[0-9]+)?))([eE][-+]?[0-9]+)?/y,dr=/(false|true|null)\b/iy,ur=new Map([["false",!1],["true",!0],["null",null]]),Ht=/\s*/y,De=/[\s,]*/y,fr=/[\s:]*/y,J=e=>e.s.charCodeAt(e.p);class fe extends Error{s;p;line;column;constructor(t,n){let o=1,r=1;for(let s=0;s<t.p;s++)t.s.charCodeAt(s)===Vn&&(o++,r=0),r++;super(`${o}:${r}: ${n}`),this.name="ParseError",this.s=t.s,this.p=t.p,this.line=o,this.column=r}}const Je=(e,t)=>(t.lastIndex=e.p,t.exec(e.s)),te=(e,t)=>{const n=Je(e,t);n&&(e.p+=n[0].length)},hr=e=>{e.p++,te(e,De);const t=[];for(;e.p<e.l&&J(e)!==Jn;)t.push(Qe(e)),te(e,De);return e.p++,t},gr=e=>{e.p++,te(e,De);const t={};for(;e.p<e.l&&J(e)!==er;){let n;if(lr.has(J(e)))n=Rt(e);else{const o=e.p;e.p=e.s.indexOf(":",e.p),e.p===-1&&(e.p=e.l),n=e.s.slice(o,e.p).trim()}te(e,fr),t[n]=Qe(e),te(e,De)}return e.p++,t},ft=(e,t)=>{const n=e.s.slice(e.p+1,e.p+t+1),o=parseInt(n,16);if(e.p+=t,isNaN(o))throw new fe(e,`Invalid unicode escape '${n}'`);return String.fromCharCode(o)},Rt=e=>{const t=J(e);e.p++;let n="";for(;e.p<e.l;e.p++){const o=J(e);if(o===t)return e.p++,n;if(o===rr){e.p++;const r=J(e);switch(r){case or:n+=ft(e,4);break;case sr:n+=ft(e,2);break;default:n+=cr.get(r)||String.fromCharCode(r)}}else n+=String.fromCharCode(o)}return n},mr=e=>{const t=Je(e,ar),n=t?t[0]:"",o=n?Number(n):NaN;if(e.p+=n.length,isNaN(o))throw new fe(e,`Invalid number '${n}'`);return o},wr=(e,t)=>{const n=Je(e,dr);if(n!==null)return e.p+=n[0].length,ur.get(n[0].toLowerCase());if(t)throw new fe(e,`Unexpected character '${e.s[e.p]}'`);const o=e.p;for(;e.p<e.l&&!Bt.has(J(e));)e.p++;return e.s.slice(o,e.p).trim()},Qe=(e,t)=>{te(e,Ht);const n=J(e);switch(n){case tr:case nr:return Rt(e);case Zn:return hr(e);case Qn:return gr(e)}if(Bt.has(n))throw new fe(e,`Unexpected character '${e.s[e.p]}' for value`);return ir.has(n)?mr(e):wr(e,t)},zt=e=>{const t={s:e,p:0,l:e.length},n=Qe(t,!0);if(te(t,Ht),t.p<t.l)throw new fe(t,`Unexpected character '${t.s[t.p]}', expect EOF`);return n},yr=e=>{switch(e.type){case w.Alpha:return JSON.stringify(e.val,null,2);case w.Beta:return e.args.length<=0?"":`,${e.args.length}`;case w.Delta:return`${e.comment}`;case w.Lambda:return"Î»";case w.Nu:{const t=e.name,n=t.module?`@${t.module}`:"",o=e.args.length<=0?"":`,${e.lhs},${Math.max(0,e.args.length-e.lhs)}`;return`${t.name}${n}${o}`}case w.Pi:{const t=e.name,n=t.module?`@${t.module}`:"",o=e.elems<=0?"":`,${e.elems}`;return`Î» ${t.name}${n}${o}`}}},vr=e=>{const t=e.trim();try{return{type:w.Alpha,val:zt(t)}}catch{}switch(t[0]){case"Î»":case"\\":{const o=t.slice(1).split(","),r=o[0].split("@");if(r[0]){const s=r[0]?r[0].toString().trim():"",l=r[1]?r[1].toString().trim():"";let i=parseInt(o[1]);return isNaN(i)&&(i=0),{type:w.Pi,name:{name:s,module:l},elems:i}}else return{type:w.Lambda}}default:{const o=t.split(","),r=o[0].split("@"),s=r[0]?r[0].toString().trim():"",l=r[1]?r[1].toString().trim():"";let i=parseInt(o[1]),c=parseInt(o[2]);if(s)return isNaN(i)&&(i=0),isNaN(c)&&(c=i,i=0),{type:w.Nu,name:{name:s,module:l},lhs:i,args:new Array(i+c).fill({id:""})};{const d=(isNaN(i)?0:i)+(isNaN(c)?0:c);return{type:w.Beta,args:new Array(d).fill({id:""})}}}}},ht=()=>[void 0],pr=y("<div class=toast-container>"),$r=y("<div>"),br=["âœ…","âš ï¸","ðŸš«"],jt=[jn],xr=(e,t)=>{jt[0](e,t)},kr=e=>{const t=e.creation??jt,[n,o]=_({cnt:0,toasts:[]});return t[0]=(r,s)=>{o(l=>{const i=l.toasts,c=l.cnt,d=Math.max(200,s?.ttl??2e3),a=(h,m)=>window.setTimeout(()=>o(v=>({...v,toasts:h(v.toasts)})),m),f=a(h=>h.filter(m=>m.id!==c),d);return a(h=>h.map(m=>m.id===c?{...m,class:"toast-a-out"}:m),d-100),i.push({id:c,type:s?.type,class:"toast-a-in",message:r,timeout:f}),{cnt:l.cnt+1,toasts:i}})},(()=>{const r=pr();return g(r,u(j,{get each(){return n().toasts},children:s=>(()=>{const l=$r();return g(l,()=>s.type?br[s.type]:"",null),g(l,()=>s.message,null),p(()=>B(l,`toast ${s.class}`)),l})()})),r})()};let Fe=0;const _r=()=>{Fe=0},Ut=()=>Fe=(Fe+57.295779513)%360,Cr="hrm-c-bd-empty",Er="âŽ‡",qe="ð‘“",gt="ð‘¥",He="ð‘¦",Sr="ð›ƒ",Mr="ðš«",Dr="ð›Œ",Ir="ð›‘";var I=(e=>(e[e.Source=0]="Source",e[e.Sink=1]="Sink",e))(I||{});const Re=e=>_({name:e,data:{type:0,color:Ut()}}),K=(e,t)=>_({name:e,data:{type:1,sourceID:t?.id,sourceHandle:t?.handle}}),Nr=e=>{let t=0,n;switch(e.x.type){case w.Alpha:n=[];break;case w.Beta:t=1,n=[K(qe,e.x.fn)];for(const o in e.x.args){const r=e.x.args[o];n.push(K(o,r))}break;case w.Delta:n=[K(He,e.x.ret)];break;case w.Lambda:n=[Re(gt),K(He,e.x.ret)];break;case w.Nu:n=e.x.args.map((o,r)=>K(String(r),o)),t=Yn(e.x.lhs,0,e.x.args.length);break;case w.Pi:n=[K(Er,e.x.fallback),Re(gt)];for(let o=0;o<e.x.elems;o++)n.push(Re(String(o+1)));n.push(K(He,e.x.ret)),t=1;break}return n.lhs=t,n},Xe=e=>_({color:Ut(),angular:e.x.type===w.Alpha,data:e.x,handles:Nr(e),position:e.pos,size:{w:0,h:0},selected:!1}),me=e=>{_r();const t=new Map;for(const n of e)t.set(n.id,Xe(n));return t},mt=e=>{if(e.type===1&&e.sourceID)return{id:e.sourceID,handle:e.sourceHandle}},Ar=e=>{const t=n=>mt(e.handles[n][0]().data);switch(e.data.type){case w.Alpha:return e.data;case w.Beta:{const n=[];for(let o=1;o<e.handles.length;o++){const r=t(o);r&&n.push(r)}return{type:w.Beta,fn:t(0),args:n}}case w.Delta:return{type:w.Delta,comment:e.data.comment,ret:t(0)};case w.Lambda:return{type:w.Lambda,ret:t(1)};case w.Nu:return{type:w.Nu,name:e.data.name,lhs:e.handles.lhs,args:e.handles.reduce((n,o)=>{const r=mt(o[0]().data);return r&&n.push(r),n},[])};case w.Pi:return{type:w.Pi,name:e.data.name,elems:e.data.elems,fallback:t(0),ret:t(e.handles.length-1)}}},Gt=(e,t)=>({id:e,pos:t.position,x:Ar(t)}),Pr=e=>{const t=[];for(const[n,o]of e.entries())t.push(Gt(n,o[0]()));return t},wt=e=>{switch(e.data.type){case w.Beta:e.handles[0][1](t=>({...t,name:qe})),e.handles[0][0]().name=qe;for(let t=1;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t-1)}));break;case w.Nu:for(let t=0;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t)}));break;default:throw"Unimplemented"}},Tr=y('<svg stroke-width="0"></svg>',2),Or=y("<title></title>",2);function E(e,t){const n=rt(e.a,t),[o,r]=It(n,["src"]);return(()=>{const s=Tr.cloneNode(!0);return Pt(s,rt({get stroke(){return e.a.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},r,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},get innerHTML(){return e.c},xmlns:"http://www.w3.org/2000/svg"}),!0,!0),g(s,()=>_n,null),g(s,(()=>{const l=C(()=>!!t.title);return()=>l()&&(()=>{const i=Or.cloneNode(!0);return g(i,()=>t.title),i})()})(),null),s})()}function Lr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-back-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 14l-4 -4l4 -4"/><path d="M5 10h11a4 4 0 1 1 0 8h-1"/>'},e)}function Br(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-forward-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 14l4 -4l-4 -4"/><path d="M19 10h-11a4 4 0 1 0 0 8h1"/>'},e)}function yt(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-backspace",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 6a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-11l-5 -5a1.5 1.5 0 0 1 0 -2l5 -5z"/><path d="M12 10l4 4m0 -4l-4 4"/>'},e)}function Kt(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-binary-tree",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 4a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M11 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M21 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M5.058 18.306l2.88 -4.606"/><path d="M10.061 10.303l2.877 -4.604"/><path d="M10.065 13.705l2.876 4.6"/><path d="M15.063 5.7l2.881 4.61"/>'},e)}function Hr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-clipboard",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"/><path d="M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"/>'},e)}function Rr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-copy",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"/><path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"/>'},e)}function zr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-deselect",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 8h3a1 1 0 0 1 1 1v3"/><path d="M16 16h-7a1 1 0 0 1 -1 -1v-7"/><path d="M12 20v.01"/><path d="M16 20v.01"/><path d="M8 20v.01"/><path d="M4 20v.01"/><path d="M4 16v.01"/><path d="M4 12v.01"/><path d="M4 8v.01"/><path d="M8 4v.01"/><path d="M12 4v.01"/><path d="M16 4v.01"/><path d="M20 4v.01"/><path d="M20 8v.01"/><path d="M20 12v.01"/><path d="M20 16v.01"/><path d="M3 3l18 18"/>'},e)}function jr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-edit",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"/><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"/><path d="M16 5l3 3"/>'},e)}function Ur(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-folder-search",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 19h-6a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2.5"/><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M20.2 20.2l1.8 1.8"/>'},e)}function Gr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-rocket",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"/><path d="M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"/><path d="M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/>'},e)}function Kr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-scissors",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M6 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M8.6 8.6l10.4 10.4"/><path d="M8.6 15.4l10.4 -10.4"/>'},e)}function Wr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-check",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l2 2l4 -4"/>'},e)}function Wt(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-plus",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l6 0"/><path d="M12 9l0 6"/>'},e)}function Yr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-trash",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7l16 0"/><path d="M10 11l0 6"/><path d="M14 11l0 6"/><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"/><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"/>'},e)}function Fr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12"/><path d="M6 6l12 12"/>'},e)}function qr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in-area",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 13v4"/><path d="M13 15h4"/><path d="M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"/><path d="M22 22l-3 -3"/><path d="M6 18h-1a2 2 0 0 1 -2 -2v-1"/><path d="M3 11v-1"/><path d="M3 6v-1a2 2 0 0 1 2 -2h1"/><path d="M10 3h1"/><path d="M15 3h1a2 2 0 0 1 2 2v1"/>'},e)}function Xr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M10 7l0 6"/><path d="M21 21l-6 -6"/>'},e)}function Vr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-out",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M21 21l-6 -6"/>'},e)}function Zr(e){return E({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-reset",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 21l-6 -6"/><path d="M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"/><path d="M3 4v4h4"/>'},e)}const Jr=4,Qr=300,eo=750,to=window.setTimeout,we=window.clearTimeout,vt=e=>({shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey}),ne=(e,t)=>{const n={pointers:new Map,maxPointers:0,lastClicked:0},o={pointerenter:r=>{e.onEnter?.(r.pointerId)},pointercancel:r=>{n.longPress&&n.longPress.id===r.pointerId&&(we(n.longPress.u),n.longPress=void 0),n.pointers.delete(r.pointerId),e.onCancel?.(r.pointerId)},pointerleave:r=>{n.longPress&&n.longPress.id===r.pointerId&&(we(n.longPress.u),n.longPress=void 0),n.pointers.delete(r.pointerId),e.onLeave?.(r.pointerId),e.releaseOnLeave&&r.target.releasePointerCapture(r.pointerId)},pointerdown:r=>{r.preventDefault(),r.stopPropagation();const s=r.pointerId;if(e.onDown?.({id:s,x:r.clientX,y:r.clientY,pointers:n.pointers.size,modifiers:vt(r)}),!e.capture){r.target.releasePointerCapture(s);return}r.target.setPointerCapture(s);const l={id:s,x:r.clientX,y:r.clientY,moved:!1,timestamp:Date.now()};n.pointers.set(s,l),n.longPress&&(we(n.longPress.u),n.longPress=void 0),n.maxPointers=Math.max(n.maxPointers,n.pointers.size),n.pointers.size===1&&(n.longPress={id:s,x:r.clientX,y:r.clientY,u:to(()=>{n.longPress&&n.pointers.size===1&&n.pointers.has(s)&&!n.pointers.get(s).moved&&(n.longPress=void 0,e.onLongPress?.({id:s,x:r.clientX,y:r.clientY}),n.pointers.delete(s))},eo)})},pointermove:r=>{r.preventDefault(),r.stopPropagation();const s=r.pointerId;e.onMove?.({id:s,x:r.clientX,y:r.clientY});const l=n.pointers.get(s);if(!l)return;const i=r.clientX-l.x,c=r.clientY-l.y;if(!l.moved&&Me(i,c)<Jr)return;const d={id:s,x:r.clientX,y:r.clientY,ox:l.x,oy:l.y,dx:i,dy:c},[a,f]=n.pointers.keys();f&&(d.pivot=n.pointers.get(a===s?f:a)),l.moved=!0,l.x=r.clientX,l.y=r.clientY,e.onDrag?.(d)},pointerup:r=>{r.preventDefault(),r.stopPropagation();const s=r.pointerId,l={id:s,x:r.clientX,y:r.clientY,pointers:n.maxPointers,modifiers:vt(r)};e.onUp?.(l);const i=n.pointers.get(s);if(!i)return;n.pointers.delete(s),n.longPress&&n.longPress.id===s&&(we(n.longPress.u),n.longPress=void 0);const c=Date.now();!i.moved&&n.pointers.size===0&&(e.onClick?.(l),c-n.lastClicked<Qr&&e.onDoubleClick?.(l),n.lastClicked=c,n.maxPointers=0)}};for(const[r,s]of Object.entries(o))t.addEventListener(r,s,{passive:!1})},no=y('<div class="hrm-pane w-100 h-100"><div class=hrm-view></div><div class=hrm-pane-controls>'),ro=y("<button>"),pt=e=>`translate(${e.x}px, ${e.y}px) scale(${e.z})`,oo=e=>{let t;const[n,o]=_({x:0,y:0,z:1}),r=(i,c,d)=>o(a=>({x:a.x*d+i,y:a.y*d+c,z:a.z*d}));e.g.transform[0]=n,e.g.transform[1]=o,Y(()=>{t&&ne({capture:!0,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onLongPress:e.onLongPress,onDrag:i=>{const c=i.pivot;if(c){const d=Math.sqrt(Me(c.x-i.x,c.y-i.y)/Me(c.x-i.ox,c.y-i.oy)),a=d-1;r((i.dx-(c.x+i.ox)*a)/2,(i.dy-(c.y+i.oy)*a)/2,d)}else r(i.dx,i.dy,1)}},t)});const s=1.1,l=[[u(Xr,{}),()=>r((t?.offsetWidth??0)*(1-s)/2,(t?.offsetHeight??0)*(1-s)/2,s)],[u(Vr,{}),()=>r((t?.offsetWidth??0)*(1-1/s)/2,(t?.offsetHeight??0)*(1-1/s)/2,1/s)],[u(Zr,{}),()=>o(()=>({x:0,y:0,z:1}))],[u(qr,{}),()=>{const i=e.g.usedRect(),c=e.g.size();if(!i||!c)return;i.w=Math.max(i.w,1),i.h=Math.max(i.h,1);const d=c.w/i.w,a=c.h/i.h,f=Math.min(d,a),h=-i.x*f+(c.w-i.w*f)/2,m=-i.y*f+(c.h-i.h*f)/2;o({x:h,y:m,z:f})}]];return Y(()=>{if(t){t.addEventListener("wheel",i=>{if(t)if(i.preventDefault(),i.ctrlKey||i.metaKey){const c=Math.pow(2,i.deltaY/-100),d=t.getBoundingClientRect();r((i.clientX-d.left)*(1-c),(i.clientY-d.top)*(1-c),c)}else r(-i.deltaX,-i.deltaY,1)},{passive:!1});for(const[,i,c]of l)c&&ne({capture:!0,onClick:i},c)}}),(()=>{const i=no(),c=i.firstChild,d=c.nextSibling,a=t;typeof a=="function"?R(a,i):t=i;const f=e.g.viewRef;return typeof f=="function"?R(f,c):e.g.viewRef=c,g(c,()=>e.children),g(d,u(j,{each:l,children:h=>(()=>{const m=ro(),v=h[2];return typeof v=="function"?R(v,m):h[2]=m,g(m,()=>h[0]),m})()})),p(()=>pt(n())!=null?c.style.setProperty("transform",pt(n())):c.style.removeProperty("transform")),i})()},so=y("<div>"),io=e=>{const[t,n]=e.handleW;let o;return Y(()=>{o&&(t(),n(r=>{let s,l;if(r.data.type===I.Source)s=r.data.color,l=e.g.nodeColorBd(s);else if(r.data.sourceID){const i=e.g.nodes().get(r.data.sourceID);if(i){const c=i[0]();s=c.color,r.data.sourceHandle!==void 0&&(s=c.handles[r.data.sourceHandle][0]().color??s),l=e.g.nodeColorBg(s)}}return s===r.color&&r.ref===o?r:{...r,ref:o,color:s,style:l}}))}),Y(()=>{o&&ne({releaseOnLeave:!0,onEnter:r=>{const s=e.g.connectingEdge[0]();s&&s.pointerID===r&&e.g.setTempConnectingEnd(e.nodeID,o,e.handleID)},onLeave:()=>{e.g.connectingEnd[0]().ref===o&&e.g.unsetTempConnectingEnd(o)},onDown:r=>{e.g.addConnectingEnd(r.id,e.nodeID,e.handleID,e.g.viewPos(r.x,r.y))},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)},onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},o)}),(()=>{const r=so(),s=o;return typeof s=="function"?R(s,r):o=r,g(r,()=>t().name),p(l=>{const i=`hrm-node-item hrm-handle ${t().style?"":Cr}`,c=t().style;return i!==l._v$&&B(r,l._v$=i),l._v$2=ue(r,c,l._v$2),l},{_v$:void 0,_v$2:void 0}),r})()},lo=y("<div class=hrm-node-name-module>"),co=y("<div class=hrm-node-name><div class=hrm-node-name-name>"),ao=y("<div class=hrm-node-mark>"),uo=y("<div class=hrm-node-json>"),fo=y('<pre class="hrm-node-comment no-user-select no-pointer-events">'),ho=y('<div class="hrm-node-item hrm-node-body">'),$t=e=>(()=>{const t=co(),n=t.firstChild;return g(n,()=>e.name.name),g(t,u(Z,{get when(){return e.name.module},get children(){const o=lo();return g(o,()=>"@"+e.name.module),o}}),null),t})(),ye=e=>(()=>{const t=ao();return g(t,()=>e.mark),t})(),go=e=>{const t={[w.Alpha]:()=>(()=>{const n=uo();return g(n,()=>V(e.data.val)),n})(),[w.Beta]:()=>u(ye,{mark:Sr}),[w.Delta]:()=>[u(ye,{mark:Mr}),u(Z,{get when(){return e.data.comment},get children(){const n=fo();return g(n,()=>e.data.comment),n}})],[w.Lambda]:()=>u(ye,{mark:Dr}),[w.Nu]:()=>u($t,{get name(){return e.data.name}}),[w.Pi]:()=>[u(ye,{mark:Ir}),u($t,{get name(){return e.data.name}})]};return(()=>{const n=ho();return g(n,u(Sn,{get component(){return t[e.data.type]}})),n})()},mo=y("<div>"),bt=e=>{let t;return Y(()=>{t&&ne({onEnter:n=>{const o=e.g.connectingEdge[0]();o&&o.pointerID===n&&e.g.setTempConnectingEnd(e.nodeID,t,e.handleID)},onLeave:()=>{e.g.connectingEnd[0]().ref===t&&e.g.unsetTempConnectingEnd(t)},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)}},t)}),(()=>{const n=mo(),o=t;return typeof o=="function"?R(o,n):t=n,p(()=>B(n,`hrm-node-item hrm-handle-new ${e.handleID<0?"lhs":"rhs"}`)),n})()},wo=y("<div class=hrm-node-handle>"),yo=y('<div class="hrm-node abs-lt"><div class="hrm-node-row no-user-select">'),vo=e=>{const[t,n]=e.nodeW;console.log("[HrmNode] render");let o,r;Y(()=>{if(!o)return;const i=o;n(c=>({...c,ref:i,size:{w:i.offsetWidth,h:i.offsetHeight},selected:!1})),ne({capture:!0,onEnter:c=>{const d=e.g.connectingEdge[0]();d&&d.pointerID===c&&e.g.setTempConnectingEnd(e.id,o,void 0)},onLeave:()=>{e.g.connectingEnd[0]().ref===r&&e.g.unsetTempConnectingEnd(r)},onUp:c=>{e.g.connectingEdge[0]()&&e.g.addConnectingEnd(c.id,e.id,void 0,e.g.viewPos(c.x,c.y))},onClick:()=>{e.g.selectOneNode(e.id)},onDrag:c=>{e.g.translateSelectedNodes(e.id,c.dx,c.dy,e.g.transform[0]().z)},onDoubleClick:()=>{e.g.editNode(e.id)}},o)}),Y(()=>{r&&ne({onDown:i=>{e.g.addConnectingEnd(i.id,e.id,void 0,e.g.viewPos(i.x,i.y))}},r)});const s=(i,c)=>u(io,{get g(){return e.g},get nodeID(){return e.id},get node(){return t()},get handleID(){return c()},handleW:i}),l=(i,c)=>s(i,()=>c()+t().handles.lhs);return(()=>{const i=yo(),c=i.firstChild,d=o;return typeof d=="function"?R(d,i):o=i,g(i,u(Z,{get when(){return Fn.has(t().data.type)},get children(){return u(bt,{get g(){return e.g},get nodeID(){return e.id},handleID:-1/0,get node(){return t()}})}}),c),g(c,u(j,{get each(){return t().handles.slice(0,t().handles.lhs)},children:s}),null),g(c,u(go,{get data(){return t().data}}),null),g(c,u(j,{get each(){return t().handles.slice(t().handles.lhs)},children:l}),null),g(i,u(Z,{get when(){return qn.has(t().data.type)},get children(){return u(bt,{get g(){return e.g},get nodeID(){return e.id},handleID:1/0,get node(){return t()}})}}),null),g(i,u(Z,{get when(){return!be.has(t().data.type)},get children(){const a=wo(),f=r;return typeof f=="function"?R(f,a):r=a,a}}),null),p(a=>{const f=!!t().selected,h=!!t().angular,m=!t().angular,v={left:`${t().position.x}px`,top:`${t().position.y}px`,...e.g.nodeColorBd(t().color)};return f!==a._v$&&i.classList.toggle("selected",a._v$=f),h!==a._v$2&&i.classList.toggle("hrm-rect",a._v$2=h),m!==a._v$3&&i.classList.toggle("hrm-pill",a._v$3=m),a._v$4=ue(i,v,a._v$4),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),i})()},po=y("<svg><path class=hrm-edge-path stroke-width=4px fill=transparent></svg>",!1,!0),$o=y("<svg><path class=cursor-pointer stroke-width=1rem fill=transparent></svg>",!1,!0),bo=e=>{console.log("[HrmEdge] render");let t;const[n]=e.nodeW,[o]=e.handleW,r=C(()=>{console.log("[HrmEdge] Effect (path)"),n();const l=o();if(l.data.type!==I.Sink)return"";const i=l.data.sourceID,c=l.data.sourceHandle;if(i===void 0)return"";const d=e.g.viewRectOf(i,c),a=e.g.viewRect(l.ref);return!d||!a?"":e.nodeID===i?Un(d,a):Lt(d,a)});Y(()=>{if(t)return ne({onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},t)});const s=()=>{const l=o().color;return l?e.g.nodeColorStroke(l):{}};return[(()=>{const l=po();return p(i=>{const c=s(),d=r();return i._v$=ue(l,c,i._v$),d!==i._v$2&&ee(l,"d",i._v$2=d),i},{_v$:void 0,_v$2:void 0}),l})(),(()=>{const l=$o(),i=t;return typeof i=="function"?R(i,l):t=l,p(()=>ee(l,"d",r())),l})()]},xo=e=>{const[t]=e.handleW;return u(Z,{get when(){return C(()=>t().data.type===I.Sink)()&&t().data.sourceID},get children(){return u(bo,e)}})},ko=e=>{const[t]=e.nodeW;return u(j,{get each(){return t().handles},children:(n,o)=>u(xo,{get g(){return e.g},get nodeW(){return e.nodeW},handleW:n,get nodeID(){return e.id},get handleID(){return o()}})})},_o=y('<svg class="hrm-edges no-user-select no-pointer-events">'),Co=e=>[u(j,{get each(){return[...e.g.nodes()]},children:([t,n])=>u(vo,{get g(){return e.g},id:t,nodeW:n})}),(()=>{const t=_o();return g(t,u(j,{get each(){return[...e.g.nodes()]},children:([n,o])=>u(ko,{get g(){return e.g},id:n,nodeW:o})})),t})()],Eo=(e,t,n)=>.299*e+.587*t+.114*n,ze=(e,t,n)=>{n<0&&(n+=1),n>1&&(n-=1);let o;return n<1/2?(o=t,n<1/6&&(o=e+(t-e)*6*n)):(o=e,n<2/3&&(o=e+(t-e)*(2/3-n)*6)),Math.round(o*255)},So=(e,t,n)=>{if(t===0)return[n,n,n];const o=n<.5?n*(1+t):n+t-n*t,r=2*n-o;return[ze(r,o,e+1/3),ze(r,o,e),ze(r,o,e-1/3)]},je=(e,t,n)=>`hsl(${e}, ${t*100}%, ${n*100}%)`;class Mo{nodeColor;nodes;setNodes;transform;rootRef;viewRef;editingNode;connectingEdge;connectingEnd;history;historyIndex;selectMode=!1;constructor(t){t||(t=[]);const[n,o]=_(me(t),{equals:!1});this.nodes=n,this.setNodes=o,this.editingNode=_(),this.connectingEdge=_(),this.connectingEnd=_({pos:dt}),this.transform=[()=>({x:0,y:0,z:1}),()=>{}],this.history=[t],this.historyIndex=0,this.nodeColor=_({h:0,s:.52,l:.7})}thaw(t){this.setNodes(me(t)),this.history=[t],this.historyIndex=0}freeze(){return Pr(this.nodes())}nodeColorBg(t){const n=this.nodeColor[0](),o=Eo(...So(t,n.s,n.l))>192?"#000":"#fff",r=je(t,n.s,n.l);return{color:o,"background-color":r,"border-color":r}}nodeColorBd(t){const n=this.nodeColor[0]();return{"border-color":je(t,n.s,n.l)}}nodeColorStroke(t){const n=this.nodeColor[0]();return{stroke:je(t,n.s,n.l)}}saveHistory(){this.historyIndex++,this.history.length>this.historyIndex&&(this.history=this.history.slice(0,this.historyIndex)),this.history.push(this.freeze())}undo(){this.historyIndex>0&&this.setNodes(me(this.history[--this.historyIndex]))}redo(){this.historyIndex<this.history.length-1&&this.setNodes(me(this.history[++this.historyIndex]))}size(){if(!this.rootRef)return;const t=this.rootRef.getBoundingClientRect();return{w:t.width,h:t.height}}viewPos(t,n){if(!this.viewRef)return;const o=this.viewRef.getBoundingClientRect(),r=A(this.transform[0]);return{x:(t-o.left)/r.z,y:(n-o.top)/r.z}}viewRect(t){if(!t||!this.viewRef)return;const n=this.viewRef.getBoundingClientRect(),o=t.getBoundingClientRect(),r=A(this.transform[0]);return{x:(o.left-n.left)/r.z,y:(o.top-n.top)/r.z,w:o.width/r.z,h:o.height/r.z}}usedRect(){const t={x:0,y:0,w:0,h:0};for(const[,n]of this.nodes()){const o=n[0](),r=o.position,s=o.size;t.x>r.x&&(t.w+=t.x-r.x,t.x=r.x),t.y>r.y&&(t.h+=t.y-r.y,t.y=r.y),t.w=Math.max(t.w,r.x+s.w-t.x),t.h=Math.max(t.h,r.y+s.h-t.y)}return t}viewRectOf(t,n){const o=this.nodes().get(t);if(!o)return;const r=o[0]();if(n===void 0){const l=this.viewRect(r.ref);return l?{...l,angular:r.angular}:void 0}const s=r.handles[n][0]().ref;if(s)return this.viewRect(s)}addEmptyNode(t){if(!t){const r=this.transform[0](),s=this.rootRef;if(!s)t={x:0,y:0};else{const l=s.getBoundingClientRect();t={x:(l.width/2-r.x)/r.z,y:(l.height/2-r.y)/r.z}}}const n={type:w.Beta,args:[]},o={id:Wn(),pos:t,x:n};return this.setNodes(r=>(r.set(o.id,Xe(o)),r)),this.saveHistory(),o.id}translateSelectedNodes(t,n,o,r){for(const[s,l]of this.nodes())l[1](i=>s!==t&&!i.selected?i:{...i,position:{x:i.position.x+n/r,y:i.position.y+o/r}})}selectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?n:{...n,selected:!0})}deselectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?{...n,selected:!1}:n)}selectOneNode(t){for(const[n,o]of this.nodes())n===t?o[1](r=>({...r,selected:!r.selected})):this.selectMode||o[1](r=>r.selected?{...r,selected:!1}:r)}deleteSelectedNodes(){this.setNodes(t=>{const n=new Set;for(const[o,r]of t){const s=r[0]();s.selected&&!be.has(s.data.type)&&n.add(o)}for(const[o,r]of t)if(n.has(o))t.delete(o);else{const l=r[0]().handles;for(const[,i]of l)i(c=>{if(c.data.type===I.Sink){const d=c.data.sourceID;if(d&&n.has(d))return{...c,data:{type:I.Sink}}}return c})}return t}),this.saveHistory()}deleteEdge(t,n){const o=this.nodes().get(t);o&&o[0]().handles[n][1](r=>r.data.type!==I.Sink?r:{...r,data:{type:I.Sink}})}resetConnectingState(){oe(()=>{this.connectingEdge[1](void 0),this.connectingEnd[1]({pos:dt})})}setTempConnectingEnd(t,n,o){oe(()=>{const r=this.connectingEdge[0]();r&&(r.nodeID!==t||r.handleID!==o)&&this.connectingEnd[1](s=>({...s,ref:n}))})}unsetTempConnectingEnd(t){oe(()=>{this.connectingEdge[0]()&&this.connectingEnd[1](o=>o.ref===t?{...o,ref:void 0}:o)})}finConnecting(t,n){const o=this.connectingEdge[0]();o&&(o.nodeID!==t||o.handleID!==n)&&(o.isSource&&n!==void 0?this.connectEdge(t,n,o.nodeID,o.handleID):!o.isSource&&o.handleID!==void 0&&this.connectEdge(o.nodeID,o.handleID,t,n))}makeLeftHandle(t){const n=this.nodes().get(t);return n&&(n[1](o=>(o.handles.unshift(K("")),o.handles.lhs++,{...o})),wt(n[0]())),0}makeRightHandle(t){const n=this.nodes().get(t);if(!n)return 0;const o=n[0](),r=o.handles.length;return n[1](s=>(s.handles.push(K("")),{...s})),wt(o),r}connectEdge(t,n,o,r){oe(()=>{n===-1/0&&(n=this.makeLeftHandle(t)),n===1/0&&(n=this.makeRightHandle(t));const s=this.nodes(),l=s.get(t),i=s.get(o);if(!l||!i)return;if(r===void 0){if(be.has(i[0]().data.type))return}else{const d=i[0]().handles[r];if(!d||d[0]().data.type!==I.Source)return}l[0]().handles[n][1](d=>d.data.type!==I.Sink?d:{...d,data:{type:I.Sink,sourceID:o,sourceHandle:r}}),this.resetConnectingState(),this.saveHistory()})}updateConnectingEnd(t){this.connectingEnd[1](n=>({...n,pos:t}))}addConnectingEnd(t,n,o,r){const s=this.nodes().get(n);if(!s)return;const[l]=s;let i=!0;if(o!==void 0){const d=l().handles[o];if(!d)return;i=d[0]().data.type===I.Source}const c=this.connectingEdge[0]();if(c&&c.nodeID===n&&c.handleID===o){this.resetConnectingState();return}if(c&&!i===c.isSource)return i?this.connectEdge(c.nodeID,c.handleID,n,o):this.connectEdge(n,o,c.nodeID,c.handleID);oe(()=>{this.connectingEdge[1]({pointerID:t,isSource:i,nodeID:n,handleID:o}),r&&this.connectingEnd[1](d=>({...d,pos:r}))})}editNode(t){const n=this.nodes().get(t);n&&!be.has(n[0]().data.type)&&this.editingNode[1](Gt(t,n[0]()))}applyEditNode(t){oe(()=>{const n=this.editingNode[0]();if(!n)return;const o=n?.id,r=vr(t),s={...n,x:r},l=Xe(s),i=this.nodes().get(o),c=i?i[0]().handles:[],d=l[0]().handles;for(let a=0;a<d.length;a++){const f=c[a];d[a][1](h=>{if(h.data.type!==I.Sink)return h;const m={type:I.Sink};if(f){const v=f[0]().data;v.type===I.Sink&&(m.sourceID=v.sourceID,m.sourceHandle=v.sourceHandle)}return{...h,data:m}})}this.setNodes(a=>(a.set(o,l),a)),this.editingNode[1](void 0)})}cancelEditNode(){this.editingNode[1](void 0)}}const Do=y('<svg class="hrm-edges no-user-select no-pointer-events"><path class="hrm-edge-path hrm-c-stroke-empty"stroke-width=3px fill=transparent>'),Io=y("<div>"),No=e=>{const t=()=>{const s=e.g.connectingEdge[0]();return s?e.g.viewRectOf(s.nodeID,s.handleID):void 0},n=()=>{const s=e.g.connectingEdge[0]();if(!s)return;const l=e.g.connectingEnd[0](),i=e.g.nodes().get(s.nodeID),c=e.g.viewRectOf(s.nodeID,s.handleID);if(!i||!c)return;const d=e.g.viewRect(l.ref);if(d)return Lt(c,d)},o=()=>t()?.angular?"hrm-rect":"hrm-pill",r=()=>{const s=t();if(s)return{visibility:"visible",left:`${s.x}px`,top:`${s.y}px`,width:`${s.w}px`,height:`${s.h}px`}};return[(()=>{const s=Do(),l=s.firstChild;return p(()=>ee(l,"d",n())),s})(),(()=>{const s=Io();return p(l=>{const i=`hrm-editing-edge-handle no-pointer-events ${o()}`,c=r();return i!==l._v$&&B(s,l._v$=i),l._v$2=ue(s,c,l._v$2),l},{_v$:void 0,_v$2:void 0}),s})()]},Ao=y("<div class=code-area><textarea></textarea><textarea>"),Po=10,et=(e,t)=>{for(;t>0&&e.charCodeAt(t-1)!==Po;t--);return t},To=(e,t,n)=>{const o=et(e,t),r=e.substring(o,n).split(`
`);return{value:e.substring(0,o)+"  "+r.join(`
  `)+e.substring(n),start:t+2,end:n+2*r.length}},Oo=(e,t,n)=>{const o=et(e,t),r=e.substring(o,n).split(`
`);let s=t,l=n;for(let i=0;i<r.length;i++)r[i].startsWith("  ")?(i===0&&(s-=2),l-=2,r[i]=r[i].substring(2)):r[i].startsWith("	")&&(i===0&&(s-=1),l-=1,r[i]=r[i].substring(1));return{value:e.substring(0,o)+r.join(`
`)+e.substring(n),start:s,end:l}},Lo=e=>{let t;const n=i=>{e.autoresize&&t&&(t.value=i.value,t.style.width=i.style.width,i.style.height=t.scrollHeight+"px")},o=i=>{switch(e.onKeyDown&&e.onKeyDown(i),i.key){case"Tab":{i.preventDefault();const c=i.currentTarget,d=(i.shiftKey?Oo:To)(c.value,c.selectionStart,c.selectionEnd);c.value=d.value,c.selectionStart=d.start,c.selectionEnd=d.end}break;case"Enter":{i.preventDefault();const c=i.currentTarget,d=c.selectionStart,a=c.value,f=/[ \t]*/y;f.lastIndex=et(a,d-1);const h=f.exec(a)?.[0]??"";c.value=a.substring(0,d)+`
`+h+a.substring(c.selectionEnd),c.selectionStart=d+1+h.length,c.selectionEnd=d+1+h.length}break}n(i.target)},r=i=>{e.onInput&&e.onInput(i)},s=i=>{e.onChange&&e.onChange(i)},l=i=>{n(i.currentTarget)};return(()=>{const i=Ao(),c=i.firstChild,d=c.nextSibling;c.$$keydown=o,c.$$input=r,c.addEventListener("change",s),c.addEventListener("focus",l);const a=e.ref;typeof a=="function"?R(a,c):e.ref=c;const f=t;return typeof f=="function"?R(f,d):t=d,d.disabled=!0,p(h=>{const m=e.autofocus,v=e.disabled,z=`form-control ${e.class??""}`,U=e.placeholder,G=`form-control abs-lt ${e.class??""} code-area-hidden no-pointer-events no-user-select`;return m!==h._v$&&(c.autofocus=h._v$=m),v!==h._v$2&&(c.disabled=h._v$2=v),z!==h._v$3&&B(c,h._v$3=z),U!==h._v$4&&ee(c,"placeholder",h._v$4=U),G!==h._v$5&&B(d,h._v$5=G),h},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),p(()=>c.value=e.value),i})()};q(["input","keydown"]);const Bo=y("<button class=suggest>"),Ho=y("<div class=suggests>"),Ro=y("<div class=hrm-edit-overlay>"),zo=e=>(()=>{const t=Bo();return t.$$click=()=>alert(e.label),g(t,()=>e.label),t})(),jo=e=>(()=>{const t=Ho();return g(t,u(j,{get each(){return e.items},children:n=>u(zo,n)})),t})(),Uo=e=>{let t,n;return Y(()=>{if(t){const o=["mousedown","touchstart","pointerdown","wheel"];for(const r of o)t.addEventListener(r,s=>s.stopPropagation())}}),(()=>{const o=Ro(),r=t;return typeof r=="function"?R(r,o):t=o,g(o,u(Ve,{class:"shadow-1 w-fit",get children(){return[u(M,{get color(){return x.danger},onClick:()=>e.g.cancelEditNode(),get children(){return[" ",u(Yr,{})," "]}}),u(M,{get color(){return x.success},onClick:()=>e.g.applyEditNode(n?n.value:""),get children(){return[" ",u(Wr,{})," "]}})]}}),null),g(o,u(Lo,{ref(s){const l=n;typeof l=="function"?l(s):n=s},autofocus:!0,autoresize:!0,class:"shadow-1",placeholder:"[NODE DATA]",get value(){return yr(e.node.x)},onInput:s=>{console.log(zt(s.currentTarget.value))}}),null),g(o,u(jo,{items:[{label:"beta",text:"beta"},{label:"gamma",text:"gamma"},{label:"delta",text:"delta"},{label:"epsilon",text:"epsilon"},{label:"omega",text:"omega"},{label:"alpha",text:"alpha"},{label:"{",text:"{"},{label:"beta",text:"beta"},{label:"gamma",text:"gamma"},{label:"delta",text:"delta"},{label:"epsilon",text:"epsilon"},{label:"omega",text:"omega"},{label:"alpha",text:"alpha"},{label:"{",text:"{"}]}),null),p(()=>`translate(${e.node.pos.x}px, ${e.node.pos.y}px)`!=null?o.style.setProperty("transform",`translate(${e.node.pos.x}px, ${e.node.pos.y}px)`):o.style.removeProperty("transform")),o})()},Go=e=>u(Z,{get when(){return e.g.editingNode[0]()},get children(){return u(Uo,{get g(){return e.g},get node(){return e.g.editingNode[0]()}})}});q(["click"]);const Ko=y('<div class="hrm-container w-100 h-100">'),Wo=e=>{const t=new Mo(e.initialNodes);return e.stateBox&&(e.stateBox[0]=t),(()=>{const n=Ko(),o=t.rootRef;return typeof o=="function"?R(o,n):t.rootRef=n,g(n,u(oo,{g:t,onClick:()=>t.deselectAll(),onDoubleClick:r=>{const s=t.viewPos(r.x,r.y),l=t.addEmptyNode(s);t.editNode(l)},onLongPress:()=>{xr("[Hrm] Long press")},get children(){return[u(Co,{g:t}),u(No,{g:t}),u(Go,{g:t})]}})),n})()},Yo=y("<div class=editor-root-hrm>"),Fo=e=>(()=>{const t=Yo();return g(t,u(Wo,{get initialNodes(){return Xn()},get stateBox(){return e.stateBox}})),t})(),qo=y("<div class=dropdown><button></button><div>"),Xo=y("<hr>"),Vo=e=>{const[t,n]=_(!1);return(()=>{const o=qo(),r=o.firstChild,s=r.nextSibling;return r.$$click=()=>{n(!t())},g(r,()=>e.children),s.$$click=()=>{n(!1)},g(s,u(j,{get each(){return e.list},children:(l,i)=>[u(Z,{get when(){return i()>0},get children(){return Xo()}}),u(j,{each:l,children:c=>c})]})),p(l=>{const i=`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`,c=`dropdown-menu ${t()?"visible":"hidden"}`;return i!==l._v$&&B(r,l._v$=i),c!==l._v$2&&B(s,l._v$2=c),l},{_v$:void 0,_v$2:void 0}),o})()};q(["click"]);const Zo=y("<a> <!> "),Ue=y("<a> ");var de=function(e){return e[e.Add=0]="Add",e[e.Edit=1]="Edit",e}(de||{});const Yt=()=>[{name:H("mainEditor.menu.addTools"),icon:u(Wt,{})},{name:H("mainEditor.menu.selectTools"),icon:u(jr,{})}],Jo=e=>Yt()[e].icon,Qo=(e,t)=>{switch(e){case de.Add:return[u(M,{get color(){return x.warning},onClick:()=>t[0]?.undo(),get children(){return u(Lr,{})}}),u(M,{get color(){return x.warning},onClick:()=>t[0]?.redo(),get children(){return u(Br,{})}}),u(M,{get color(){return x.secondary},class:"flex-1",onClick:()=>t[0]?.addEmptyNode(),get children(){return u(Wt,{})}}),u(M,{get color(){return x.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return u(yt,{})}})];case de.Edit:return[u(M,{get color(){return x.warning},class:"flex-1",onClick:()=>t[0]?.deselectAll(),get children(){return u(zr,{})}}),u(M,{get color(){return x.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(Kr,{})}}),u(M,{get color(){return x.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(Rr,{})}}),u(M,{get color(){return x.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(Hr,{})}}),u(M,{get color(){return x.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return u(yt,{})}})]}},es=(e,t)=>Yt().map((n,o)=>(()=>{const r=Zo(),s=r.firstChild,l=s.nextSibling;return l.nextSibling,r.$$click=()=>{t(i=>({...i,toolSet:o})),e[0]&&(e[0].selectMode=o===de.Edit)},g(r,()=>n.icon,l),g(r,()=>n.name,null),r})()),ts=e=>{const[t,n]=_({toolSet:de.Add}),o=()=>[es(e.stateBox,n),[(()=>{const r=Ue(),s=r.firstChild;return g(r,u(Ur,{}),s),g(r,()=>H("mainEditor.menu.browser"),null),r})(),(()=>{const r=Ue(),s=r.firstChild;return g(r,u(Gr,{}),s),g(r,()=>H("mainEditor.menu.launch"),null),r})(),(()=>{const r=Ue(),s=r.firstChild;return r.$$click=()=>e.modalActionsBox?.[0]?.openGraphTools(),g(r,u(Kt,{}),s),g(r,()=>H("mainEditor.menu.graphTools"),null),r})()]];return u(Ve,{class:"editor-root-hrm-header shadow-2",get children(){return[u(Vo,{get color(){return x.primary},get list(){return o()},get children(){return Jo(t().toolSet)}}),C(()=>Qo(t().toolSet,e.stateBox))]}})};q(["click"]);const ns=y("<div>"),rs=e=>(()=>{const t=ns();return g(t,()=>e.children),p(()=>B(t,`form-control btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();const os=y('<div class=m-modal><div class="m-modal-content m-modal-content-stick-to-center">'),ss=e=>{const t=n=>{e.onClose&&n.target===n.currentTarget&&e.onClose()};return(()=>{const n=os(),o=n.firstChild;return n.$$click=t,g(o,()=>e.children),p(()=>o.classList.toggle("h-100",!!e.fullHeight)),n})()};q(["click"]);const Ge=y("<h3> <!> "),is=e=>u(ss,{get onClose(){return e.onClose},get children(){return[u(Ve,{get children(){return[u(rs,{get color(){return x.primary},get children(){return u(Kt,{})}}),u(zn,{class:"flex-1",disabled:!0,value:"Graph Tools"}),u(M,{get color(){return x.danger},get onClick(){return e.onClose},get children(){return u(Fr,{})}})]}}),(()=>{const t=Ge(),n=t.firstChild,o=n.nextSibling;return o.nextSibling,g(t,()=>H("graphTools.layout"),o),t})(),u(M,{get color(){return x.primary},get children(){return[" ",C(()=>H("graphTools.tool.layoutDefault"))," "]}}),u(M,{get color(){return x.secondary},get children(){return[" ",C(()=>H("graphTools.tool.layoutLinear"))," "]}}),(()=>{const t=Ge(),n=t.firstChild,o=n.nextSibling;return o.nextSibling,g(t,()=>H("graphTools.optimization"),o),t})(),u(M,{get color(){return x.warning},get children(){return[" ",C(()=>H("graphTools.tool.selectUnreachables"))," "]}}),(()=>{const t=Ge(),n=t.firstChild,o=n.nextSibling;return o.nextSibling,g(t,()=>H("graphTools.validate"),o),t})(),u(M,{get color(){return x.danger},get children(){return[" ",C(()=>H("graphTools.tool.validateGraph"))," "]}})]}});var ae=function(e){return e[e.None=0]="None",e[e.Browser=1]="Browser",e[e.Launch=2]="Launch",e[e.GraphTools=3]="GraphTools",e}(ae||{});class ls{constructor(){const[t,n]=_({type:ae.None});this.state=t,this.setState=n}close(){this.setState(t=>({...t,type:ae.None}))}openGraphTools(){this.setState(t=>({...t,type:ae.GraphTools}))}}const cs=e=>{const t=new ls;return e.actionsBox&&(e.actionsBox[0]=t),u(At,{get children(){return u(pe,{get when(){return t.state().type===ae.GraphTools},get children(){return u(is,{onClose:()=>t.close(),get stateBox(){return e.stateBox}})}})}})},as=y('<div class=editor-root><div class="w-100 abs-lt">'),ds=()=>{const e=ht(),t=ht();return(()=>{const n=as(),o=n.firstChild;return g(n,u(Fo,{stateBox:e}),o),g(o,u(ts,{stateBox:e,modalActionsBox:t})),g(n,u(cs,{actionsBox:t,stateBox:e}),null),n})()},us=()=>u(Ln,{get children(){return[u(kr,{}),u(ds,{})]}}),fs=document.getElementById("root");vn(()=>u(us,{}),fs);
