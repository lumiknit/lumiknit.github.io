(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const Ft=(e,t)=>e===t,xe=Symbol("solid-proxy"),Vt=Symbol("solid-track"),Xt=Symbol("solid-dev-component"),ke={equals:Ft};let Et=Mt;const F=1,Ee=2,_t={owned:null,cleanups:null,context:null,owner:null},Te={};var k=null;let Le=null,$=null,D=null,W=null,Ie=0;function ve(e,t){const n=$,o=k,r=e.length===0,s=t===void 0?o:t,l=r?_t:{owned:null,cleanups:null,context:s?s.context:null,owner:s},i=r?e:()=>e(()=>A(()=>Ae(l)));k=l,$=null;try{return ee(i,!0)}finally{$=n,k=o}}function C(e,t){t=t?Object.assign({},ke,t):ke;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},o=r=>(typeof r=="function"&&(r=r(n.value)),St(n,r));return[Ct.bind(n),o]}function rt(e,t,n){const o=Ne(e,t,!0,F);le(o)}function p(e,t,n){const o=Ne(e,t,!1,F);le(o)}function q(e,t,n){Et=on;const o=Ne(e,t,!1,F);(!n||!n.render)&&(o.user=!0),W?W.push(o):le(o)}function E(e,t,n){n=n?Object.assign({},ke,n):ke;const o=Ne(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,le(o),Ct.bind(o)}function Zt(e){return e&&typeof e=="object"&&"then"in e}function Jt(e,t,n){let o,r,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(o=!0,r=e,s=t||{}):(o=e,r=t,s=n||{});let l=null,i=Te,c=!1,d="initialValue"in s,a=typeof o=="function"&&E(o);const f=new Set,[h,m]=(s.storage||C)(s.initialValue),[v,z]=C(void 0),[U,G]=C(void 0,{equals:!1}),[L,O]=C(d?"ready":"unresolved");function P(x,S,T,re){return l===x&&(l=null,re!==void 0&&(d=!0),(x===i||S===i)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(re,{value:S})),i=Te,X(S,T)),S}function X(x,S){ee(()=>{S===void 0&&m(()=>x),O(S!==void 0?"errored":d?"ready":"unresolved"),z(S);for(const T of f.keys())T.decrement();f.clear()},!1)}function ae(){const x=tn,S=h(),T=v();if(T!==void 0&&!l)throw T;return $&&!$.user&&x&&rt(()=>{U(),l&&(x.resolved||f.has(x)||(x.increment(),f.add(x)))}),S}function Pe(x=!0){if(x!==!1&&c)return;c=!1;const S=a?a():o;if(S==null||S===!1){P(l,A(h));return}const T=i!==Te?i:A(()=>r(S,{value:h(),refetching:x}));return Zt(T)?(l=T,c=!0,queueMicrotask(()=>c=!1),ee(()=>{O(d?"refreshing":"pending"),G()},!1),T.then(re=>P(T,re,void 0,S),re=>P(T,void 0,It(re),S))):(P(l,T,void 0,S),T)}return Object.defineProperties(ae,{state:{get:()=>L()},error:{get:()=>v()},loading:{get(){const x=L();return x==="pending"||x==="refreshing"}},latest:{get(){if(!d)return ae();const x=v();if(x&&!l)throw x;return h()}}}),a?rt(()=>Pe(!1)):Pe(!1),[ae,{refetch:Pe,mutate:m}]}function oe(e){return ee(e,!1)}function A(e){if($===null)return e();const t=$;$=null;try{return e()}finally{$=t}}function Qt(e){return k===null||(k.cleanups===null?k.cleanups=[e]:k.cleanups.push(e)),e}function en(e){const t=E(e),n=E(()=>Ke(t()));return n.toArray=()=>{const o=n();return Array.isArray(o)?o:o!=null?[o]:[]},n}let tn;function Ct(){if(this.sources&&this.state)if(this.state===F)le(this);else{const e=D;D=null,ee(()=>Ce(this),!1),D=e}if($){const e=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(e)):($.sources=[this],$.sourceSlots=[e]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function St(e,t,n){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&ee(()=>{for(let r=0;r<e.observers.length;r+=1){const s=e.observers[r],l=Le&&Le.running;l&&Le.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?D.push(s):W.push(s),s.observers&&Dt(s)),l||(s.state=F)}if(D.length>1e6)throw D=[],new Error},!1)),t}function le(e){if(!e.fn)return;Ae(e);const t=k,n=$,o=Ie;$=k=e,nn(e,e.value,o),$=n,k=t}function nn(e,t,n){let o;try{o=e.fn(t)}catch(r){return e.pure&&(e.state=F,e.owned&&e.owned.forEach(Ae),e.owned=null),e.updatedAt=n+1,Nt(r)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?St(e,o):e.value=o,e.updatedAt=n)}function Ne(e,t,n,o=F,r){const s={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:k,context:k?k.context:null,pure:n};return k===null||k!==_t&&(k.owned?k.owned.push(s):k.owned=[s]),s}function _e(e){if(e.state===0)return;if(e.state===Ee)return Ce(e);if(e.suspense&&A(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ie);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===F)le(e);else if(e.state===Ee){const o=D;D=null,ee(()=>Ce(e,t[0]),!1),D=o}}function ee(e,t){if(D)return e();let n=!1;t||(D=[]),W?n=!0:W=[],Ie++;try{const o=e();return rn(n),o}catch(o){n||(W=null),D=null,Nt(o)}}function rn(e){if(D&&(Mt(D),D=null),e)return;const t=W;W=null,t.length&&ee(()=>Et(t),!1)}function Mt(e){for(let t=0;t<e.length;t++)_e(e[t])}function on(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:_e(o)}for(t=0;t<n;t++)_e(e[t])}function Ce(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const o=e.sources[n];if(o.sources){const r=o.state;r===F?o!==t&&(!o.updatedAt||o.updatedAt<Ie)&&_e(o):r===Ee&&Ce(o,t)}}}function Dt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ee,n.pure?D.push(n):W.push(n),n.observers&&Dt(n))}}function Ae(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),o=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const s=r.pop(),l=n.observerSlots.pop();o<r.length&&(s.sourceSlots[l]=o,r[o]=s,n.observerSlots[o]=l)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ae(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function It(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Nt(e,t=k){throw It(e)}function Ke(e){if(typeof e=="function"&&!e.length)return Ke(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const o=Ke(e[n]);Array.isArray(o)?t.push.apply(t,o):t.push(o)}return t}return e}const sn=Symbol("fallback");function ot(e){for(let t=0;t<e.length;t++)e[t]()}function ln(e,t,n={}){let o=[],r=[],s=[],l=0,i=t.length>1?[]:null;return Qt(()=>ot(s)),()=>{let c=e()||[],d,a;return c[Vt],A(()=>{let h=c.length,m,v,z,U,G,L,O,P,X;if(h===0)l!==0&&(ot(s),s=[],o=[],r=[],l=0,i&&(i=[])),n.fallback&&(o=[sn],r[0]=ve(ae=>(s[0]=ae,n.fallback())),l=1);else if(l===0){for(r=new Array(h),a=0;a<h;a++)o[a]=c[a],r[a]=ve(f);l=h}else{for(z=new Array(h),U=new Array(h),i&&(G=new Array(h)),L=0,O=Math.min(l,h);L<O&&o[L]===c[L];L++);for(O=l-1,P=h-1;O>=L&&P>=L&&o[O]===c[P];O--,P--)z[P]=r[O],U[P]=s[O],i&&(G[P]=i[O]);for(m=new Map,v=new Array(P+1),a=P;a>=L;a--)X=c[a],d=m.get(X),v[a]=d===void 0?-1:d,m.set(X,a);for(d=L;d<=O;d++)X=o[d],a=m.get(X),a!==void 0&&a!==-1?(z[a]=r[d],U[a]=s[d],i&&(G[a]=i[d]),a=v[a],m.set(X,a)):s[d]();for(a=L;a<h;a++)a in z?(r[a]=z[a],s[a]=U[a],i&&(i[a]=G[a],i[a](a))):r[a]=ve(f);r=r.slice(0,l=h),o=c.slice(0)}return r});function f(h){if(s[a]=h,i){const[m,v]=C(a);return i[a]=v,t(c[a],m)}return t(c[a])}}}function u(e,t){return A(()=>e(t||{}))}function he(){return!0}const We={get(e,t,n){return t===xe?n:e.get(t)},has(e,t){return t===xe?!0:e.has(t)},set:he,deleteProperty:he,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:he,deleteProperty:he}},ownKeys(e){return e.keys()}};function Oe(e){return(e=typeof e=="function"?e():e)?e:{}}function cn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function st(...e){let t=!1;for(let s=0;s<e.length;s++){const l=e[s];t=t||!!l&&xe in l,e[s]=typeof l=="function"?(t=!0,E(l)):l}if(t)return new Proxy({get(s){for(let l=e.length-1;l>=0;l--){const i=Oe(e[l])[s];if(i!==void 0)return i}},has(s){for(let l=e.length-1;l>=0;l--)if(s in Oe(e[l]))return!0;return!1},keys(){const s=[];for(let l=0;l<e.length;l++)s.push(...Object.keys(Oe(e[l])));return[...new Set(s)]}},We);const n={},o={},r=new Set;for(let s=e.length-1;s>=0;s--){const l=e[s];if(!l)continue;const i=Object.getOwnPropertyNames(l);for(let c=0,d=i.length;c<d;c++){const a=i[c];if(a==="__proto__"||a==="constructor")continue;const f=Object.getOwnPropertyDescriptor(l,a);if(!r.has(a))f.get?(r.add(a),Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:cn.bind(o[a]=[f.get.bind(l)])})):(f.value!==void 0&&r.add(a),n[a]=f.value);else{const h=o[a];h?f.get?h.push(f.get.bind(l)):f.value!==void 0&&h.push(()=>f.value):n[a]===void 0&&(n[a]=f.value)}}}return n}function At(e,...t){if(xe in e){const r=new Set(t.length>1?t.flat():t[0]),s=t.map(l=>new Proxy({get(i){return l.includes(i)?e[i]:void 0},has(i){return l.includes(i)&&i in e},keys(){return l.filter(i=>i in e)}},We));return s.push(new Proxy({get(l){return r.has(l)?void 0:e[l]},has(l){return r.has(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!r.has(l))}},We)),s}const n={},o=t.map(()=>({}));for(const r of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,r),l=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let i=!1,c=0;for(const d of t)d.includes(r)&&(i=!0,l?o[c][r]=s.value:Object.defineProperty(o[c],r,s)),++c;i||(l?n[r]=s.value:Object.defineProperty(n,r,s))}return[...o,n]}const Pt=e=>`Stale read from <${e}>.`;function j(e){const t="fallback"in e&&{fallback:()=>e.fallback};return E(ln(()=>e.each,e.children,t||void 0))}function J(e){const t=e.keyed,n=E(()=>e.when,void 0,{equals:(o,r)=>t?o===r:!o==!r});return E(()=>{const o=n();if(o){const r=e.children;return typeof r=="function"&&r.length>0?A(()=>r(t?o:()=>{if(!A(n))throw Pt("Show");return e.when})):r}return e.fallback},void 0,void 0)}function Tt(e){let t=!1;const n=(s,l)=>s[0]===l[0]&&(t?s[1]===l[1]:!s[1]==!l[1])&&s[2]===l[2],o=en(()=>e.children),r=E(()=>{let s=o();Array.isArray(s)||(s=[s]);for(let l=0;l<s.length;l++){const i=s[l].when;if(i)return t=!!s[l].keyed,[l,i,s[l]]}return[-1]},void 0,{equals:n});return E(()=>{const[s,l,i]=r();if(s<0)return e.fallback;const c=i.children;return typeof c=="function"&&c.length>0?A(()=>c(t?l:()=>{if(A(r)[0]!==s)throw Pt("Match");return i.when})):c},void 0,void 0)}function pe(e){return e}const an=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],dn=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...an]),un=new Set(["innerHTML","textContent","innerText","children"]),fn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),hn=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function gn(e,t){const n=hn[e];return typeof n=="object"?n[t]?n.$:void 0:n}const mn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),wn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),yn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function vn(e,t,n){let o=n.length,r=t.length,s=o,l=0,i=0,c=t[r-1].nextSibling,d=null;for(;l<r||i<s;){if(t[l]===n[i]){l++,i++;continue}for(;t[r-1]===n[s-1];)r--,s--;if(r===l){const a=s<o?i?n[i-1].nextSibling:n[s-i]:c;for(;i<s;)e.insertBefore(n[i++],a)}else if(s===i)for(;l<r;)(!d||!d.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[s-1]&&n[i]===t[r-1]){const a=t[--r].nextSibling;e.insertBefore(n[i++],t[l++].nextSibling),e.insertBefore(n[--s],a),t[r]=n[s]}else{if(!d){d=new Map;let f=i;for(;f<s;)d.set(n[f],f++)}const a=d.get(t[l]);if(a!=null)if(i<a&&a<s){let f=l,h=1,m;for(;++f<r&&f<s&&!((m=d.get(t[f]))==null||m!==a+h);)h++;if(h>a-i){const v=t[l];for(;i<a;)e.insertBefore(n[i++],v)}else e.replaceChild(n[i++],t[l++])}else l++;else t[l++].remove()}}}const it="_$DX_DELEGATE";function pn(e,t,n,o={}){let r;return ve(s=>{r=s,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},o.owner),()=>{r(),t.textContent=""}}function y(e,t,n){let o;const r=()=>{const l=document.createElement("template");return l.innerHTML=e,n?l.content.firstChild.firstChild:l.content.firstChild},s=t?()=>A(()=>document.importNode(o||(o=r()),!0)):()=>(o||(o=r())).cloneNode(!0);return s.cloneNode=s,s}function V(e,t=window.document){const n=t[it]||(t[it]=new Set);for(let o=0,r=e.length;o<r;o++){const s=e[o];n.has(s)||(n.add(s),t.addEventListener(s,En))}}function Y(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function $n(e,t,n,o){o==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,o)}function B(e,t){t==null?e.removeAttribute("class"):e.className=t}function Se(e,t,n,o){if(o)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=s=>r.call(e,n[1],s))}else e.addEventListener(t,n)}function bn(e,t,n={}){const o=Object.keys(t||{}),r=Object.keys(n);let s,l;for(s=0,l=r.length;s<l;s++){const i=r[s];!i||i==="undefined"||t[i]||(lt(e,i,!1),delete n[i])}for(s=0,l=o.length;s<l;s++){const i=o[s],c=!!t[i];!i||i==="undefined"||n[i]===c||!c||(lt(e,i,!0),n[i]=c)}return n}function ce(e,t,n){if(!t)return n?Y(e,"style"):t;const o=e.style;if(typeof t=="string")return o.cssText=t;typeof n=="string"&&(o.cssText=n=void 0),n||(n={}),t||(t={});let r,s;for(s in n)t[s]==null&&o.removeProperty(s),delete n[s];for(s in t)r=t[s],r!==n[s]&&(o.setProperty(s,r),n[s]=r);return n}function Lt(e,t={},n,o){const r={};return o||p(()=>r.children=ie(e,t.children,r.children)),p(()=>t.ref&&t.ref(e)),p(()=>xn(e,t,n,!0,r,!0)),r}function R(e,t,n){return A(()=>e(t,n))}function g(e,t,n,o){if(n!==void 0&&!o&&(o=[]),typeof t!="function")return ie(e,t,o,n);p(r=>ie(e,t(),r,n),o)}function xn(e,t,n,o,r={},s=!1){t||(t={});for(const l in r)if(!(l in t)){if(l==="children")continue;r[l]=ct(e,l,null,r[l],n,s)}for(const l in t){if(l==="children"){o||ie(e,t.children);continue}const i=t[l];r[l]=ct(e,l,i,r[l],n,s)}}function kn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function lt(e,t,n){const o=t.trim().split(/\s+/);for(let r=0,s=o.length;r<s;r++)e.classList.toggle(o[r],n)}function ct(e,t,n,o,r,s){let l,i,c,d,a;if(t==="style")return ce(e,n,o);if(t==="classList")return bn(e,n,o);if(n===o)return o;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);o&&e.removeEventListener(f,o),n&&e.addEventListener(f,n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);o&&e.removeEventListener(f,o,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),h=mn.has(f);if(!h&&o){const m=Array.isArray(o)?o[0]:o;e.removeEventListener(f,m)}(h||n)&&(Se(e,f,n,h),h&&V([f]))}else if(t.slice(0,5)==="attr:")Y(e,t.slice(5),n);else if((a=t.slice(0,5)==="prop:")||(c=un.has(t))||!r&&((d=gn(t,e.tagName))||(i=dn.has(t)))||(l=e.nodeName.includes("-")))a&&(t=t.slice(5),i=!0),t==="class"||t==="className"?B(e,n):l&&!i&&!c?e[kn(t)]=n:e[d||t]=n;else{const f=r&&t.indexOf(":")>-1&&yn[t.split(":")[0]];f?$n(e,f,t,n):Y(e,fn[t]||t,n)}return n}function En(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const o=n[t];if(o&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?o.call(n,r,e):o.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ie(e,t,n,o,r){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,l=o!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),l){let i=n[0];i&&i.nodeType===3?i.data=t:i=document.createTextNode(t),n=se(e,n,o,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=se(e,n,o);else{if(s==="function")return p(()=>{let i=t();for(;typeof i=="function";)i=i();n=ie(e,i,n,o)}),()=>n;if(Array.isArray(t)){const i=[],c=n&&Array.isArray(n);if(Ye(i,t,n,r))return p(()=>n=ie(e,i,n,o,!0)),()=>n;if(i.length===0){if(n=se(e,n,o),l)return n}else c?n.length===0?at(e,i,o):vn(e,n,i):(n&&se(e),at(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=se(e,n,o,t);se(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function Ye(e,t,n,o){let r=!1;for(let s=0,l=t.length;s<l;s++){let i=t[s],c=n&&n[s],d;if(!(i==null||i===!0||i===!1))if((d=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=Ye(e,i,c)||r;else if(d==="function")if(o){for(;typeof i=="function";)i=i();r=Ye(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||r}else e.push(i),r=!0;else{const a=String(i);c&&c.nodeType===3&&c.data===a?e.push(c):e.push(document.createTextNode(a))}}return r}function at(e,t,n=null){for(let o=0,r=t.length;o<r;o++)e.insertBefore(t[o],n)}function se(e,t,n,o){if(n===void 0)return e.textContent="";const r=o||document.createTextNode("");if(t.length){let s=!1;for(let l=t.length-1;l>=0;l--){const i=t[l];if(r!==i){const c=i.parentNode===e;!s&&!l?c?e.replaceChild(r,i):e.insertBefore(r,n):c&&i.remove()}else s=!0}}else e.insertBefore(r,n);return[r]}const _n=!1,Cn="http://www.w3.org/2000/svg";function Sn(e,t=!1){return t?document.createElementNS(Cn,e):document.createElement(e)}function Mn(e){const[t,n]=At(e,["component"]),o=E(()=>t.component);return E(()=>{const r=o();switch(typeof r){case"function":return Object.assign(r,{[Xt]:!0}),A(()=>r(n));case"string":const s=wn.has(r),l=Sn(r,s);return Lt(l,n,s),l}})}var Dn=()=>["%csolid-devtools","color: #fff; background: #2c4f7c; padding: 1px 4px;"];function In(...e){console.warn(...Dn(),...e)}In('`import "solid-devtools";` is an entry point for the vite plugin.\nIf you\'re seeing this message you probably forgot to add the plugin to your vite config.');(()=>{let e=100;const t=()=>{const r=getComputedStyle(document.documentElement).getPropertyValue("--kitl-c-bg");if(console.log("bgColor",r),!r){if(e>1e4)return;e*=2,setTimeout(t,e);return}const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content",r)},n=r=>{r?(console.log("Dark mode"),document.documentElement.setAttribute("color-theme","dark")):(console.log("Light mode"),document.documentElement.setAttribute("color-theme","light")),setTimeout(t)},o=window.matchMedia("(prefers-color-scheme: dark)");o.addEventListener("change",r=>n(r.matches)),n(o.matches),window.addEventListener("load",t)})();const Nn="modulepreload",An=function(e){return"/"+e},dt={},ut=function(t,n,o){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=An(s),s in dt)return;dt[s]=!0;const l=s.endsWith(".css"),i=l?'[rel="stylesheet"]':"";if(!!o)for(let a=r.length-1;a>=0;a--){const f=r[a];if(f.href===s&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${i}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Nn,l||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),l)return new Promise((a,f)=>{d.addEventListener("load",a),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})},Pn=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((o,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})},[Ot,Tn]=C({locale:"",strings:new Map}),Ln=()=>Ot().locale,Bt=(e,t,n)=>{for(const o in n){const r=n[o],s=t?`${t}.${o}`:o;typeof r=="object"?Bt(e,s,r):e.set(s,r)}},On=async e=>{for(const t of[e,...navigator.languages,"en"])if(t)try{const n=await Pn(Object.assign({"./strings/en.json":()=>ut(()=>import("./en-d1a00eea.js"),[]),"./strings/ko.json":()=>ut(()=>import("./ko-1ded49bb.js"),[])}),`./strings/${t}.json`),o=new Map;return Bt(o,"",n),Tn({locale:t,strings:o}),!0}catch{continue}},H=e=>Ot().strings.get(e)||e,Bn=e=>{const[t]=Jt(async()=>await On(e.language)),n=Ln();return u(Tt,{fallback:"Unk",get children(){return[u(pe,{get when(){return t()},get children(){return e.children}}),u(pe,{when:n==="",children:"Failed to load locale."}),u(pe,{when:n===void 0,children:"Loading..."})]}})};var b=(e=>(e.fg="fg",e.bg="bg",e.primary="primary",e.secondary="secondary",e.success="success",e.danger="danger",e.warning="warning",e))(b||{});const Hn=y("<button>"),M=e=>(()=>{const t=Hn();return Se(t,"click",e.onClick,!0),g(t,()=>e.children),p(()=>B(t,`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();V(["click"]);V(["keydown"]);const Rn=y("<div>"),Je=e=>(()=>{const t=Rn();return g(t,()=>e.children),p(()=>B(t,`input-group ${e.class??""}`)),t})(),zn=y("<input type=text>"),jn=e=>(()=>{const t=zn();return Se(t,"keydown",e.onKeyDown,!0),Se(t,"change",e.onChange),p(n=>{const o=e.disabled,r=`form-control ${e.class??""}`,s=e.placeholder;return o!==n._v$&&(t.disabled=n._v$=o),r!==n._v$2&&B(t,n._v$2=r),s!==n._v$3&&Y(t,"placeholder",n._v$3=s),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),p(()=>t.value=e.value),t})();V(["keydown"]);const Un=()=>{throw"Empty function invoked"},ft={x:0,y:0},Me=(e,t)=>e*e+t*t,$e=(e,t)=>Math.sqrt(Me(e,t)),ht=(e,t,n)=>{const o=n.w/2,r=n.h/2,s=n.x+o,l=n.y+r,i=o-r;let c=e-s,d=t-l,a=0,f=0;if(c<-o&&(c=-o,a=-1),c>o&&(c=o,a=1),d<-r&&(d=-r,f=-1),d>r&&(d=r,f=1),n.angular){if(a*f!==0){const h=$e(c,d);return[s+c-1.4*a,l+d-1.4*f,c/h,d/h]}}else{if(o>r&&Math.abs(c)>i){const h=c>0?i:-i,m=c-h,v=$e(m,d)/r;return[s+h+m/v,l+d/v,m/r,d/(v*r)]}if(r>o&&Math.abs(d)>i){const h=d>0?i:-i,m=d-h,v=$e(c,m)/o;return[s+c/v,l+h+m/v,c/(v*o),m/o]}}return[s+c,l+d,a,f]},qe=(e,t,n)=>{const[o,r,s,l]=ht(t.x+t.w/2,t.y+t.h/2,e),[i,c,d,a]=ht(o,r,t),f=.2*$e(o-i,r-c);return`M ${i-n*d} ${c-n*a} C ${i+d*f} ${c+a*f}, ${o+s*f} ${r+l*f}, ${o-n*s} ${r-n*l}`},gt=(e,t)=>{const o=e.x+e.w/2,r=t.x+t.w/2;return`M ${o} ${e.y} C ${o} ${e.y-30}, ${r} ${t.y-30}, ${r} ${t.y}`},Gn=()=>Math.random().toString(36).substring(7),Kn=()=>{const e=new Date,t=e.getTimezoneOffset()*60*1e3,n=e.getTime()+t;return Math.round(n/1e3).toString(36)},Wn=()=>`${Kn()}-${Gn()}`,Yn=(e,t,n)=>e<t?t:e>n?n:e;var w=(e=>(e.Alpha="a",e.Beta="b",e.Delta="d",e.Lambda="l",e.Nu="n",e.Pi="p",e))(w||{});const be=new Set(["d"]),qn=new Set(["n"]),Fn=new Set(["b","n"]),Vn=()=>[{id:"#def",pos:{x:0,y:0},x:{type:"d",comment:""}}],ge=JSON.stringify,Be=e=>{switch(typeof e){case"string":return e.length>20;case"object":return e===null?!1:Array.isArray(e)?e.length>1:Object.keys(e).length>1}return!1},Z=(e,t=0)=>{if(typeof e!="object"||e===null)return ge(e);const n=" ".repeat(2*(t+1)),o=`,
`+n;if(Array.isArray(e)){const l=e;return l.length===0?"[]":l.length===1?Be(l[0])?`[ ${Z(l[0],t+1)} ]`:`[${Z(l[0],t+1)}]`:`[ ${l.map(i=>Z(i,t+1)).join(o)} ]`}const r=e,s=Object.keys(r);if(s.length===0)return"{}";if(s.length===1){const l=s[0],i=ge(l),c=r[l];return Be(c)?`{ ${i}:
  ${n}${Z(c,t+2)}}`:`{${i}: ${Z(c,t+1)}}`}return`{ ${Object.entries(r).map(([l,i])=>Be(i)?`${ge(l)}:
  ${n}${Z(i,t+2)}`:`${ge(l)}: ${Z(i,t+1)}`).join(o)} }`},N=e=>e.charCodeAt(0),Qe=e=>{const t=new Set;for(let n=0;n<e.length;n++)t.add(e.charCodeAt(n));return t},Xn=N(`
`),Zn=N("["),Jn=N("]"),Qn=N("{"),er=N("}"),tr=N('"'),nr=N("'"),rr=N("\\"),or=N("u"),sr=N("x"),Ht=Qe(`[]{},"':
`),ir=Qe("+-0123456789."),lr=Qe(`"'`),cr=new Map([[N("b"),"\b"],[N("f"),"\f"],[N("n"),`
`],[N("r"),"\r"],[N("t"),"	"]]),ar=/[-+]?((0x[0-9a-fA-F]+)|([0-9]+(\.[0-9]+)?))([eE][-+]?[0-9]+)?/y,dr=/(false|true|null)\b/iy,ur=new Map([["false",!1],["true",!0],["null",null]]),Rt=/\s*/y,De=/[\s,]*/y,fr=/[\s:]*/y,Q=e=>e.s.charCodeAt(e.p);class fe extends Error{s;p;line;column;constructor(t,n){let o=1,r=1;for(let s=0;s<t.p;s++)t.s.charCodeAt(s)===Xn&&(o++,r=0),r++;super(`${o}:${r}: ${n}`),this.name="ParseError",this.s=t.s,this.p=t.p,this.line=o,this.column=r}}const et=(e,t)=>(t.lastIndex=e.p,t.exec(e.s)),te=(e,t)=>{const n=et(e,t);n&&(e.p+=n[0].length)},hr=e=>{e.p++,te(e,De);const t=[];for(;e.p<e.l&&Q(e)!==Jn;)t.push(tt(e)),te(e,De);return e.p++,t},gr=e=>{e.p++,te(e,De);const t={};for(;e.p<e.l&&Q(e)!==er;){let n;if(lr.has(Q(e)))n=zt(e);else{const o=e.p;e.p=e.s.indexOf(":",e.p),e.p===-1&&(e.p=e.l),n=e.s.slice(o,e.p).trim()}te(e,fr),t[n]=tt(e),te(e,De)}return e.p++,t},mt=(e,t)=>{const n=e.s.slice(e.p+1,e.p+t+1),o=parseInt(n,16);if(e.p+=t,isNaN(o))throw new fe(e,`Invalid unicode escape '${n}'`);return String.fromCharCode(o)},zt=e=>{const t=Q(e);e.p++;let n="";for(;e.p<e.l;e.p++){const o=Q(e);if(o===t)return e.p++,n;if(o===rr){e.p++;const r=Q(e);switch(r){case or:n+=mt(e,4);break;case sr:n+=mt(e,2);break;default:n+=cr.get(r)||String.fromCharCode(r)}}else n+=String.fromCharCode(o)}return n},mr=e=>{const t=et(e,ar),n=t?t[0]:"",o=n?Number(n):NaN;if(e.p+=n.length,isNaN(o))throw new fe(e,`Invalid number '${n}'`);return o},wr=(e,t)=>{const n=et(e,dr);if(n!==null)return e.p+=n[0].length,ur.get(n[0].toLowerCase());if(t)throw new fe(e,`Unexpected character '${e.s[e.p]}'`);const o=e.p;for(;e.p<e.l&&!Ht.has(Q(e));)e.p++;return e.s.slice(o,e.p).trim()},tt=(e,t)=>{te(e,Rt);const n=Q(e);switch(n){case tr:case nr:return zt(e);case Zn:return hr(e);case Qn:return gr(e)}if(Ht.has(n))throw new fe(e,`Unexpected character '${e.s[e.p]}' for value`);return ir.has(n)?mr(e):wr(e,t)},jt=e=>{const t={s:e,p:0,l:e.length},n=tt(t,!0);if(te(t,Rt),t.p<t.l)throw new fe(t,`Unexpected character '${t.s[t.p]}', expect EOF`);return n},yr=e=>{switch(e.type){case w.Alpha:return JSON.stringify(e.val,null,2);case w.Beta:return e.args.length<=0?"":`,${e.args.length}`;case w.Delta:return`${e.comment}`;case w.Lambda:return"λ";case w.Nu:{const t=e.name,n=t.module?`@${t.module}`:"",o=e.args.length<=0?"":`,${e.lhs},${Math.max(0,e.args.length-e.lhs)}`;return`${t.name}${n}${o}`}case w.Pi:{const t=e.name,n=t.module?`@${t.module}`:"",o=e.elems<=0?"":`,${e.elems}`;return`λ ${t.name}${n}${o}`}}},vr=e=>{const t=e.trim();try{return{type:w.Alpha,val:jt(t)}}catch{}switch(t[0]){case"λ":case"\\":{const o=t.slice(1).split(","),r=o[0].split("@");if(r[0]){const s=r[0]?r[0].toString().trim():"",l=r[1]?r[1].toString().trim():"";let i=parseInt(o[1]);return isNaN(i)&&(i=0),{type:w.Pi,name:{name:s,module:l},elems:i}}else return{type:w.Lambda}}default:{const o=t.split(","),r=o[0].split("@"),s=r[0]?r[0].toString().trim():"",l=r[1]?r[1].toString().trim():"";let i=parseInt(o[1]),c=parseInt(o[2]);if(s)return isNaN(i)&&(i=0),isNaN(c)&&(c=i,i=0),{type:w.Nu,name:{name:s,module:l},lhs:i,args:new Array(i+c).fill({id:""})};{const d=(isNaN(i)?0:i)+(isNaN(c)?0:c);return{type:w.Beta,args:new Array(d).fill({id:""})}}}}},wt=()=>[void 0],pr=y("<div class=toast-container>"),$r=y("<div>"),br=["✅","⚠️","🚫"],Ut=[Un],xr=(e,t)=>{Ut[0](e,t)},kr=e=>{const t=e.creation??Ut,[n,o]=C({cnt:0,toasts:[]});return t[0]=(r,s)=>{o(l=>{const i=l.toasts,c=l.cnt,d=Math.max(200,s?.ttl??2e3),a=(h,m)=>window.setTimeout(()=>o(v=>({...v,toasts:h(v.toasts)})),m),f=a(h=>h.filter(m=>m.id!==c),d);return a(h=>h.map(m=>m.id===c?{...m,class:"toast-a-out"}:m),d-100),i.push({id:c,type:s?.type,class:"toast-a-in",message:r,timeout:f}),{cnt:l.cnt+1,toasts:i}})},(()=>{const r=pr();return g(r,u(j,{get each(){return n().toasts},children:s=>(()=>{const l=$r();return g(l,()=>s.type?br[s.type]:"",null),g(l,()=>s.message,null),p(()=>B(l,`toast ${s.class}`)),l})()})),r})()};let Fe=0;const Er=()=>{Fe=0},Gt=()=>Fe=(Fe+57.295779513)%360,_r="hrm-c-bd-empty",Cr="⎇",Ve="𝑓",yt="𝑥",He="𝑦",Sr="𝛃",Mr="𝚫",Dr="𝛌",Ir="𝛑";var I=(e=>(e[e.Source=0]="Source",e[e.Sink=1]="Sink",e))(I||{});const Re=e=>C({name:e,data:{type:0,color:Gt()}}),K=(e,t)=>C({name:e,data:{type:1,sourceID:t?.id,sourceHandle:t?.handle}}),Nr=e=>{let t=0,n;switch(e.x.type){case w.Alpha:n=[];break;case w.Beta:t=1,n=[K(Ve,e.x.fn)];for(const o in e.x.args){const r=e.x.args[o];n.push(K(o,r))}break;case w.Delta:n=[K(He,e.x.ret)];break;case w.Lambda:n=[Re(yt),K(He,e.x.ret)];break;case w.Nu:n=e.x.args.map((o,r)=>K(String(r),o)),t=Yn(e.x.lhs,0,e.x.args.length);break;case w.Pi:n=[K(Cr,e.x.fallback),Re(yt)];for(let o=0;o<e.x.elems;o++)n.push(Re(String(o+1)));n.push(K(He,e.x.ret)),t=1;break}return n.lhs=t,n},Xe=e=>C({color:Gt(),angular:e.x.type===w.Alpha,data:e.x,handles:Nr(e),position:e.pos,size:{w:0,h:0},selected:!1}),me=e=>{Er();const t=new Map;for(const n of e)t.set(n.id,Xe(n));return t},vt=e=>{if(e.type===1&&e.sourceID)return{id:e.sourceID,handle:e.sourceHandle}},Ar=e=>{const t=n=>vt(e.handles[n][0]().data);switch(e.data.type){case w.Alpha:return e.data;case w.Beta:{const n=[];for(let o=1;o<e.handles.length;o++){const r=t(o);r&&n.push(r)}return{type:w.Beta,fn:t(0),args:n}}case w.Delta:return{type:w.Delta,comment:e.data.comment,ret:t(0)};case w.Lambda:return{type:w.Lambda,ret:t(1)};case w.Nu:return{type:w.Nu,name:e.data.name,lhs:e.handles.lhs,args:e.handles.reduce((n,o)=>{const r=vt(o[0]().data);return r&&n.push(r),n},[])};case w.Pi:return{type:w.Pi,name:e.data.name,elems:e.data.elems,fallback:t(0),ret:t(e.handles.length-1)}}},Kt=(e,t)=>({id:e,pos:t.position,x:Ar(t)}),Pr=e=>{const t=[];for(const[n,o]of e.entries())t.push(Kt(n,o[0]()));return t},pt=e=>{switch(e.data.type){case w.Beta:e.handles[0][1](t=>({...t,name:Ve})),e.handles[0][0]().name=Ve;for(let t=1;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t-1)}));break;case w.Nu:for(let t=0;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t)}));break;default:throw"Unimplemented"}},Tr=y('<svg stroke-width="0"></svg>',2),Lr=y("<title></title>",2);function _(e,t){const n=st(e.a,t),[o,r]=At(n,["src"]);return(()=>{const s=Tr.cloneNode(!0);return Lt(s,st({get stroke(){return e.a.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},r,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},get innerHTML(){return e.c},xmlns:"http://www.w3.org/2000/svg"}),!0,!0),g(s,()=>_n,null),g(s,(()=>{const l=E(()=>!!t.title);return()=>l()&&(()=>{const i=Lr.cloneNode(!0);return g(i,()=>t.title),i})()})(),null),s})()}function Or(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-back-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 14l-4 -4l4 -4"/><path d="M5 10h11a4 4 0 1 1 0 8h-1"/>'},e)}function Br(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-forward-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 14l4 -4l-4 -4"/><path d="M19 10h-11a4 4 0 1 0 0 8h1"/>'},e)}function Ze(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-backspace",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 6a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-11l-5 -5a1.5 1.5 0 0 1 0 -2l5 -5z"/><path d="M12 10l4 4m0 -4l-4 4"/>'},e)}function Wt(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-binary-tree",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 4a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M11 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M21 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M5.058 18.306l2.88 -4.606"/><path d="M10.061 10.303l2.877 -4.604"/><path d="M10.065 13.705l2.876 4.6"/><path d="M15.063 5.7l2.881 4.61"/>'},e)}function Hr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-clipboard",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"/><path d="M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"/>'},e)}function Rr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-copy",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"/><path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"/>'},e)}function zr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-deselect",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 8h3a1 1 0 0 1 1 1v3"/><path d="M16 16h-7a1 1 0 0 1 -1 -1v-7"/><path d="M12 20v.01"/><path d="M16 20v.01"/><path d="M8 20v.01"/><path d="M4 20v.01"/><path d="M4 16v.01"/><path d="M4 12v.01"/><path d="M4 8v.01"/><path d="M8 4v.01"/><path d="M12 4v.01"/><path d="M16 4v.01"/><path d="M20 4v.01"/><path d="M20 8v.01"/><path d="M20 12v.01"/><path d="M20 16v.01"/><path d="M3 3l18 18"/>'},e)}function jr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-edit",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"/><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"/><path d="M16 5l3 3"/>'},e)}function Ur(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-folder-search",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 19h-6a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2.5"/><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M20.2 20.2l1.8 1.8"/>'},e)}function Gr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-rocket",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"/><path d="M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"/><path d="M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/>'},e)}function Kr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-scissors",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M6 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M8.6 8.6l10.4 10.4"/><path d="M8.6 15.4l10.4 -10.4"/>'},e)}function Wr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-check",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l2 2l4 -4"/>'},e)}function Yt(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-plus",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l6 0"/><path d="M12 9l0 6"/>'},e)}function Yr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M10 10l4 4m0 -4l-4 4"/>'},e)}function qr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12"/><path d="M6 6l12 12"/>'},e)}function Fr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in-area",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 13v4"/><path d="M13 15h4"/><path d="M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"/><path d="M22 22l-3 -3"/><path d="M6 18h-1a2 2 0 0 1 -2 -2v-1"/><path d="M3 11v-1"/><path d="M3 6v-1a2 2 0 0 1 2 -2h1"/><path d="M10 3h1"/><path d="M15 3h1a2 2 0 0 1 2 2v1"/>'},e)}function Vr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M10 7l0 6"/><path d="M21 21l-6 -6"/>'},e)}function Xr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-out",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M21 21l-6 -6"/>'},e)}function Zr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-reset",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 21l-6 -6"/><path d="M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"/><path d="M3 4v4h4"/>'},e)}const Jr=4,Qr=300,eo=750,to=window.setTimeout,we=window.clearTimeout,$t=e=>({shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey}),ne=(e,t)=>{const n={pointers:new Map,maxPointers:0,lastClicked:0},o={pointerenter:r=>{e.onEnter?.(r.pointerId)},pointercancel:r=>{n.longPress&&n.longPress.id===r.pointerId&&(we(n.longPress.u),n.longPress=void 0),n.pointers.delete(r.pointerId),e.onCancel?.(r.pointerId)},pointerleave:r=>{n.longPress&&n.longPress.id===r.pointerId&&(we(n.longPress.u),n.longPress=void 0),e.onLeave?.(r.pointerId)},pointerdown:r=>{r.preventDefault(),r.stopPropagation();const s=r.pointerId;e.onDown?.({id:s,x:r.clientX,y:r.clientY,pointers:n.pointers.size,modifiers:$t(r)}),r.target.releasePointerCapture(s),e.capture?(console.log("CAPTURE"),r.currentTarget.setPointerCapture(s)):(console.log("RELEASE"),r.currentTarget.releasePointerCapture(s));const l={id:s,x:r.clientX,y:r.clientY,moved:!1,timestamp:Date.now()};n.pointers.set(s,l),n.longPress&&(we(n.longPress.u),n.longPress=void 0),n.maxPointers=Math.max(n.maxPointers,n.pointers.size),n.pointers.size===1&&(n.longPress={id:s,x:r.clientX,y:r.clientY,u:to(()=>{n.longPress&&n.pointers.size===1&&n.pointers.has(s)&&!n.pointers.get(s).moved&&(n.longPress=void 0,e.onLongPress?.({id:s,x:r.clientX,y:r.clientY}),n.pointers.delete(s))},eo)})},pointermove:r=>{r.preventDefault(),r.stopPropagation();const s=r.pointerId;e.onMove?.({id:s,x:r.clientX,y:r.clientY});const l=n.pointers.get(s);if(!l)return;const i=r.clientX-l.x,c=r.clientY-l.y;if(!l.moved&&Me(i,c)<Jr)return;const d={id:s,x:r.clientX,y:r.clientY,ox:l.x,oy:l.y,dx:i,dy:c},[a,f]=n.pointers.keys();f&&(d.pivot=n.pointers.get(a===s?f:a)),l.moved=!0,l.x=r.clientX,l.y=r.clientY,e.onDrag?.(d)},pointerup:r=>{r.preventDefault(),r.stopPropagation();const s=r.pointerId,l={id:s,x:r.clientX,y:r.clientY,pointers:n.maxPointers,modifiers:$t(r)};e.onUp?.(l);const i=n.pointers.get(s);if(!i)return;n.pointers.delete(s),n.longPress&&n.longPress.id===s&&(we(n.longPress.u),n.longPress=void 0);const c=Date.now();!i.moved&&n.pointers.size===0&&(e.onClick?.(l),c-n.lastClicked<Qr&&e.onDoubleClick?.(l),n.lastClicked=c,n.maxPointers=0)}};for(const[r,s]of Object.entries(o))t.addEventListener(r,s,{passive:!1})},no=y('<div class="hrm-pane w-100 h-100"><div class=hrm-view></div><div class=hrm-pane-controls>'),ro=y("<button>"),bt=e=>`translate(${e.x}px, ${e.y}px) scale(${e.z})`,oo=e=>{let t;const[n,o]=C({x:0,y:0,z:1}),r=(i,c,d)=>o(a=>({x:a.x*d+i,y:a.y*d+c,z:a.z*d}));e.g.transform[0]=n,e.g.transform[1]=o,q(()=>{t&&ne({capture:!0,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onLongPress:e.onLongPress,onDrag:i=>{const c=i.pivot;if(c){const d=Math.sqrt(Me(c.x-i.x,c.y-i.y)/Me(c.x-i.ox,c.y-i.oy)),a=d-1;r((i.dx-(c.x+i.ox)*a)/2,(i.dy-(c.y+i.oy)*a)/2,d)}else r(i.dx,i.dy,1)}},t)});const s=1.1,l=[[u(Vr,{}),()=>r((t?.offsetWidth??0)*(1-s)/2,(t?.offsetHeight??0)*(1-s)/2,s)],[u(Xr,{}),()=>r((t?.offsetWidth??0)*(1-1/s)/2,(t?.offsetHeight??0)*(1-1/s)/2,1/s)],[u(Zr,{}),()=>o(()=>({x:0,y:0,z:1}))],[u(Fr,{}),()=>{const i=e.g.usedRect(),c=e.g.size();if(!i||!c)return;i.w=Math.max(i.w,1),i.h=Math.max(i.h,1);const d=c.w/i.w,a=c.h/i.h,f=Math.min(d,a),h=-i.x*f+(c.w-i.w*f)/2,m=-i.y*f+(c.h-i.h*f)/2;o({x:h,y:m,z:f})}]];return q(()=>{if(t){t.addEventListener("wheel",i=>{if(t)if(i.preventDefault(),i.ctrlKey||i.metaKey){const c=Math.pow(2,i.deltaY/-100),d=t.getBoundingClientRect();r((i.clientX-d.left)*(1-c),(i.clientY-d.top)*(1-c),c)}else r(-i.deltaX,-i.deltaY,1)},{passive:!1});for(const[,i,c]of l)c&&ne({capture:!0,onClick:i},c)}}),(()=>{const i=no(),c=i.firstChild,d=c.nextSibling,a=t;typeof a=="function"?R(a,i):t=i;const f=e.g.viewRef;return typeof f=="function"?R(f,c):e.g.viewRef=c,g(c,()=>e.children),g(d,u(j,{each:l,children:h=>(()=>{const m=ro(),v=h[2];return typeof v=="function"?R(v,m):h[2]=m,g(m,()=>h[0]),m})()})),p(()=>bt(n())!=null?c.style.setProperty("transform",bt(n())):c.style.removeProperty("transform")),i})()},so=y("<div>"),io=e=>{const[t,n]=e.handleW;let o;return q(()=>{o&&(t(),n(r=>{let s,l;if(r.data.type===I.Source)s=r.data.color,l=e.g.nodeColorBd(s);else if(r.data.sourceID){const i=e.g.nodes().get(r.data.sourceID);if(i){const c=i[0]();s=c.color,r.data.sourceHandle!==void 0&&(s=c.handles[r.data.sourceHandle][0]().color??s),l=e.g.nodeColorBg(s)}}return s===r.color&&r.ref===o?r:{...r,ref:o,color:s,style:l}}))}),q(()=>{o&&ne({capture:!1,onEnter:r=>{const s=e.g.connectingEdge[0]();s&&s.pointerID===r&&e.g.setTempConnectingEnd(e.nodeID,o,e.handleID)},onLeave:()=>{e.g.connectingEnd[0]().ref===o&&e.g.unsetTempConnectingEnd(o)},onDown:r=>{e.g.addConnectingEnd(r.id,e.nodeID,e.handleID,e.g.viewPos(r.x,r.y))},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)},onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},o)}),(()=>{const r=so(),s=o;return typeof s=="function"?R(s,r):o=r,g(r,()=>t().name),p(l=>{const i=`hrm-node-item hrm-handle ${t().style?"":_r}`,c=t().style;return i!==l._v$&&B(r,l._v$=i),l._v$2=ce(r,c,l._v$2),l},{_v$:void 0,_v$2:void 0}),r})()},lo=y("<div class=hrm-node-name-module>"),co=y("<div class=hrm-node-name><div class=hrm-node-name-name>"),ao=y("<div class=hrm-node-mark>"),uo=y("<div class=hrm-node-json>"),fo=y('<pre class="hrm-node-comment no-user-select no-pointer-events">'),ho=y('<div class="hrm-node-item hrm-node-body">'),xt=e=>(()=>{const t=co(),n=t.firstChild;return g(n,()=>e.name.name),g(t,u(J,{get when(){return e.name.module},get children(){const o=lo();return g(o,()=>"@"+e.name.module),o}}),null),t})(),ye=e=>(()=>{const t=ao();return g(t,()=>e.mark),t})(),go=e=>{const t={[w.Alpha]:()=>(()=>{const n=uo();return g(n,()=>Z(e.data.val)),n})(),[w.Beta]:()=>u(ye,{mark:Sr}),[w.Delta]:()=>[u(ye,{mark:Mr}),u(J,{get when(){return e.data.comment},get children(){const n=fo();return g(n,()=>e.data.comment),n}})],[w.Lambda]:()=>u(ye,{mark:Dr}),[w.Nu]:()=>u(xt,{get name(){return e.data.name}}),[w.Pi]:()=>[u(ye,{mark:Ir}),u(xt,{get name(){return e.data.name}})]};return(()=>{const n=ho();return g(n,u(Mn,{get component(){return t[e.data.type]}})),n})()},mo=y("<div>"),kt=e=>{let t;return q(()=>{t&&ne({onEnter:n=>{const o=e.g.connectingEdge[0]();o&&o.pointerID===n&&e.g.setTempConnectingEnd(e.nodeID,t,e.handleID)},onLeave:()=>{e.g.connectingEnd[0]().ref===t&&e.g.unsetTempConnectingEnd(t)},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)}},t)}),(()=>{const n=mo(),o=t;return typeof o=="function"?R(o,n):t=n,p(()=>B(n,`hrm-node-item hrm-handle-new ${e.handleID<0?"lhs":"rhs"}`)),n})()},wo=y("<div class=hrm-node-handle>"),yo=y('<div class="hrm-node abs-lt"><div class="hrm-node-row no-user-select">'),vo=e=>{const[t,n]=e.nodeW;console.log("[HrmNode] render");let o,r;q(()=>{if(!o)return;const i=o;n(c=>({...c,ref:i,size:{w:i.offsetWidth,h:i.offsetHeight},selected:!1})),ne({capture:!0,onEnter:c=>{const d=e.g.connectingEdge[0]();d&&d.pointerID===c&&!d.isSource&&e.g.setTempConnectingEnd(e.id,o,void 0)},onLeave:()=>{e.g.connectingEnd[0]().ref===r&&e.g.unsetTempConnectingEnd(r)},onUp:c=>{e.g.connectingEdge[0]()&&e.g.addConnectingEnd(c.id,e.id,void 0,e.g.viewPos(c.x,c.y))},onClick:()=>{e.g.selectOneNode(e.id)},onDrag:c=>{e.g.translateSelectedNodes(e.id,c.dx,c.dy,e.g.transform[0]().z)},onDoubleClick:()=>{setTimeout(()=>{e.g.editNode(e.id)},100)}},o)}),q(()=>{r&&ne({onDown:i=>{e.g.addConnectingEnd(i.id,e.id,void 0,e.g.viewPos(i.x,i.y))}},r)});const s=(i,c)=>u(io,{get g(){return e.g},get nodeID(){return e.id},get node(){return t()},get handleID(){return c()},handleW:i}),l=(i,c)=>s(i,()=>c()+t().handles.lhs);return(()=>{const i=yo(),c=i.firstChild,d=o;return typeof d=="function"?R(d,i):o=i,g(i,u(J,{get when(){return qn.has(t().data.type)},get children(){return u(kt,{get g(){return e.g},get nodeID(){return e.id},handleID:-1/0,get node(){return t()}})}}),c),g(c,u(j,{get each(){return t().handles.slice(0,t().handles.lhs)},children:s}),null),g(c,u(go,{get data(){return t().data}}),null),g(c,u(j,{get each(){return t().handles.slice(t().handles.lhs)},children:l}),null),g(i,u(J,{get when(){return Fn.has(t().data.type)},get children(){return u(kt,{get g(){return e.g},get nodeID(){return e.id},handleID:1/0,get node(){return t()}})}}),null),g(i,u(J,{get when(){return!be.has(t().data.type)},get children(){const a=wo(),f=r;return typeof f=="function"?R(f,a):r=a,a}}),null),p(a=>{const f=!!t().selected,h=!!t().angular,m=!t().angular,v={left:`${t().position.x}px`,top:`${t().position.y}px`,...e.g.nodeColorBd(t().color)};return f!==a._v$&&i.classList.toggle("selected",a._v$=f),h!==a._v$2&&i.classList.toggle("hrm-rect",a._v$2=h),m!==a._v$3&&i.classList.toggle("hrm-pill",a._v$3=m),a._v$4=ce(i,v,a._v$4),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),i})()},po=y('<svg><path class="hrm-edge-path hrm-edge-path-bd"stroke-width=6px fill=transparent></svg>',!1,!0),$o=y("<svg><path class=hrm-edge-path stroke-width=3px fill=transparent></svg>",!1,!0),bo=y("<svg><path class=cursor-pointer stroke-width=1rem fill=transparent></svg>",!1,!0),xo=e=>{console.log("[HrmEdge] render");let t;const[n]=e.nodeW,[o]=e.handleW,r=E(()=>{console.log("[HrmEdge] Effect (path)"),n();const l=o();if(l.data.type!==I.Sink)return"";const i=l.data.sourceID,c=l.data.sourceHandle;if(i===void 0)return"";const d=e.g.viewRectOf(i,c),a=e.g.viewRect(l.ref);return!d||!a?"":e.nodeID===i?[gt(d,a),gt(d,a)]:[qe(d,a,.5),qe(d,a,-.5)]});q(()=>{if(t)return ne({onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},t)});const s=()=>{const l=o().color;return l?e.g.nodeColorStroke(l):{}};return[(()=>{const l=po();return p(()=>Y(l,"d",r()[1])),l})(),(()=>{const l=$o();return p(i=>{const c=s(),d=r()[0];return i._v$=ce(l,c,i._v$),d!==i._v$2&&Y(l,"d",i._v$2=d),i},{_v$:void 0,_v$2:void 0}),l})(),(()=>{const l=bo(),i=t;return typeof i=="function"?R(i,l):t=l,p(()=>Y(l,"d",r()[0])),l})()]},ko=e=>{const[t]=e.handleW;return u(J,{get when(){return E(()=>t().data.type===I.Sink)()&&t().data.sourceID},get children(){return u(xo,e)}})},Eo=e=>{const[t]=e.nodeW;return u(j,{get each(){return t().handles},children:(n,o)=>u(ko,{get g(){return e.g},get nodeW(){return e.nodeW},handleW:n,get nodeID(){return e.id},get handleID(){return o()}})})},_o=y('<svg class="hrm-edges no-user-select no-pointer-events">'),Co=e=>[u(j,{get each(){return[...e.g.nodes()]},children:([t,n])=>u(vo,{get g(){return e.g},id:t,nodeW:n})}),(()=>{const t=_o();return g(t,u(j,{get each(){return[...e.g.nodes()]},children:([n,o])=>u(Eo,{get g(){return e.g},id:n,nodeW:o})})),t})()],So=(e,t,n)=>.299*e+.587*t+.114*n,ze=(e,t,n)=>{n<0&&(n+=1),n>1&&(n-=1);let o;return n<1/2?(o=t,n<1/6&&(o=e+(t-e)*6*n)):(o=e,n<2/3&&(o=e+(t-e)*(2/3-n)*6)),Math.round(o*255)},Mo=(e,t,n)=>{if(t===0)return[n,n,n];const o=n<.5?n*(1+t):n+t-n*t,r=2*n-o;return[ze(r,o,e+1/3),ze(r,o,e),ze(r,o,e-1/3)]},je=(e,t,n)=>`hsl(${e}, ${t*100}%, ${n*100}%)`;class Do{nodes;setNodes;transform;rootRef;viewRef;editingNode;connectingEdge;connectingEnd;history;historyIndex;selectMode=!1;constructor(t){t||(t=[]);const[n,o]=C(me(t),{equals:!1});this.nodes=n,this.setNodes=o,this.editingNode=C(),this.connectingEdge=C(),this.connectingEnd=C({pos:ft}),this.transform=[()=>({x:0,y:0,z:1}),()=>{}],this.history=[t],this.historyIndex=0}thaw(t){this.setNodes(me(t)),this.history=[t],this.historyIndex=0}freeze(){return Pr(this.nodes())}getSL(){const t=getComputedStyle(document.documentElement),n=Number(t.getPropertyValue("--hrm-node-saturate")),o=Number(t.getPropertyValue("--hrm-node-lightness"));return[n,o]}nodeColorBg(t){const[n,o]=this.getSL(),r=So(...Mo(t,n,o))>192?"#000":"#fff",s=je(t,n,o);return{color:r,"background-color":s,"border-color":s}}nodeColorBd(t){const[n,o]=this.getSL();return{"border-color":je(t,n,o)}}nodeColorStroke(t){const[n,o]=this.getSL();return{stroke:je(t,n,o)}}saveHistory(){this.historyIndex++,this.history.length>this.historyIndex&&(this.history=this.history.slice(0,this.historyIndex)),this.history.push(this.freeze())}undo(){this.historyIndex>0&&this.setNodes(me(this.history[--this.historyIndex]))}redo(){this.historyIndex<this.history.length-1&&this.setNodes(me(this.history[++this.historyIndex]))}size(){if(!this.rootRef)return;const t=this.rootRef.getBoundingClientRect();return{w:t.width,h:t.height}}viewPos(t,n){if(!this.viewRef)return;const o=this.viewRef.getBoundingClientRect(),r=A(this.transform[0]);return{x:(t-o.left)/r.z,y:(n-o.top)/r.z}}viewRect(t){if(!t||!this.viewRef)return;const n=this.viewRef.getBoundingClientRect(),o=t.getBoundingClientRect(),r=A(this.transform[0]);return{x:(o.left-n.left)/r.z,y:(o.top-n.top)/r.z,w:o.width/r.z,h:o.height/r.z}}usedRect(){const t={x:0,y:0,w:0,h:0};for(const[,n]of this.nodes()){const o=n[0](),r=o.position,s=o.size;t.x>r.x&&(t.w+=t.x-r.x,t.x=r.x),t.y>r.y&&(t.h+=t.y-r.y,t.y=r.y),t.w=Math.max(t.w,r.x+s.w-t.x),t.h=Math.max(t.h,r.y+s.h-t.y)}return t}viewRectOf(t,n){const o=this.nodes().get(t);if(!o)return;const r=o[0]();if(n===void 0){const l=this.viewRect(r.ref);return l?{...l,angular:r.angular}:void 0}const s=r.handles[n][0]().ref;if(s)return this.viewRect(s)}addEmptyNode(t){if(!t){const r=this.transform[0](),s=this.rootRef;if(!s)t={x:0,y:0};else{const l=s.getBoundingClientRect();t={x:(l.width/2-r.x)/r.z,y:(l.height/2-r.y)/r.z}}}const n={type:w.Beta,args:[]},o={id:Wn(),pos:t,x:n};return this.setNodes(r=>(r.set(o.id,Xe(o)),r)),this.saveHistory(),o.id}translateSelectedNodes(t,n,o,r){for(const[s,l]of this.nodes())l[1](i=>s!==t&&!i.selected?i:{...i,position:{x:i.position.x+n/r,y:i.position.y+o/r}})}selectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?n:{...n,selected:!0})}deselectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?{...n,selected:!1}:n)}selectOneNode(t){for(const[n,o]of this.nodes())n===t?o[1](r=>({...r,selected:!r.selected})):this.selectMode||o[1](r=>r.selected?{...r,selected:!1}:r)}deleteSelectedNodes(){this.setNodes(t=>{const n=new Set;for(const[o,r]of t){const s=r[0]();s.selected&&!be.has(s.data.type)&&n.add(o)}for(const[o,r]of t)if(n.has(o))t.delete(o);else{const l=r[0]().handles;for(const[,i]of l)i(c=>{if(c.data.type===I.Sink){const d=c.data.sourceID;if(d&&n.has(d))return{...c,data:{type:I.Sink}}}return c})}return t}),this.saveHistory()}deleteEdge(t,n){const o=this.nodes().get(t);o&&o[0]().handles[n][1](r=>r.data.type!==I.Sink?r:{...r,data:{type:I.Sink}})}resetConnectingState(){oe(()=>{this.connectingEdge[1](void 0),this.connectingEnd[1]({pos:ft})})}setTempConnectingEnd(t,n,o){oe(()=>{const r=this.connectingEdge[0]();r&&(r.nodeID!==t||r.handleID!==o)&&this.connectingEnd[1](s=>({...s,ref:n}))})}unsetTempConnectingEnd(t){oe(()=>{this.connectingEdge[0]()&&this.connectingEnd[1](o=>o.ref===t?{...o,ref:void 0}:o)})}finConnecting(t,n){const o=this.connectingEdge[0]();o&&(o.nodeID!==t||o.handleID!==n)&&(o.isSource&&n!==void 0?this.connectEdge(t,n,o.nodeID,o.handleID):!o.isSource&&o.handleID!==void 0&&this.connectEdge(o.nodeID,o.handleID,t,n))}makeLeftHandle(t){const n=this.nodes().get(t);return n&&(n[1](o=>(o.handles.unshift(K("")),o.handles.lhs++,{...o})),pt(n[0]())),0}makeRightHandle(t){const n=this.nodes().get(t);if(!n)return 0;const o=n[0](),r=o.handles.length;return n[1](s=>(s.handles.push(K("")),{...s})),pt(o),r}connectEdge(t,n,o,r){oe(()=>{n===-1/0&&(n=this.makeLeftHandle(t)),n===1/0&&(n=this.makeRightHandle(t));const s=this.nodes(),l=s.get(t),i=s.get(o);if(!l||!i)return;if(r===void 0){if(be.has(i[0]().data.type))return}else{const d=i[0]().handles[r];if(!d||d[0]().data.type!==I.Source)return}l[0]().handles[n][1](d=>d.data.type!==I.Sink?d:{...d,data:{type:I.Sink,sourceID:o,sourceHandle:r}}),this.resetConnectingState(),this.saveHistory()})}updateConnectingEnd(t){this.connectingEnd[1](n=>({...n,pos:t}))}addConnectingEnd(t,n,o,r){const s=this.nodes().get(n);if(!s)return;const[l]=s;let i=!0;if(o!==void 0){const d=l().handles[o];if(!d)return;i=d[0]().data.type===I.Source}const c=this.connectingEdge[0]();if(c&&c.nodeID===n&&c.handleID===o){this.resetConnectingState();return}if(c&&!i===c.isSource)return i?this.connectEdge(c.nodeID,c.handleID,n,o):this.connectEdge(n,o,c.nodeID,c.handleID);oe(()=>{this.connectingEdge[1]({pointerID:t,isSource:i,nodeID:n,handleID:o}),r&&this.connectingEnd[1](d=>({...d,pos:r}))})}editNode(t){const n=this.nodes().get(t);n&&!be.has(n[0]().data.type)&&this.editingNode[1]({node:Kt(t,n[0]()),color:n[0]().color})}applyEditNode(t){oe(()=>{const n=this.editingNode[0]();if(!n)return;const o=n.node.id,r=vr(t),s={...n.node,x:r},l=Xe(s),i=this.nodes().get(o);if(!i)return;l[1](a=>({...a,color:i[0]().color}));const c=i?i[0]().handles:[],d=l[0]().handles;for(let a=0;a<d.length;a++){const f=c[a];d[a][1](h=>{if(h.data.type!==I.Sink)return h;const m={type:I.Sink};if(f){const v=f[0]().data;v.type===I.Sink&&(m.sourceID=v.sourceID,m.sourceHandle=v.sourceHandle)}return{...h,data:m}})}this.setNodes(a=>(a.set(o,l),a)),this.editingNode[1](void 0)})}cancelEditNode(){this.editingNode[1](void 0)}}const Io=y('<svg class="hrm-edges no-user-select no-pointer-events"><path class="hrm-edge-path hrm-c-stroke-empty"stroke-width=2px fill=transparent>'),No=y("<div>"),Ao=e=>{const t=()=>{const s=e.g.connectingEdge[0]();return s?e.g.viewRectOf(s.nodeID,s.handleID):void 0},n=()=>{const s=e.g.connectingEdge[0]();if(!s)return;const l=e.g.connectingEnd[0](),i=e.g.nodes().get(s.nodeID),c=e.g.viewRectOf(s.nodeID,s.handleID);if(!i||!c)return;const d=e.g.viewRect(l.ref);if(d)return qe(c,d,0)},o=()=>t()?.angular?"hrm-rect":"hrm-pill",r=()=>{const s=t();if(s)return{visibility:"visible",left:`${s.x}px`,top:`${s.y}px`,width:`${s.w}px`,height:`${s.h}px`}};return[(()=>{const s=Io(),l=s.firstChild;return p(()=>Y(l,"d",n())),s})(),(()=>{const s=No();return p(l=>{const i=`hrm-editing-edge-handle no-pointer-events ${o()}`,c=r();return i!==l._v$&&B(s,l._v$=i),l._v$2=ce(s,c,l._v$2),l},{_v$:void 0,_v$2:void 0}),s})()]},Po=y("<div class=code-area><textarea></textarea><textarea>"),To=10,nt=(e,t)=>{for(;t>0&&e.charCodeAt(t-1)!==To;t--);return t},Lo=(e,t,n)=>{const o=nt(e,t),r=e.substring(o,n).split(`
`);return{value:e.substring(0,o)+"  "+r.join(`
  `)+e.substring(n),start:t+2,end:n+2*r.length}},Oo=(e,t,n)=>{const o=nt(e,t),r=e.substring(o,n).split(`
`);let s=t,l=n;for(let i=0;i<r.length;i++)r[i].startsWith("  ")?(i===0&&(s-=2),l-=2,r[i]=r[i].substring(2)):r[i].startsWith("	")&&(i===0&&(s-=1),l-=1,r[i]=r[i].substring(1));return{value:e.substring(0,o)+r.join(`
`)+e.substring(n),start:s,end:l}},Bo=e=>{let t;const n=i=>{e.autoresize&&t&&(t.value=i.value,t.style.width=i.style.width,i.style.height=t.scrollHeight+"px")},o=i=>{switch(e.onKeyDown&&e.onKeyDown(i),i.key){case"Tab":{i.preventDefault();const c=i.currentTarget,d=(i.shiftKey?Oo:Lo)(c.value,c.selectionStart,c.selectionEnd);c.value=d.value,c.selectionStart=d.start,c.selectionEnd=d.end}break;case"Enter":{i.preventDefault();const c=i.currentTarget,d=c.selectionStart,a=c.value,f=/[ \t]*/y;f.lastIndex=nt(a,d-1);const h=f.exec(a)?.[0]??"";c.value=a.substring(0,d)+`
`+h+a.substring(c.selectionEnd),c.selectionStart=d+1+h.length,c.selectionEnd=d+1+h.length}break}n(i.target)},r=i=>{e.onInput&&e.onInput(i)},s=i=>{e.onChange&&e.onChange(i)},l=i=>{n(i.currentTarget)};return(()=>{const i=Po(),c=i.firstChild,d=c.nextSibling;c.$$keydown=o,c.$$input=r,c.addEventListener("change",s),c.addEventListener("focus",l);const a=e.ref;typeof a=="function"?R(a,c):e.ref=c;const f=t;return typeof f=="function"?R(f,d):t=d,d.disabled=!0,p(h=>{const m=e.autofocus,v=e.disabled,z=`form-control ${e.class??""}`,U=e.placeholder,G=`form-control abs-lt ${e.class??""} code-area-hidden no-pointer-events no-user-select`;return m!==h._v$&&(c.autofocus=h._v$=m),v!==h._v$2&&(c.disabled=h._v$2=v),z!==h._v$3&&B(c,h._v$3=z),U!==h._v$4&&Y(c,"placeholder",h._v$4=U),G!==h._v$5&&B(d,h._v$5=G),h},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),p(()=>c.value=e.value),i})()};V(["input","keydown"]);const Ho=y("<button class=suggest>"),Ro=y("<div class=suggests>"),zo=y("<div class=hrm-edit-overlay>"),jo=e=>(()=>{const t=Ho();return t.$$click=()=>alert(e.label),g(t,()=>e.label),t})(),Uo=e=>(()=>{const t=Ro();return g(t,u(j,{get each(){return e.items},children:n=>u(jo,n)})),t})(),Go=e=>{let t,n;return q(()=>{if(t){const o=["mousedown","touchstart","pointerdown","wheel"],r=s=>s.stopPropagation();for(const s of o)t.addEventListener(s,r)}}),(()=>{const o=zo(),r=t;return typeof r=="function"?R(r,o):t=o,g(o,u(Je,{class:"shadow-1 w-fit mb-1",get children(){return[u(M,{get color(){return b.success},onClick:()=>e.g.applyEditNode(n?n.value:""),get children(){return u(Wr,{})}}),u(M,{get color(){return b.warning},onClick:()=>{n.value="",n.focus()},get children(){return u(Ze,{})}}),u(M,{get color(){return b.danger},onClick:()=>e.g.cancelEditNode(),get children(){return u(Yr,{})}})]}}),null),g(o,u(Bo,{ref(s){const l=n;typeof l=="function"?l(s):n=s},autofocus:!0,autoresize:!0,class:"shadow-1",placeholder:"[NODE DATA]",get value(){return yr(e.node.x)},onInput:s=>{console.log(jt(s.currentTarget.value))}}),null),g(o,u(Uo,{items:[{label:"beta",text:"beta"},{label:"gamma",text:"gamma"},{label:"delta",text:"delta"},{label:"epsilon",text:"epsilon"},{label:"omega",text:"omega"},{label:"alpha",text:"alpha"},{label:"{",text:"{"},{label:"beta",text:"beta"},{label:"gamma",text:"gamma"},{label:"delta",text:"delta"},{label:"epsilon",text:"epsilon"},{label:"omega",text:"omega"},{label:"alpha",text:"alpha"},{label:"{",text:"{"}]}),null),p(s=>ce(o,{...e.g.nodeColorBd(e.color),transform:`translate(${e.node.pos.x-16}px, ${e.node.pos.y-16}px)`},s)),o})()},Ko=e=>u(J,{get when(){return e.g.editingNode[0]()},get children(){return u(Go,{get g(){return e.g},get color(){return e.g.editingNode[0]().color},get node(){return e.g.editingNode[0]().node}})}});V(["click"]);const Wo=y('<div class="hrm-container w-100 h-100">'),Yo=e=>{const t=new Do(e.initialNodes);return e.stateBox&&(e.stateBox[0]=t),(()=>{const n=Wo(),o=t.rootRef;return typeof o=="function"?R(o,n):t.rootRef=n,g(n,u(oo,{g:t,onClick:()=>t.deselectAll(),onDoubleClick:r=>{const s=t.viewPos(r.x,r.y),l=t.addEmptyNode(s);setTimeout(()=>{t.editNode(l)},30)},onLongPress:()=>{xr("[Hrm] Long press")},get children(){return[u(Co,{g:t}),u(Ao,{g:t}),u(Ko,{g:t})]}})),n})()},qo=y("<div class=editor-root-hrm>"),Fo=e=>(()=>{const t=qo();return g(t,u(Yo,{get initialNodes(){return Vn()},get stateBox(){return e.stateBox}})),t})(),Vo=y("<div class=dropdown><button></button><div>"),Xo=y("<hr>"),Zo=e=>{const[t,n]=C(!1);return(()=>{const o=Vo(),r=o.firstChild,s=r.nextSibling;return r.$$click=()=>{n(!t())},g(r,()=>e.children),s.$$click=()=>{n(!1)},g(s,u(j,{get each(){return e.list},children:(l,i)=>[u(J,{get when(){return i()>0},get children(){return Xo()}}),u(j,{each:l,children:c=>c})]})),p(l=>{const i=`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`,c=`dropdown-menu ${t()?"visible":"hidden"}`;return i!==l._v$&&B(r,l._v$=i),c!==l._v$2&&B(s,l._v$2=c),l},{_v$:void 0,_v$2:void 0}),o})()};V(["click"]);const Jo=y("<a> <!> "),Ue=y("<a> ");var ue=function(e){return e[e.Add=0]="Add",e[e.Edit=1]="Edit",e}(ue||{});const qt=()=>[{name:H("mainEditor.menu.addTools"),icon:u(Yt,{})},{name:H("mainEditor.menu.selectTools"),icon:u(jr,{})}],Qo=e=>qt()[e].icon,es=(e,t)=>{switch(e){case ue.Add:return[u(M,{get color(){return b.warning},onClick:()=>t[0]?.undo(),get children(){return u(Or,{})}}),u(M,{get color(){return b.warning},onClick:()=>t[0]?.redo(),get children(){return u(Br,{})}}),u(M,{get color(){return b.secondary},class:"flex-1",onClick:()=>t[0]?.addEmptyNode(),get children(){return u(Yt,{})}}),u(M,{get color(){return b.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return u(Ze,{})}})];case ue.Edit:return[u(M,{get color(){return b.warning},class:"flex-1",onClick:()=>t[0]?.deselectAll(),get children(){return u(zr,{})}}),u(M,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(Kr,{})}}),u(M,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(Rr,{})}}),u(M,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(Hr,{})}}),u(M,{get color(){return b.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return u(Ze,{})}})]}},ts=(e,t)=>qt().map((n,o)=>(()=>{const r=Jo(),s=r.firstChild,l=s.nextSibling;return l.nextSibling,r.$$click=()=>{t(i=>({...i,toolSet:o})),e[0]&&(e[0].selectMode=o===ue.Edit)},g(r,()=>n.icon,l),g(r,()=>n.name,null),r})()),ns=e=>{const[t,n]=C({toolSet:ue.Add}),o=()=>[ts(e.stateBox,n),[(()=>{const r=Ue(),s=r.firstChild;return g(r,u(Ur,{}),s),g(r,()=>H("mainEditor.menu.browser"),null),r})(),(()=>{const r=Ue(),s=r.firstChild;return g(r,u(Gr,{}),s),g(r,()=>H("mainEditor.menu.launch"),null),r})(),(()=>{const r=Ue(),s=r.firstChild;return r.$$click=()=>e.modalActionsBox?.[0]?.openGraphTools(),g(r,u(Wt,{}),s),g(r,()=>H("mainEditor.menu.graphTools"),null),r})()]];return u(Je,{class:"editor-root-hrm-header shadow-2",get children(){return[u(Zo,{get color(){return b.primary},get list(){return o()},get children(){return Qo(t().toolSet)}}),E(()=>es(t().toolSet,e.stateBox))]}})};V(["click"]);const rs=y("<div>"),os=e=>(()=>{const t=rs();return g(t,()=>e.children),p(()=>B(t,`form-control btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();const ss=y('<div class=m-modal><div class="m-modal-content m-modal-content-stick-to-center">'),is=e=>{const t=n=>{e.onClose&&n.target===n.currentTarget&&e.onClose()};return(()=>{const n=ss(),o=n.firstChild;return n.$$click=t,g(o,()=>e.children),p(()=>o.classList.toggle("h-100",!!e.fullHeight)),n})()};V(["click"]);const Ge=y("<h3> <!> "),ls=e=>u(is,{get onClose(){return e.onClose},get children(){return[u(Je,{get children(){return[u(os,{get color(){return b.primary},get children(){return u(Wt,{})}}),u(jn,{class:"flex-1",disabled:!0,value:"Graph Tools"}),u(M,{get color(){return b.danger},get onClick(){return e.onClose},get children(){return u(qr,{})}})]}}),(()=>{const t=Ge(),n=t.firstChild,o=n.nextSibling;return o.nextSibling,g(t,()=>H("graphTools.layout"),o),t})(),u(M,{get color(){return b.primary},get children(){return[" ",E(()=>H("graphTools.tool.layoutDefault"))," "]}}),u(M,{get color(){return b.secondary},get children(){return[" ",E(()=>H("graphTools.tool.layoutLinear"))," "]}}),(()=>{const t=Ge(),n=t.firstChild,o=n.nextSibling;return o.nextSibling,g(t,()=>H("graphTools.optimization"),o),t})(),u(M,{get color(){return b.warning},get children(){return[" ",E(()=>H("graphTools.tool.selectUnreachables"))," "]}}),(()=>{const t=Ge(),n=t.firstChild,o=n.nextSibling;return o.nextSibling,g(t,()=>H("graphTools.validate"),o),t})(),u(M,{get color(){return b.danger},get children(){return[" ",E(()=>H("graphTools.tool.validateGraph"))," "]}})]}});var de=function(e){return e[e.None=0]="None",e[e.Browser=1]="Browser",e[e.Launch=2]="Launch",e[e.GraphTools=3]="GraphTools",e}(de||{});class cs{constructor(){const[t,n]=C({type:de.None});this.state=t,this.setState=n}close(){this.setState(t=>({...t,type:de.None}))}openGraphTools(){this.setState(t=>({...t,type:de.GraphTools}))}}const as=e=>{const t=new cs;return e.actionsBox&&(e.actionsBox[0]=t),u(Tt,{get children(){return u(pe,{get when(){return t.state().type===de.GraphTools},get children(){return u(ls,{onClose:()=>t.close(),get stateBox(){return e.stateBox}})}})}})},ds=y('<div class=editor-root><div class="w-100 abs-lt">'),us=()=>{const e=wt(),t=wt();return(()=>{const n=ds(),o=n.firstChild;return g(n,u(Fo,{stateBox:e}),o),g(o,u(ns,{stateBox:e,modalActionsBox:t})),g(n,u(as,{actionsBox:t,stateBox:e}),null),n})()},fs=()=>u(Bn,{get children(){return[u(kr,{}),u(us,{})]}}),hs=document.getElementById("root");pn(()=>u(fs,{}),hs);
