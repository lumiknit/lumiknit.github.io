(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const cn=(e,t)=>e===t,_e=Symbol("solid-proxy"),an=Symbol("solid-track"),Se={equals:cn};let Pt=Ht;const X=1,Me=2,Lt={owned:null,cleanups:null,context:null,owner:null},He={};var C=null;let ze=null,$=null,A=null,Y=null,Te=0;function xe(e,t){const n=$,o=C,r=e.length===0,s=t===void 0?o:t,l=r?Lt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},i=r?e:()=>e(()=>T(()=>Le(l)));C=l,$=null;try{return ne(i,!0)}finally{$=n,C=o}}function x(e,t){t=t?Object.assign({},Se,t):Se;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},o=r=>(typeof r=="function"&&(r=r(n.value)),Ot(n,r));return[Bt.bind(n),o]}function ct(e,t,n){const o=Pe(e,t,!0,X);de(o)}function v(e,t,n){const o=Pe(e,t,!1,X);de(o)}function V(e,t,n){Pt=pn;const o=Pe(e,t,!1,X);(!n||!n.render)&&(o.user=!0),Y?Y.push(o):de(o)}function _(e,t,n){n=n?Object.assign({},Se,n):Se;const o=Pe(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=n.equals||void 0,de(o),Bt.bind(o)}function dn(e){return e&&typeof e=="object"&&"then"in e}function un(e,t,n){let o,r,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(o=!0,r=e,s=t||{}):(o=e,r=t,s=n||{});let l=null,i=He,c=!1,a="initialValue"in s,d=typeof o=="function"&&_(o);const h=new Set,[f,m]=(s.storage||x)(s.initialValue),[p,O]=x(void 0),[F,G]=x(void 0,{equals:!1}),[H,z]=x(a?"ready":"unresolved");function I(k,E,M,se){return l===k&&(l=null,se!==void 0&&(a=!0),(k===i||E===i)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(se,{value:E})),i=He,Z(E,M)),E}function Z(k,E){ne(()=>{E===void 0&&m(()=>k),z(E!==void 0?"errored":a?"ready":"unresolved"),O(E);for(const M of h.keys())M.decrement();h.clear()},!1)}function he(){const k=mn,E=f(),M=p();if(M!==void 0&&!l)throw M;return $&&!$.user&&k&&ct(()=>{F(),l&&(k.resolved||h.has(k)||(k.increment(),h.add(k)))}),E}function Oe(k=!0){if(k!==!1&&c)return;c=!1;const E=d?d():o;if(E==null||E===!1){I(l,T(f));return}const M=i!==He?i:T(()=>r(E,{value:f(),refetching:k}));return dn(M)?"value"in M?(M.status==="success"?I(l,M.value,void 0,E):I(l,void 0,void 0,E),M):(l=M,c=!0,queueMicrotask(()=>c=!1),ne(()=>{z(a?"refreshing":"pending"),G()},!1),M.then(se=>I(M,se,void 0,E),se=>I(M,void 0,Rt(se),E))):(I(l,M,void 0,E),M)}return Object.defineProperties(he,{state:{get:()=>H()},error:{get:()=>p()},loading:{get(){const k=H();return k==="pending"||k==="refreshing"}},latest:{get(){if(!a)return he();const k=p();if(k&&!l)throw k;return f()}}}),d?ct(()=>Oe(!1)):Oe(!1),[he,{refetch:Oe,mutate:m}]}function ie(e){return ne(e,!1)}function T(e){if($===null)return e();const t=$;$=null;try{return e()}finally{$=t}}function hn(e){V(()=>T(e))}function fn(e){return C===null||(C.cleanups===null?C.cleanups=[e]:C.cleanups.push(e)),e}function gn(e){const t=_(e),n=_(()=>Ye(t()));return n.toArray=()=>{const o=n();return Array.isArray(o)?o:o!=null?[o]:[]},n}let mn;function Bt(){if(this.sources&&this.state)if(this.state===X)de(this);else{const e=A;A=null,ne(()=>Ne(this),!1),A=e}if($){const e=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(e)):($.sources=[this],$.sourceSlots=[e]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function Ot(e,t,n){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&ne(()=>{for(let r=0;r<e.observers.length;r+=1){const s=e.observers[r],l=ze&&ze.running;l&&ze.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?A.push(s):Y.push(s),s.observers&&zt(s)),l||(s.state=X)}if(A.length>1e6)throw A=[],new Error},!1)),t}function de(e){if(!e.fn)return;Le(e);const t=C,n=$,o=Te;$=C=e,wn(e,e.value,o),$=n,C=t}function wn(e,t,n){let o;try{o=e.fn(t)}catch(r){return e.pure&&(e.state=X,e.owned&&e.owned.forEach(Le),e.owned=null),e.updatedAt=n+1,jt(r)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ot(e,o):e.value=o,e.updatedAt=n)}function Pe(e,t,n,o=X,r){const s={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:C?C.context:null,pure:n};return C===null||C!==Lt&&(C.owned?C.owned.push(s):C.owned=[s]),s}function De(e){if(e.state===0)return;if(e.state===Me)return Ne(e);if(e.suspense&&T(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Te);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===X)de(e);else if(e.state===Me){const o=A;A=null,ne(()=>Ne(e,t[0]),!1),A=o}}function ne(e,t){if(A)return e();let n=!1;t||(A=[]),Y?n=!0:Y=[],Te++;try{const o=e();return yn(n),o}catch(o){n||(Y=null),A=null,jt(o)}}function yn(e){if(A&&(Ht(A),A=null),e)return;const t=Y;Y=null,t.length&&ne(()=>Pt(t),!1)}function Ht(e){for(let t=0;t<e.length;t++)De(e[t])}function pn(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:De(o)}for(t=0;t<n;t++)De(e[t])}function Ne(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const o=e.sources[n];if(o.sources){const r=o.state;r===X?o!==t&&(!o.updatedAt||o.updatedAt<Te)&&De(o):r===Me&&Ne(o,t)}}}function zt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Me,n.pure?A.push(n):Y.push(n),n.observers&&zt(n))}}function Le(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),o=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const s=r.pop(),l=n.observerSlots.pop();o<r.length&&(s.sourceSlots[l]=o,r[o]=s,n.observerSlots[o]=l)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Le(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Rt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function jt(e,t=C){throw Rt(e)}function Ye(e){if(typeof e=="function"&&!e.length)return Ye(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const o=Ye(e[n]);Array.isArray(o)?t.push.apply(t,o):t.push(o)}return t}return e}const vn=Symbol("fallback");function at(e){for(let t=0;t<e.length;t++)e[t]()}function $n(e,t,n={}){let o=[],r=[],s=[],l=0,i=t.length>1?[]:null;return fn(()=>at(s)),()=>{let c=e()||[],a,d;return c[an],T(()=>{let f=c.length,m,p,O,F,G,H,z,I,Z;if(f===0)l!==0&&(at(s),s=[],o=[],r=[],l=0,i&&(i=[])),n.fallback&&(o=[vn],r[0]=xe(he=>(s[0]=he,n.fallback())),l=1);else if(l===0){for(r=new Array(f),d=0;d<f;d++)o[d]=c[d],r[d]=xe(h);l=f}else{for(O=new Array(f),F=new Array(f),i&&(G=new Array(f)),H=0,z=Math.min(l,f);H<z&&o[H]===c[H];H++);for(z=l-1,I=f-1;z>=H&&I>=H&&o[z]===c[I];z--,I--)O[I]=r[z],F[I]=s[z],i&&(G[I]=i[z]);for(m=new Map,p=new Array(I+1),d=I;d>=H;d--)Z=c[d],a=m.get(Z),p[d]=a===void 0?-1:a,m.set(Z,d);for(a=H;a<=z;a++)Z=o[a],d=m.get(Z),d!==void 0&&d!==-1?(O[d]=r[a],F[d]=s[a],i&&(G[d]=i[a]),d=p[d],m.set(Z,d)):s[a]();for(d=H;d<f;d++)d in O?(r[d]=O[d],s[d]=F[d],i&&(i[d]=G[d],i[d](d))):r[d]=xe(h);r=r.slice(0,l=f),o=c.slice(0)}return r});function h(f){if(s[d]=f,i){const[m,p]=x(d);return i[d]=p,t(c[d],m)}return t(c[d])}}}function u(e,t){return T(()=>e(t||{}))}function pe(){return!0}const qe={get(e,t,n){return t===_e?n:e.get(t)},has(e,t){return t===_e?!0:e.has(t)},set:pe,deleteProperty:pe,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:pe,deleteProperty:pe}},ownKeys(e){return e.keys()}};function Re(e){return(e=typeof e=="function"?e():e)?e:{}}function bn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function dt(...e){let t=!1;for(let s=0;s<e.length;s++){const l=e[s];t=t||!!l&&_e in l,e[s]=typeof l=="function"?(t=!0,_(l)):l}if(t)return new Proxy({get(s){for(let l=e.length-1;l>=0;l--){const i=Re(e[l])[s];if(i!==void 0)return i}},has(s){for(let l=e.length-1;l>=0;l--)if(s in Re(e[l]))return!0;return!1},keys(){const s=[];for(let l=0;l<e.length;l++)s.push(...Object.keys(Re(e[l])));return[...new Set(s)]}},qe);const n={},o={},r=new Set;for(let s=e.length-1;s>=0;s--){const l=e[s];if(!l)continue;const i=Object.getOwnPropertyNames(l);for(let c=0,a=i.length;c<a;c++){const d=i[c];if(d==="__proto__"||d==="constructor")continue;const h=Object.getOwnPropertyDescriptor(l,d);if(!r.has(d))h.get?(r.add(d),Object.defineProperty(n,d,{enumerable:!0,configurable:!0,get:bn.bind(o[d]=[h.get.bind(l)])})):(h.value!==void 0&&r.add(d),n[d]=h.value);else{const f=o[d];f?h.get?f.push(h.get.bind(l)):h.value!==void 0&&f.push(()=>h.value):n[d]===void 0&&(n[d]=h.value)}}}return n}function Ft(e,...t){if(_e in e){const r=new Set(t.length>1?t.flat():t[0]),s=t.map(l=>new Proxy({get(i){return l.includes(i)?e[i]:void 0},has(i){return l.includes(i)&&i in e},keys(){return l.filter(i=>i in e)}},qe));return s.push(new Proxy({get(l){return r.has(l)?void 0:e[l]},has(l){return r.has(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!r.has(l))}},qe)),s}const n={},o=t.map(()=>({}));for(const r of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,r),l=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let i=!1,c=0;for(const a of t)a.includes(r)&&(i=!0,l?o[c][r]=s.value:Object.defineProperty(o[c],r,s)),++c;i||(l?n[r]=s.value:Object.defineProperty(n,r,s))}return[...o,n]}const Kt=e=>`Stale read from <${e}>.`;function K(e){const t="fallback"in e&&{fallback:()=>e.fallback};return _($n(()=>e.each,e.children,t||void 0))}function ee(e){const t=e.keyed,n=_(()=>e.when,void 0,{equals:(o,r)=>t?o===r:!o==!r});return _(()=>{const o=n();if(o){const r=e.children;return typeof r=="function"&&r.length>0?T(()=>r(t?o:()=>{if(!T(n))throw Kt("Show");return e.when})):r}return e.fallback},void 0,void 0)}function Wt(e){let t=!1;const n=(s,l)=>s[0]===l[0]&&(t?s[1]===l[1]:!s[1]==!l[1])&&s[2]===l[2],o=gn(()=>e.children),r=_(()=>{let s=o();Array.isArray(s)||(s=[s]);for(let l=0;l<s.length;l++){const i=s[l].when;if(i)return t=!!s[l].keyed,[l,i,s[l]]}return[-1]},void 0,{equals:n});return _(()=>{const[s,l,i]=r();if(s<0)return e.fallback;const c=i.children;return typeof c=="function"&&c.length>0?T(()=>c(t?l:()=>{if(T(r)[0]!==s)throw Kt("Match");return i.when})):c},void 0,void 0)}function ge(e){return e}const xn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],kn=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...xn]),En=new Set(["innerHTML","textContent","innerText","children"]),Cn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),_n=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Sn(e,t){const n=_n[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Mn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Dn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Nn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function In(e,t,n){let o=n.length,r=t.length,s=o,l=0,i=0,c=t[r-1].nextSibling,a=null;for(;l<r||i<s;){if(t[l]===n[i]){l++,i++;continue}for(;t[r-1]===n[s-1];)r--,s--;if(r===l){const d=s<o?i?n[i-1].nextSibling:n[s-i]:c;for(;i<s;)e.insertBefore(n[i++],d)}else if(s===i)for(;l<r;)(!a||!a.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[s-1]&&n[i]===t[r-1]){const d=t[--r].nextSibling;e.insertBefore(n[i++],t[l++].nextSibling),e.insertBefore(n[--s],d),t[r]=n[s]}else{if(!a){a=new Map;let h=i;for(;h<s;)a.set(n[h],h++)}const d=a.get(t[l]);if(d!=null)if(i<d&&d<s){let h=l,f=1,m;for(;++h<r&&h<s&&!((m=a.get(t[h]))==null||m!==d+f);)f++;if(f>d-i){const p=t[l];for(;i<d;)e.insertBefore(n[i++],p)}else e.replaceChild(n[i++],t[l++])}else l++;else t[l++].remove()}}}const ut="_$DX_DELEGATE";function An(e,t,n,o={}){let r;return xe(s=>{r=s,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},o.owner),()=>{r(),t.textContent=""}}function y(e,t,n){let o;const r=()=>{const l=document.createElement("template");return l.innerHTML=e,n?l.content.firstChild.firstChild:l.content.firstChild},s=t?()=>T(()=>document.importNode(o||(o=r()),!0)):()=>(o||(o=r())).cloneNode(!0);return s.cloneNode=s,s}function W(e,t=window.document){const n=t[ut]||(t[ut]=new Set);for(let o=0,r=e.length;o<r;o++){const s=e[o];n.has(s)||(n.add(s),t.addEventListener(s,On))}}function q(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Tn(e,t,n,o){o==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,o)}function B(e,t){t==null?e.removeAttribute("class"):e.className=t}function Ie(e,t,n,o){if(o)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=s=>r.call(e,n[1],s))}else e.addEventListener(t,n)}function Pn(e,t,n={}){const o=Object.keys(t||{}),r=Object.keys(n);let s,l;for(s=0,l=r.length;s<l;s++){const i=r[s];!i||i==="undefined"||t[i]||(ht(e,i,!1),delete n[i])}for(s=0,l=o.length;s<l;s++){const i=o[s],c=!!t[i];!i||i==="undefined"||n[i]===c||!c||(ht(e,i,!0),n[i]=c)}return n}function ue(e,t,n){if(!t)return n?q(e,"style"):t;const o=e.style;if(typeof t=="string")return o.cssText=t;typeof n=="string"&&(o.cssText=n=void 0),n||(n={}),t||(t={});let r,s;for(s in n)t[s]==null&&o.removeProperty(s),delete n[s];for(s in t)r=t[s],r!==n[s]&&(o.setProperty(s,r),n[s]=r);return n}function Gt(e,t={},n,o){const r={};return o||v(()=>r.children=ae(e,t.children,r.children)),v(()=>t.ref&&t.ref(e)),v(()=>Ln(e,t,n,!0,r,!0)),r}function j(e,t,n){return T(()=>e(t,n))}function g(e,t,n,o){if(n!==void 0&&!o&&(o=[]),typeof t!="function")return ae(e,t,o,n);v(r=>ae(e,t(),r,n),o)}function Ln(e,t,n,o,r={},s=!1){t||(t={});for(const l in r)if(!(l in t)){if(l==="children")continue;r[l]=ft(e,l,null,r[l],n,s)}for(const l in t){if(l==="children"){o||ae(e,t.children);continue}const i=t[l];r[l]=ft(e,l,i,r[l],n,s)}}function Bn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function ht(e,t,n){const o=t.trim().split(/\s+/);for(let r=0,s=o.length;r<s;r++)e.classList.toggle(o[r],n)}function ft(e,t,n,o,r,s){let l,i,c,a,d;if(t==="style")return ue(e,n,o);if(t==="classList")return Pn(e,n,o);if(n===o)return o;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);o&&e.removeEventListener(h,o),n&&e.addEventListener(h,n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);o&&e.removeEventListener(h,o,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),f=Mn.has(h);if(!f&&o){const m=Array.isArray(o)?o[0]:o;e.removeEventListener(h,m)}(f||n)&&(Ie(e,h,n,f),f&&W([h]))}else if(t.slice(0,5)==="attr:")q(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(c=En.has(t))||!r&&((a=Sn(t,e.tagName))||(i=kn.has(t)))||(l=e.nodeName.includes("-")))d&&(t=t.slice(5),i=!0),t==="class"||t==="className"?B(e,n):l&&!i&&!c?e[Bn(t)]=n:e[a||t]=n;else{const h=r&&t.indexOf(":")>-1&&Nn[t.split(":")[0]];h?Tn(e,h,t,n):q(e,Cn[t]||t,n)}return n}function On(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const o=n[t];if(o&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?o.call(n,r,e):o.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ae(e,t,n,o,r){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,l=o!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),l){let i=n[0];i&&i.nodeType===3?i.data=t:i=document.createTextNode(t),n=le(e,n,o,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=le(e,n,o);else{if(s==="function")return v(()=>{let i=t();for(;typeof i=="function";)i=i();n=ae(e,i,n,o)}),()=>n;if(Array.isArray(t)){const i=[],c=n&&Array.isArray(n);if(Ve(i,t,n,r))return v(()=>n=ae(e,i,n,o,!0)),()=>n;if(i.length===0){if(n=le(e,n,o),l)return n}else c?n.length===0?gt(e,i,o):In(e,n,i):(n&&le(e),gt(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=le(e,n,o,t);le(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ve(e,t,n,o){let r=!1;for(let s=0,l=t.length;s<l;s++){let i=t[s],c=n&&n[s],a;if(!(i==null||i===!0||i===!1))if((a=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=Ve(e,i,c)||r;else if(a==="function")if(o){for(;typeof i=="function";)i=i();r=Ve(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||r}else e.push(i),r=!0;else{const d=String(i);c&&c.nodeType===3&&c.data===d?e.push(c):e.push(document.createTextNode(d))}}return r}function gt(e,t,n=null){for(let o=0,r=t.length;o<r;o++)e.insertBefore(t[o],n)}function le(e,t,n,o){if(n===void 0)return e.textContent="";const r=o||document.createTextNode("");if(t.length){let s=!1;for(let l=t.length-1;l>=0;l--){const i=t[l];if(r!==i){const c=i.parentNode===e;!s&&!l?c?e.replaceChild(r,i):e.insertBefore(r,n):c&&i.remove()}else s=!0}}else e.insertBefore(r,n);return[r]}const Hn=!1,zn="http://www.w3.org/2000/svg";function Rn(e,t=!1){return t?document.createElementNS(zn,e):document.createElement(e)}function jn(e){const[t,n]=Ft(e,["component"]),o=_(()=>t.component);return _(()=>{const r=o();switch(typeof r){case"function":return T(()=>r(n));case"string":const s=Dn.has(r),l=Rn(r,s);return Gt(l,n,s),l}})}var Fn=()=>["%csolid-devtools","color: #fff; background: #2c4f7c; padding: 1px 4px;"];function Kn(...e){console.warn(...Fn(),...e)}Kn('`import "solid-devtools";` is an entry point for the vite plugin.\nIf you\'re seeing this message you probably forgot to add the plugin to your vite config.');(()=>{let e=100;const t=()=>{const r=getComputedStyle(document.documentElement).getPropertyValue("--kitl-c-bg");if(console.log("bgColor",r),!r){if(e>1e4)return;e*=2,setTimeout(t,e);return}const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content",r)},n=r=>{r?(console.log("Dark mode"),document.documentElement.setAttribute("color-theme","dark")):(console.log("Light mode"),document.documentElement.setAttribute("color-theme","light")),setTimeout(t)},o=window.matchMedia("(prefers-color-scheme: dark)");o.addEventListener("change",r=>n(r.matches)),n(o.matches),window.addEventListener("load",t)})();const Wn="modulepreload",Gn=function(e){return"/"+e},mt={},wt=function(t,n,o){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Gn(s),s in mt)return;mt[s]=!0;const l=s.endsWith(".css"),i=l?'[rel="stylesheet"]':"";if(!!o)for(let d=r.length-1;d>=0;d--){const h=r[d];if(h.href===s&&(!l||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${i}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":Wn,l||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),l)return new Promise((d,h)=>{a.addEventListener("load",d),a.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})},Un=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((o,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})},[Ut,Yn]=x({locale:"",strings:new Map}),qn=()=>Ut().locale,Yt=(e,t,n)=>{for(const o in n){const r=n[o],s=t?`${t}.${o}`:o;typeof r=="object"?Yt(e,s,r):e.set(s,r)}},Vn=async e=>{for(const t of[e,...navigator.languages,"en"])if(t)try{const n=await Un(Object.assign({"./strings/en.json":()=>wt(()=>import("./en-d1a00eea.js"),[]),"./strings/ko.json":()=>wt(()=>import("./ko-1ded49bb.js"),[])}),`./strings/${t}.json`),o=new Map;return Yt(o,"",n),Yn({locale:t,strings:o}),!0}catch{continue}},R=e=>Ut().strings.get(e)||e,Xn=e=>{const[t]=un(async()=>await Vn(e.language)),n=qn();return u(Wt,{fallback:"Unk",get children(){return[u(ge,{get when(){return t()},get children(){return e.children}}),u(ge,{when:n==="",children:"Failed to load locale."}),u(ge,{when:n===void 0,children:"Loading..."})]}})},fe=e=>{const t=new TextEncoder().encode(e),n=new ArrayBuffer(t.length),o=new Uint8Array(n);for(let r=0;r<t.length;++r)o[r]=t[r];return n},yt=e=>new TextDecoder().decode(e),Zn=()=>{throw"Empty function invoked"},pt={x:0,y:0},Jn=e=>({x:Math.round(e.x),y:Math.round(e.y)}),me=(e,t)=>e*e+t*t,ke=(e,t)=>Math.sqrt(me(e,t)),vt=(e,t,n)=>{const o=n.w/2,r=n.h/2,s=n.x+o,l=n.y+r,i=Math.abs(o-r);let c=e-s,a=t-l,d=0,h=0;if(c<-o&&(c=-o,d=-1),c>o&&(c=o,d=1),a<-r&&(a=-r,h=-1),a>r&&(a=r,h=1),n.angular){if(d*h!==0){const f=ke(c,a);return[s+c-1.4*d,l+a-1.4*h,c/f,a/f]}}else{if(o>r&&Math.abs(c)>i){const f=c>0?i:-i,m=c-f,p=ke(m,a)/r;return[s+f+m/p,l+a/p,m/r,a/(p*r)]}if(r>o&&Math.abs(a)>i){const f=a>0?i:-i,m=a-f,p=ke(c,m)/o;return[s+c/p,l+f+m/p,c/(p*o),m/o]}}return[s+c,l+a,d,h]},Xe=(e,t,n)=>{const[o,r,s,l]=vt(t.x+t.w/2,t.y+t.h/2,e),[i,c,a,d]=vt(o,r,t),h=.2*ke(o-i,r-c);return`M ${i-n*a} ${c-n*d} C ${i+a*h} ${c+d*h}, ${o+s*h} ${r+l*h}, ${o-n*s} ${r-n*l}`},$t=(e,t)=>{const o=e.x+e.w/2,r=t.x+t.w/2;return`M ${o} ${e.y} C ${o} ${e.y-30}, ${r} ${t.y-30}, ${r} ${t.y}`},Qn=e=>Math.random().toString(36).slice(e),eo=()=>Qn(7),to=()=>{const e=new Date;return Math.round(e.getTime()/1e3+e.getTimezoneOffset()*60).toString(36)},no=()=>`${to()}-${eo()}`,oo=(e,t,n)=>e<t?t:e>n?n:e;var w=(e=>(e.Alpha="a",e.Beta="b",e.Delta="d",e.Lambda="l",e.Nu="n",e.Pi="p",e))(w||{});const Ee=new Set(["d"]),ro=new Set(["n"]),so=new Set(["b","n"]),io=()=>[{id:"#def",pos:{x:0,y:0},x:{type:"d",comment:""}}],ve=JSON.stringify,je=e=>{switch(typeof e){case"string":return e.length>20;case"object":return e===null?!1:Array.isArray(e)?e.length>1:Object.keys(e).length>1}return!1},Q=(e,t=0)=>{if(typeof e!="object"||e===null)return ve(e);const n=" ".repeat(2*(t+1)),o=`,
`+n;if(Array.isArray(e)){const l=e;return l.length===0?"[]":l.length===1?je(l[0])?`[ ${Q(l[0],t+1)} ]`:`[${Q(l[0],t+1)}]`:`[ ${l.map(i=>Q(i,t+1)).join(o)} ]`}const r=e,s=Object.keys(r);if(s.length===0)return"{}";if(s.length===1){const l=s[0],i=ve(l),c=r[l];return je(c)?`{ ${i}:
  ${n}${Q(c,t+2)}}`:`{${i}: ${Q(c,t+1)}}`}return`{ ${Object.entries(r).map(([l,i])=>je(i)?`${ve(l)}:
  ${n}${Q(i,t+2)}`:`${ve(l)}: ${Q(i,t+1)}`).join(o)} }`},P=e=>e.charCodeAt(0),rt=e=>{const t=new Set;for(let n=0;n<e.length;n++)t.add(e.charCodeAt(n));return t},lo=P(`
`),co=P("["),ao=P("]"),uo=P("{"),ho=P("}"),fo=P('"'),go=P("'"),mo=P("\\"),wo=P("u"),yo=P("x"),qt=rt(`[]{},"':
`),po=rt("+-0123456789."),vo=rt(`"'`),$o=new Map([[P("b"),"\b"],[P("f"),"\f"],[P("n"),`
`],[P("r"),"\r"],[P("t"),"	"]]),bo=/[-+]?((0x[0-9a-fA-F]+)|([0-9]+(\.[0-9]+)?))([eE][-+]?[0-9]+)?/y,xo=/(false|true|null)\b/iy,ko=new Map([["false",!1],["true",!0],["null",null]]),bt=/\s*([[{'"])/y,Vt=/\s*/y,Ae=/[\s,]*/y,Eo=/[\s:]*/y,Co=e=>(bt.lastIndex=0,!!bt.exec(e)),te=e=>e.s.charCodeAt(e.p);class ye extends Error{s;p;line;column;constructor(t,n){let o=1,r=1;for(let s=0;s<t.p;s++)t.s.charCodeAt(s)===lo&&(o++,r=0),r++;super(`${o}:${r}: ${n}`),this.name="ParseError",this.s=t.s,this.p=t.p,this.line=o,this.column=r}}const st=(e,t)=>(t.lastIndex=e.p,t.exec(e.s)),oe=(e,t)=>{const n=st(e,t);n&&(e.p+=n[0].length)},_o=e=>{e.p++,oe(e,Ae);const t=[];for(;e.p<e.l&&te(e)!==ao;)t.push(it(e)),oe(e,Ae);return e.p++,t},So=e=>{e.p++,oe(e,Ae);const t={};for(;e.p<e.l&&te(e)!==ho;){let n;if(vo.has(te(e)))n=Ze(e);else{const o=e.p;e.p=e.s.indexOf(":",e.p),e.p===-1&&(e.p=e.l),n=e.s.slice(o,e.p).trim()}oe(e,Eo),t[n]=it(e),oe(e,Ae)}return e.p++,t},xt=(e,t)=>{const n=e.s.slice(e.p+1,e.p+t+1),o=parseInt(n,16);if(e.p+=t,isNaN(o))throw new ye(e,`Invalid unicode escape '${n}'`);return String.fromCharCode(o)},Ze=e=>{const t=te(e);e.p++;let n="";for(;e.p<e.l;e.p++){const o=te(e);if(o===t)return e.p++,n;if(o===mo){e.p++;const r=te(e);switch(r){case wo:n+=xt(e,4);break;case yo:n+=xt(e,2);break;default:n+=$o.get(r)||String.fromCharCode(r)}}else n+=String.fromCharCode(o)}return n},Mo=e=>{const t=st(e,bo),n=t?t[0]:"",o=n?Number(n):NaN;if(e.p+=n.length,isNaN(o))throw new ye(e,`Invalid number '${n}'`);return o},Do=(e,t)=>{const n=st(e,xo);if(n!==null)return e.p+=n[0].length,ko.get(n[0].toLowerCase());if(t)throw new ye(e,`Unexpected character '${e.s[e.p]}'`);const o=e.p;for(;e.p<e.l&&!qt.has(te(e));)e.p++;return e.s.slice(o,e.p).trim()},kt={[fo]:Ze,[go]:Ze,[co]:_o,[uo]:So},it=(e,t)=>{oe(e,Vt);const n=te(e);if(n in kt)return kt[n](e);if(qt.has(n))throw new ye(e,`Unexpected character '${e.s[e.p]}' for value`);return po.has(n)?Mo(e):Do(e,t)},No=e=>{const t={s:e,p:0,l:e.length},n=it(t,!0);if(oe(t,Vt),t.p<t.l)throw new ye(t,`Unexpected character '${t.s[t.p]}', expect EOF`);return n},Io=e=>{switch(e.type){case w.Alpha:return JSON.stringify(e.val,null,2);case w.Beta:return e.args.length<=0?"":`,${e.args.length}`;case w.Delta:return`${e.comment}`;case w.Lambda:return"λ";case w.Nu:{const t=e.name,n=t.module?`@${t.module}`:"",o=e.args.length<=0?"":`,${e.lhs},${Math.max(0,e.args.length-e.lhs)}`;return`${t.name}${n}${o}`}case w.Pi:{const t=e.name,n=t.module?`@${t.module}`:"",o=e.elems<=0?"":`,${e.elems}`;return`λ ${t.name}${n}${o}`}}},Ao=e=>{const t=e.trim();try{return{type:w.Alpha,val:No(t)}}catch{}switch(t[0]){case"λ":case"\\":{const o=t.slice(1).split(","),r=o[0].split("@");if(r[0]){const s=r[0]?r[0].toString().trim():"",l=r[1]?r[1].toString().trim():"";let i=parseInt(o[1]);return isNaN(i)&&(i=0),{type:w.Pi,name:{name:s,module:l},elems:i}}else return{type:w.Lambda}}default:{const o=t.split(","),r=o[0].split("@"),s=r[0]?r[0].toString().trim():"",l=r[1]?r[1].toString().trim():"";let i=parseInt(o[1]),c=parseInt(o[2]);if(s)return isNaN(i)&&(i=0),isNaN(c)&&(c=i,i=0),{type:w.Nu,name:{name:s,module:l},lhs:i,args:new Array(i+c).fill({id:""})};{const a=(isNaN(i)?0:i)+(isNaN(c)?0:c);return{type:w.Beta,args:new Array(a).fill({id:""})}}}}},To=e=>{const t=e.split(/[\\/]+/),n=t[0].length<=0,o=[];for(const r of t)switch(r){case"":case".":break;case"..":o.pop();break;default:o.push(r)}return n&&o.length>0&&o[0].length>0&&o.unshift(""),o},Ce=e=>e.length<=0?".":e.length<=1&&e[0].length<=0?"/":e.join("/"),Po=e=>e.length>0&&e[0].length<=0,Lo=e=>{const t=To(e);return[Ce(t),t]},Et=()=>[void 0];var L=(e=>(e[e.NotFound=0]="NotFound",e[e.File=1]="File",e[e.Directory=2]="Directory",e))(L||{});const Bo="kitl-idbfs",Oo=1,Je="meta",Qe="data";class Ct{transaction;store;constructor(t,n){this.transaction=t,this.store=this.transaction.objectStore(n)}r(t){return new Promise((n,o)=>{const r=t();r.onsuccess=()=>n(r.result),r.onerror=()=>o(r.error)})}get(t){return this.r(()=>this.store.get(t))}getAll(){return this.r(()=>this.store.getAll())}put(t,n){return this.r(()=>this.store.put(t,n))}delete(t){return this.r(()=>this.store.delete(t))}clear(){return this.r(()=>this.store.clear())}}const J=e=>{const[t,n]=Lo(e);if(!Po(n))throw new Error("Path must be absolute");return[t,n]};class Ho{readwrite;meta;data;constructor(t,n,o){this.readwrite=t,this.meta=n,this.data=o}shouldWritable(){if(!this.readwrite)throw new Error("Failed to process: IDBFS is created as readonly mode.")}async getMeta(t){return await this.meta.get(t)}async rawWrite(t,n,o){await this.meta.put({path:n,type:t,size:o.byteLength,lastModified:Date.now()}),await this.data.put({path:n,data:o})}async format(){await this.meta.clear(),await this.data.clear(),await this.rawWrite(L.Directory,"/",fe(""))}async getFileType(t){const[n]=J(t);try{return(await this.meta.get(n)).type}catch{return L.NotFound}}async mkdir(t){this.shouldWritable();const[,n]=J(t);let o=n.length;for(;o>=0;--o){const r=n.slice(0,o).join("/"),s=await this.getFileType(r);if(s===L.Directory)break;if(s!==L.NotFound)throw new Error("File exists")}for(++o;o<n.length;++o){const r=n.slice(0,o).join("/"),s=o<n.length?fe(n[o]):new ArrayBuffer(0);await this.meta.put({path:r,type:L.Directory,size:s.byteLength,lastModified:Date.now()}),await this.data.put({path:r,data:s})}}async getChildrenNames(t){const[n]=J(t);if((await this.meta.get(n)).type!==L.Directory)throw new Error("Not a directory");const r=await this.data.get(n);return yt(r.data).split(`
`).map(s=>s.trim()).filter(s=>s.length>0)}async list(t){const n=await this.getChildrenNames(t),o=[];for(const r of n){const s=Ce([t,r]),l=await this.meta.get(s);o.push({type:l.type,path:s,size:l.size,lastModified:new Date(l.lastModified)})}return o}async write(t,n){const[,o]=J(t),r=await this.getFileType(t);if(r===L.NotFound){const s=Ce(o.slice(0,o.length-1));if(await this.getFileType(s)!==L.Directory)throw new Error("Parent directory does not exist");const i=await this.getChildrenNames(s);i.push(o[o.length-1]),await this.data.put({path:s,data:fe(i.join(`
`))})}else if(r!==L.File)throw new Error("Cannot create a file: directory exists");await this.rawWrite(L.File,t,fe(n))}async read(t){const[n]=J(t);if(await this.getFileType(n)!==L.File)throw new Error("Not a file");const r=await this.data.get(n);return yt(r.data)}async remove(t){const[n,o]=J(t);if(n.length<=1)return await this.format();const r=Ce(o.slice(0,o.length-1));let s;try{if(await this.meta.get(n),s=await this.meta.get(r),s.type!==L.Directory)throw new Error("Parent is not a directory")}catch{throw new Error("File or directory does not exist")}const l=await this.meta.getAll();for(const a of l)(a.path===n||a.path.startsWith(n+"/"))&&(await this.meta.delete(a.path),await this.data.delete(a.path));const c=(await this.getChildrenNames(r)).filter(a=>a!==o[o.length-1]);await this.rawWrite(L.Directory,r,fe(c.join(`
`)))}async copy(t,n){const[o]=J(t),[r]=J(n),l=(await this.meta.getAll()).map(i=>i.path).filter(i=>i===o||i.startsWith(o+"/")).map(i=>i.slice(o.length));for(const i of l){const c=o+i,a=r+i,d=await this.meta.get(c);await this.meta.put({...d,path:a,lastModified:Date.now()});const h=await this.data.get(c);await this.data.put({...h,path:a})}}async move(t,n){await this.copy(t,n),await this.remove(t)}}const zo=()=>new Promise((e,t)=>{const n=indexedDB.open(Bo,Oo);n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error),n.onupgradeneeded=o=>{const r=n.result;o.oldVersion===0?(r.createObjectStore(Je,{keyPath:"path"}),r.createObjectStore(Qe,{keyPath:"path"}),e(r)):t(n.error)}}),Ro=async e=>{const n=(await zo()).transaction([Je,Qe],e?"readwrite":"readonly");return new Ho(e===!0,new Ct(n,Je),new Ct(n,Qe))};var b=(e=>(e.fg="fg",e.bg="bg",e.primary="primary",e.secondary="secondary",e.success="success",e.danger="danger",e.warning="warning",e))(b||{});const jo=y("<button>"),D=e=>(()=>{const t=jo();return Ie(t,"click",e.onClick,!0),g(t,()=>e.children),v(()=>B(t,`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();W(["click"]);W(["keydown"]);const Fo=y("<div>"),Be=e=>(()=>{const t=Fo();return g(t,()=>e.children),v(()=>B(t,`input-group ${e.class??""}`)),t})(),Ko=y("<input type=text>"),Xt=e=>(()=>{const t=Ko();return Ie(t,"keydown",e.onKeyDown,!0),Ie(t,"change",e.onChange),v(n=>{const o=e.disabled,r=`form-control ${e.class??""}`,s=e.placeholder;return o!==n._v$&&(t.disabled=n._v$=o),r!==n._v$2&&B(t,n._v$2=r),s!==n._v$3&&q(t,"placeholder",n._v$3=s),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),v(()=>t.value=e.value),t})();W(["keydown"]);const Wo=y("<div class=toast-container>"),Go=y("<div>"),Uo=["✅","⚠️","🚫"],Zt=[Zn],Yo=(e,t)=>{Zt[0](e,t)},qo=e=>{const t=e.creation??Zt,[n,o]=x({cnt:0,toasts:[]});return t[0]=(r,s)=>{o(l=>{const i=l.toasts,c=l.cnt,a=Math.max(200,s?.ttl??2e3),d=(f,m)=>window.setTimeout(()=>o(p=>({...p,toasts:f(p.toasts)})),m),h=d(f=>f.filter(m=>m.id!==c),a);return d(f=>f.map(m=>m.id===c?{...m,class:"toast-a-out"}:m),a-100),i.push({id:c,type:s?.type,class:"toast-a-in",message:r,timeout:h}),{cnt:l.cnt+1,toasts:i}})},(()=>{const r=Wo();return g(r,u(K,{get each(){return n().toasts},children:s=>(()=>{const l=Go();return g(l,()=>s.type?Uo[s.type]:"",null),g(l,()=>s.message,null),v(()=>B(l,`toast ${s.class}`)),l})()})),r})()};let et=0;const Vo=()=>{et=0},Jt=()=>et=(et+57.295779513)%360,Xo="hrm-c-bd-empty",Zo="⎇",tt="𝑓",Jo="𝑥",_t="𝑦",Qo="𝛃",er="≝",tr="⟾",nr="↯",or="⧉";var N=(e=>(e[e.Source=0]="Source",e[e.Sink=1]="Sink",e))(N||{});const St=e=>x({name:e,data:{type:0,color:Jt()}}),U=(e,t)=>x({name:e,data:{type:1,sourceID:t?.id,sourceHandle:t?.handle}}),rr=e=>{let t=0,n;switch(e.x.type){case w.Alpha:n=[];break;case w.Beta:t=1,n=[U(tt,e.x.fn)];for(const o in e.x.args){const r=e.x.args[o];n.push(U(o,r))}break;case w.Delta:n=[U(_t,e.x.ret)];break;case w.Lambda:t=2,n=[U(Zo,e.x.fallback),St(Jo),U(_t,e.x.ret)];break;case w.Nu:n=e.x.args.map((o,r)=>U(String(r),o)),t=oo(e.x.lhs,0,e.x.args.length);break;case w.Pi:n=[U(or,e.x.pat)];for(let o=0;o<e.x.elems;o++)n.push(St(String(o+1)));t=1;break}return n.lhs=t,n},nt=e=>x({color:Jt(),angular:e.x.type===w.Alpha,data:e.x,handles:rr(e),position:e.pos,size:{w:0,h:0},selected:!1}),$e=e=>{Vo();const t=new Map;for(const n of e)t.set(n.id,nt(n));return t},Mt=e=>{if(e.type===1&&e.sourceID)return{id:e.sourceID,handle:e.sourceHandle}},sr=e=>{const t=n=>Mt(e.handles[n][0]().data);switch(e.data.type){case w.Alpha:return{type:w.Alpha,val:e.data.val};case w.Beta:{const n=[];for(let o=1;o<e.handles.length;o++){const r=t(o);r&&n.push(r)}return{type:w.Beta,fn:t(0),args:n}}case w.Delta:return{type:w.Delta,comment:e.data.comment,ret:t(0)};case w.Lambda:return{type:w.Lambda,fallback:t(0),ret:t(2)};case w.Nu:return{type:w.Nu,name:e.data.name,lhs:e.handles.lhs,args:e.handles.reduce((n,o)=>{const r=Mt(o[0]().data);return r&&n.push(r),n},[])};case w.Pi:return{type:w.Pi,pat:t(0),name:e.data.name,elems:e.data.elems}}},Qt=(e,t)=>({id:e,pos:Jn(t.position),x:sr(t)}),ir=e=>{const t=[];for(const[n,o]of e.entries())t.push(Qt(n,o[0]()));return t},Dt=e=>{switch(e.data.type){case w.Beta:e.handles[0][1](t=>({...t,name:tt})),e.handles[0][0]().name=tt;for(let t=1;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t-1)}));break;case w.Nu:for(let t=0;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t)}));break;default:throw"Unimplemented"}},lr=y('<svg stroke-width="0"></svg>',2),cr=y("<title></title>",2);function S(e,t){const n=dt(e.a,t),[o,r]=Ft(n,["src"]);return(()=>{const s=lr.cloneNode(!0);return Gt(s,dt({get stroke(){return e.a.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},r,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},get innerHTML(){return e.c},xmlns:"http://www.w3.org/2000/svg"}),!0,!0),g(s,()=>Hn,null),g(s,(()=>{const l=_(()=>!!t.title);return()=>l()&&(()=>{const i=cr.cloneNode(!0);return g(i,()=>t.title),i})()})(),null),s})()}function ar(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-back-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 14l-4 -4l4 -4"/><path d="M5 10h11a4 4 0 1 1 0 8h-1"/>'},e)}function dr(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-forward-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 14l4 -4l-4 -4"/><path d="M19 10h-11a4 4 0 1 0 0 8h1"/>'},e)}function ot(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-backspace",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 6a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-11l-5 -5a1.5 1.5 0 0 1 0 -2l5 -5z"/><path d="M12 10l4 4m0 -4l-4 4"/>'},e)}function en(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-binary-tree",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 4a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M11 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M21 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M5.058 18.306l2.88 -4.606"/><path d="M10.061 10.303l2.877 -4.604"/><path d="M10.065 13.705l2.876 4.6"/><path d="M15.063 5.7l2.881 4.61"/>'},e)}function ur(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-clipboard",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"/><path d="M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"/>'},e)}function hr(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-copy",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"/><path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"/>'},e)}function fr(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-deselect",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 8h3a1 1 0 0 1 1 1v3"/><path d="M16 16h-7a1 1 0 0 1 -1 -1v-7"/><path d="M12 20v.01"/><path d="M16 20v.01"/><path d="M8 20v.01"/><path d="M4 20v.01"/><path d="M4 16v.01"/><path d="M4 12v.01"/><path d="M4 8v.01"/><path d="M8 4v.01"/><path d="M12 4v.01"/><path d="M16 4v.01"/><path d="M20 4v.01"/><path d="M20 8v.01"/><path d="M20 12v.01"/><path d="M20 16v.01"/><path d="M3 3l18 18"/>'},e)}function gr(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-edit",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"/><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"/><path d="M16 5l3 3"/>'},e)}function tn(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-folder-search",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 19h-6a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2.5"/><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M20.2 20.2l1.8 1.8"/>'},e)}function mr(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-rocket",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"/><path d="M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"/><path d="M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/>'},e)}function wr(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-scissors",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M6 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M8.6 8.6l10.4 10.4"/><path d="M8.6 15.4l10.4 -10.4"/>'},e)}function yr(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-check",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l2 2l4 -4"/>'},e)}function nn(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-plus",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l6 0"/><path d="M12 9l0 6"/>'},e)}function pr(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M10 10l4 4m0 -4l-4 4"/>'},e)}function on(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12"/><path d="M6 6l12 12"/>'},e)}function vr(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in-area",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 13v4"/><path d="M13 15h4"/><path d="M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"/><path d="M22 22l-3 -3"/><path d="M6 18h-1a2 2 0 0 1 -2 -2v-1"/><path d="M3 11v-1"/><path d="M3 6v-1a2 2 0 0 1 2 -2h1"/><path d="M10 3h1"/><path d="M15 3h1a2 2 0 0 1 2 2v1"/>'},e)}function $r(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M10 7l0 6"/><path d="M21 21l-6 -6"/>'},e)}function br(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-out",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M21 21l-6 -6"/>'},e)}function xr(e){return S({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-reset",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 21l-6 -6"/><path d="M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"/><path d="M3 4v4h4"/>'},e)}const kr=6,Er=250,Cr=16,_r=750,Sr=window.setTimeout,Mr=window.clearTimeout,Nt=e=>({shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey}),Fe=e=>{e.preventDefault(),e.stopPropagation()},re=(e,t)=>{const n={pointers:new Map,maxPointers:0,lastClick:{x:0,y:0,timestamp:0}},o=s=>{n.longPress&&n.longPress.id===s&&(Mr(n.longPress.u),n.longPress=void 0),n.pointers.delete(s)},r={pointerenter:s=>{e.onEnter?.(s.pointerId)},pointercancel:s=>{o(s.pointerId),e.onCancel?.(s.pointerId)},pointerleave:s=>{o(s.pointerId),e.onLeave?.(s.pointerId)},pointerdown:s=>{Fe(s);const l=s.pointerId;e.onDown?.({id:l,x:s.clientX,y:s.clientY,pointers:n.pointers.size,modifiers:Nt(s)}),e.capture&&s.currentTarget.setPointerCapture(l);const i={id:l,x:s.clientX,y:s.clientY,moved:!1,timestamp:Date.now()};o(s.pointerId),n.pointers.set(l,i),n.maxPointers=Math.max(n.maxPointers,n.pointers.size),n.pointers.size===1&&(n.longPress={id:l,x:s.clientX,y:s.clientY,u:Sr(()=>{n.longPress&&n.pointers.size===1&&n.pointers.has(l)&&!n.pointers.get(l).moved&&(n.longPress=void 0,e.onLongPress?.({id:l,x:s.clientX,y:s.clientY}),n.pointers.delete(l))},_r)})},pointermove:s=>{Fe(s);const l=s.pointerId;e.onMove?.({id:l,x:s.clientX,y:s.clientY});const i=n.pointers.get(l);if(!i)return;const c=s.clientX-i.x,a=s.clientY-i.y;if(!(!i.moved&&me(c,a)<kr)){if(e.onDrag){const d={id:l,x:s.clientX,y:s.clientY,ox:i.x,oy:i.y,dx:c,dy:a},[h,f]=n.pointers.keys();f&&(d.pivot=n.pointers.get(h===l?f:h)),e.onDrag(d)}i.moved=!0,i.x=s.clientX,i.y=s.clientY}},pointerup:s=>{Fe(s);const l=s.pointerId,i=n.pointers.get(l),c={id:l,x:s.clientX,y:s.clientY,pointers:n.maxPointers,modifiers:Nt(s),dragged:n.pointers.get(l)?.moved};if(e.onUp?.(c),!i)return;o(s.pointerId);const a=Date.now();n.pointers.size===0&&(e.onClick?.(c),a-n.lastClick.timestamp<Er&&me(c.x-n.lastClick.x,c.y-n.lastClick.y)<Cr**2&&e.onDoubleClick?.(c),n.lastClick={x:s.clientX,y:s.clientY,timestamp:a},n.maxPointers=0)}};for(const[s,l]of Object.entries(r))t.addEventListener(s,l,{passive:!1})},Dr=(e,t)=>{const[n,o]=x(t);let r=t,s;return[()=>(n(),r),c=>{typeof c=="function"?r=c(r):r=c,s===void 0&&(s=window.setTimeout(()=>{s=void 0,o(r)},e))}]},Nr=y('<div class="no-user-select hrm-pane abs-parent"><div class=hrm-view></div><div class=hrm-pane-controls>'),Ir=y("<button>"),It=e=>`translate(${e.x}px, ${e.y}px) scale(${e.z})`,Ar=e=>{let t;const[n,o]=Dr(10,{x:0,y:0,z:1}),r=(i,c,a)=>o(d=>({x:d.x*a+i,y:d.y*a+c,z:d.z*a}));e.g.transform[0]=n,e.g.transform[1]=o;const s=1.1,l=[[u($r,{}),()=>r((t?.offsetWidth??0)*(1-s)/2,(t?.offsetHeight??0)*(1-s)/2,s)],[u(br,{}),()=>r((t?.offsetWidth??0)*(1-1/s)/2,(t?.offsetHeight??0)*(1-1/s)/2,1/s)],[u(xr,{}),()=>o(()=>({x:0,y:0,z:1}))],[u(vr,{}),()=>{const i=e.g.usedRect(),c=e.g.size();if(!i||!c)return;i.w=Math.max(i.w,1),i.h=Math.max(i.h,1);const a=c.w/i.w,d=c.h/i.h,h=Math.min(a,d),f=-i.x*h+(c.w-i.w*h)/2,m=-i.y*h+(c.h-i.h*h)/2;o({x:f,y:m,z:h})}]];return V(()=>{if(t){re({capture:!0,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onLongPress:e.onLongPress,onDrag:i=>{const c=i.pivot;if(c){const a=Math.sqrt(me(c.x-i.x,c.y-i.y)/me(c.x-i.ox,c.y-i.oy)),d=a-1;r((i.dx-(c.x+i.ox)*d)/2,(i.dy-(c.y+i.oy)*d)/2,a)}else r(i.dx,i.dy,1)}},t),t.addEventListener("wheel",i=>{if(t)if(i.preventDefault(),i.ctrlKey||i.metaKey){const c=Math.pow(2,i.deltaY/-100),a=t.getBoundingClientRect();r((i.clientX-a.left)*(1-c),(i.clientY-a.top)*(1-c),c)}else r(-i.deltaX,-i.deltaY,1)},{passive:!1});for(const[,i,c]of l)c&&re({capture:!0,onClick:i},c)}}),(()=>{const i=Nr(),c=i.firstChild,a=c.nextSibling,d=t;typeof d=="function"?j(d,i):t=i;const h=e.g.viewRef;return typeof h=="function"?j(h,c):e.g.viewRef=c,g(c,()=>e.children),g(a,u(K,{each:l,children:f=>(()=>{const m=Ir(),p=f[2];return typeof p=="function"?j(p,m):f[2]=m,g(m,()=>f[0]),m})()})),v(()=>It(n())!=null?c.style.setProperty("transform",It(n())):c.style.removeProperty("transform")),i})()},Tr=y("<div>"),Pr=e=>{const[t,n]=e.handleW;let o;return V(()=>{o&&(t(),n(r=>{let s,l;if(r.data.type===N.Source)s=r.data.color,l=e.g.nodeColorBd(s);else if(r.data.sourceID){const i=e.g.nodes().get(r.data.sourceID);if(i){const c=i[0]();s=c.color,r.data.sourceHandle!==void 0&&(s=c.handles[r.data.sourceHandle][0]().color??s),l=e.g.nodeColorBg(s)}}return s===r.color&&r.ref===o?r:{...r,ref:o,color:s,style:l}}))}),V(()=>{o&&re({capture:!1,onEnter:r=>{const s=e.g.connectingEdge[0]();s&&s.pointerID===r&&t().data.type===N.Source!==s.isSource&&e.g.setTempConnectingEnd(e.nodeID,o,e.handleID)},onLeave:()=>{e.g.connectingEnd[0]().ref===o&&e.g.unsetTempConnectingEnd(o)},onDown:r=>{e.g.addConnectingEnd(r.id,e.nodeID,e.handleID,e.g.viewPos(r.x,r.y))},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)},onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},o)}),(()=>{const r=Tr(),s=o;return typeof s=="function"?j(s,r):o=r,g(r,()=>t().name),v(l=>{const i=`hrm-node-item hrm-handle hrm-pill ${t().style?"":Xo}`,c=t().style;return i!==l._v$&&B(r,l._v$=i),l._v$2=ue(r,c,l._v$2),l},{_v$:void 0,_v$2:void 0}),r})()},Lr=new Map([["_|_","⊥"],["-:","∹"],["-<","⤙"],["-<<","⤛"],["->","→"],["->>","↠"],["->|","⇥"],["-|","⊣"],["-|","⊣"],["::","∷"],["::=","⩴"],[":=","≔"],["!=","≠"],["!|=","⊭"],["!||-","⊮"],["!||=","⊯"],["!~=","≄"],["!~~","≉"],["<-->","⟷"],["<-","←"],["<-<","↢"],["<->","↔"],["<-|","↤"],["<.>","⊙"],["<*>","⊗"],["<+>","⊕"],["<<-","↞"],["<<","≪"],["<=","≤"],["<==>","⟺"],["<=>","⇔"],["<=|","⤆"],["<|","◁"],["<~","⇜"],["=:","≕"],["==>","⟹"],["=>","⇒"],[">-","⤚"],[">=","≥"],[">>-","⤜"],[">>","≫"],["|-->","⟼"],["|-","⊢"],["|->","↦"],["|<-","⇤"],["|=","⊨"],["|=>","⤇"],["|>","▷"],["||-","⊩"],["||=","⊫"],["|||-","⊪"],["~=","≃"],["~>","⇝"],["~~","≈"]]),Br=e=>Lr.get(e)||e,Or=y("<div class=hrm-node-name-module>"),Hr=y("<div class=hrm-node-name><div class=hrm-node-name-name>"),zr=y("<div class=hrm-node-mark>"),Rr=y("<div class=hrm-node-json>"),jr=y('<pre class="hrm-node-comment no-user-select no-pointer-events">'),Fr=y('<div class="hrm-node-item hrm-node-body">'),At=e=>(()=>{const t=Hr(),n=t.firstChild;return g(n,()=>Br(e.name.name)),g(t,u(ee,{get when(){return e.name.module},get children(){const o=Or();return g(o,()=>"@"+e.name.module),o}}),null),t})(),be=e=>(()=>{const t=zr();return g(t,()=>e.mark),t})(),Kr=e=>{const t={[w.Alpha]:()=>(()=>{const n=Rr();return g(n,()=>Q(e.data.val)),n})(),[w.Beta]:()=>u(be,{mark:Qo}),[w.Delta]:()=>[u(be,{mark:er}),u(ee,{get when(){return e.data.comment},get children(){const n=jr();return g(n,()=>e.data.comment),n}})],[w.Lambda]:()=>u(be,{mark:tr}),[w.Nu]:()=>u(At,{get name(){return e.data.name}}),[w.Pi]:()=>[u(be,{mark:nr}),u(At,{get name(){return e.data.name}})]};return(()=>{const n=Fr();return g(n,u(jn,{get component(){return t[e.data.type]}})),n})()},Wr=y("<div> + "),Tt=e=>{let t;const[n,o]=x(!1);return V(()=>{t&&re({onEnter:r=>{o(!0);const s=e.g.connectingEdge[0]();s&&s.pointerID===r&&s.isSource&&e.g.setTempConnectingEnd(e.nodeID,t,e.handleID)},onLeave:()=>{o(!1),e.g.connectingEnd[0]().ref===t&&e.g.unsetTempConnectingEnd(t)},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)}},t)}),(()=>{const r=Wr(),s=t;return typeof s=="function"?j(s,r):t=r,v(()=>B(r,`hrm-node-item hrm-handle-new hrm-pill ${e.handleID<0?"lhs":"rhs"} ${n()?"opacity-100":""}`)),r})()},Gr=y("<div>"),Ur=y('<div class="hrm-node abs-lt no-user-select"><div class="hrm-node-row no-user-select">'),Yr=e=>{const[t,n]=x(!1),[o,r]=e.nodeW;console.log("[HrmNode] render");let s,l;V(()=>{if(!s)return;const a=s;r(d=>({...d,ref:a,size:{w:a.offsetWidth,h:a.offsetHeight},selected:!1})),re({capture:!0,onEnter:d=>{const h=e.g.connectingEdge[0]();h&&h.pointerID===d&&!h.isSource&&e.g.setTempConnectingEnd(e.id,s,void 0)},onLeave:()=>{e.g.connectingEnd[0]().ref===l&&e.g.unsetTempConnectingEnd(l)},onUp:d=>{e.g.connectingEdge[0]()&&e.g.addConnectingEnd(d.id,e.id,void 0,e.g.viewPos(d.x,d.y))},onClick:d=>{if(!d.dragged){const h=d.modifiers.shift||d.modifiers.ctrl;e.g.selectOneNode(e.id,h)}},onDrag:d=>{o().selected?e.g.translateSelectedNodes(d.dx,d.dy,e.g.transform[0]().z):e.g.translateOneNode(e.id,d.dx,d.dy,e.g.transform[0]().z)},onDoubleClick:()=>{setTimeout(()=>{e.g.editNode(e.id)},100)}},s)}),V(()=>{l&&re({onEnter:()=>{n(!0)},onLeave:()=>{n(!1)},onDown:a=>{e.g.addConnectingEnd(a.id,e.id,void 0,e.g.viewPos(a.x,a.y))}},l)});const i=(a,d)=>u(Pr,{get g(){return e.g},get nodeID(){return e.id},get node(){return o()},get handleID(){return d()},handleW:a}),c=(a,d)=>i(a,()=>d()+o().handles.lhs);return(()=>{const a=Ur(),d=a.firstChild,h=s;return typeof h=="function"?j(h,a):s=a,g(a,u(ee,{get when(){return ro.has(o().data.type)},get children(){return u(Tt,{get g(){return e.g},get nodeID(){return e.id},handleID:-1/0,get node(){return o()}})}}),d),g(d,u(K,{get each(){return o().handles.slice(0,o().handles.lhs)},children:i}),null),g(d,u(Kr,{get data(){return o().data}}),null),g(d,u(K,{get each(){return o().handles.slice(o().handles.lhs)},children:c}),null),g(a,u(ee,{get when(){return so.has(o().data.type)},get children(){return u(Tt,{get g(){return e.g},get nodeID(){return e.id},handleID:1/0,get node(){return o()}})}}),null),g(a,u(ee,{get when(){return!Ee.has(o().data.type)},get children(){const f=Gr(),m=l;return typeof m=="function"?j(m,f):l=f,v(()=>B(f,`hrm-node-handle hrm-pill ${t()?"opacity-100":""}`)),f}}),null),v(f=>{const m=!!o().selected,p=!!o().angular,O=!o().angular,F={left:`${o().position.x}px`,top:`${o().position.y}px`,...e.g.nodeColorBd(o().color)};return m!==f._v$&&a.classList.toggle("selected",f._v$=m),p!==f._v$2&&a.classList.toggle("hrm-rect",f._v$2=p),O!==f._v$3&&a.classList.toggle("hrm-pill",f._v$3=O),f._v$4=ue(a,F,f._v$4),f},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),a})()},qr=y('<svg><path class="hrm-edge-path hrm-edge-path-bd"stroke-width=6px fill=transparent></svg>',!1,!0),Vr=y("<svg><path class=hrm-edge-path stroke-width=3px fill=transparent></svg>",!1,!0),Xr=y("<svg><path class=cursor-pointer stroke-width=1rem fill=transparent></svg>",!1,!0),Zr=e=>{console.log("[HrmEdge] render");let t;const[n]=e.nodeW,[o]=e.handleW,r=_(()=>{console.log("[HrmEdge] Effect (path)"),n();const l=o();if(l.data.type!==N.Sink)return"";const i=l.data.sourceID,c=l.data.sourceHandle;if(i===void 0)return"";const a=e.g.viewRectOf(i,c),d=e.g.viewRect(l.ref);return!a||!d?"":e.nodeID===i?[$t(a,d),$t(a,d)]:[Xe(a,d,.5),Xe(a,d,-.5)]});V(()=>{if(t)return re({onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},t)});const s=()=>{const l=o().color;return l?e.g.nodeColorStroke(l):{}};return[(()=>{const l=qr();return v(()=>q(l,"d",r()[1])),l})(),(()=>{const l=Vr();return v(i=>{const c=s(),a=r()[0];return i._v$=ue(l,c,i._v$),a!==i._v$2&&q(l,"d",i._v$2=a),i},{_v$:void 0,_v$2:void 0}),l})(),(()=>{const l=Xr(),i=t;return typeof i=="function"?j(i,l):t=l,v(()=>q(l,"d",r()[0])),l})()]},Jr=e=>{const[t]=e.handleW;return u(ee,{get when(){return _(()=>t().data.type===N.Sink)()&&t().data.sourceID},get children(){return u(Zr,e)}})},Qr=e=>{const[t]=e.nodeW;return u(K,{get each(){return t().handles},children:(n,o)=>u(Jr,{get g(){return e.g},get nodeW(){return e.nodeW},handleW:n,get nodeID(){return e.id},get handleID(){return o()}})})},es=y('<svg class="hrm-edges no-user-select no-pointer-events">'),ts=e=>[u(K,{get each(){return[...e.g.nodes()]},children:([t,n])=>u(Yr,{get g(){return e.g},id:t,nodeW:n})}),(()=>{const t=es();return g(t,u(K,{get each(){return[...e.g.nodes()]},children:([n,o])=>u(Qr,{get g(){return e.g},id:n,nodeW:o})})),t})()],ns=(e,t,n)=>.299*e+.587*t+.114*n,Ke=(e,t,n)=>{n<0&&(n+=1),n>1&&(n-=1);let o;return n<1/2?(o=t,n<1/6&&(o=e+(t-e)*6*n)):(o=e,n<2/3&&(o=e+(t-e)*(2/3-n)*6)),Math.round(o*255)},os=(e,t,n)=>{if(t===0)return[n,n,n];const o=n<.5?n*(1+t):n+t-n*t,r=2*n-o;return[Ke(r,o,e+1/3),Ke(r,o,e),Ke(r,o,e-1/3)]},We=(e,t,n)=>`hsl(${e}, ${t*100}%, ${n*100}%)`,rs=()=>new Map([["C-a","selectAll"],["M-a","selectAll"],["Backspace","deleteSelectedNodes"],["Delete","deleteSelectedNodes"],["a","addEmptyNode"],["C-=","zoomIn"],["C--","zoomOut"]]);class ss{nodes;setNodes;transform;rootRef;viewRef;editingNode;connectingEdge;connectingEnd;history;historyIndex;selectMode=!1;keymap=new Map;constructor(t){t||(t=[]);const[n,o]=x($e(t),{equals:!1});this.nodes=n,this.setNodes=o,this.editingNode=x(),this.connectingEdge=x(),this.connectingEnd=x({pos:pt}),this.transform=[()=>({x:0,y:0,z:1}),()=>{}],this.history=[t],this.historyIndex=0,this.keymap=rs()}thaw(t){this.setNodes($e(t)),this.history=[t],this.historyIndex=0}freeze(){return ir(this.nodes())}getSL(){const t=getComputedStyle(document.documentElement),n=Number(t.getPropertyValue("--hrm-node-saturate")),o=Number(t.getPropertyValue("--hrm-node-lightness"));return[n,o]}nodeColorBg(t){const[n,o]=this.getSL(),r=ns(...os(t,n,o))>192?"#000":"#fff",s=We(t,n,o);return{color:r,"background-color":s,"border-color":s}}nodeColorBd(t){const[n,o]=this.getSL();return{"border-color":We(t,n,o)}}nodeColorStroke(t){const[n,o]=this.getSL();return{stroke:We(t,n,o)}}saveHistory(){this.historyIndex++,this.history.length>this.historyIndex&&(this.history=this.history.slice(0,this.historyIndex)),this.history.push(this.freeze())}undo(){this.historyIndex>0&&this.setNodes($e(this.history[--this.historyIndex]))}redo(){this.historyIndex<this.history.length-1&&this.setNodes($e(this.history[++this.historyIndex]))}size(){if(!this.rootRef)return;const t=this.rootRef.getBoundingClientRect();return{w:t.width,h:t.height}}viewPos(t,n){if(!this.viewRef)return;const o=this.viewRef.getBoundingClientRect(),r=T(this.transform[0]);return{x:(t-o.left)/r.z,y:(n-o.top)/r.z}}viewRect(t){if(!t||!this.viewRef)return;const n=this.viewRef.getBoundingClientRect(),o=t.getBoundingClientRect(),r=!t.classList.contains("hrm-pill"),s=T(this.transform[0]);return{x:(o.left-n.left)/s.z,y:(o.top-n.top)/s.z,w:o.width/s.z,h:o.height/s.z,angular:r}}fitTransformFor(t){if(!t)return;const n=t.getBoundingClientRect(),o=this.rootRef.getBoundingClientRect();console.log(n,o);let r=0,s=0;n.right+r>o.right&&(r=o.right-n.right),n.left+r<o.left&&(r=o.left-n.left),n.bottom+s>o.bottom&&(s=o.bottom-n.bottom),n.top+s<o.top&&(s=o.top-n.top),console.log(r,s),this.transform[1](l=>({...l,x:l.x+r,y:l.y+s}))}usedRect(){const t={x:0,y:0,w:0,h:0};for(const[,n]of this.nodes()){const o=n[0](),r=o.position,s=o.size;t.x>r.x&&(t.w+=t.x-r.x,t.x=r.x),t.y>r.y&&(t.h+=t.y-r.y,t.y=r.y),t.w=Math.max(t.w,r.x+s.w-t.x),t.h=Math.max(t.h,r.y+s.h-t.y)}return t}viewRectOf(t,n){const o=this.nodes().get(t);if(!o)return;const r=o[0](),s=n===void 0?r.ref:r.handles[n][0]().ref;if(s)return this.viewRect(s)}addEmptyNode(t){if(!t){const i=this.transform[0](),c=this.rootRef;if(!c)t={x:0,y:0};else{const a=c.getBoundingClientRect();t={x:(a.width/2-i.x)/i.z,y:(a.height/2-i.y)/i.z}}}const n=no();let o;const r=this.connectingEdge[0]();if(r)if(r.isSource)o={id:r.nodeID,handle:r.handleID};else{const i=this.nodes().get(r.nodeID);i&&i[0]().handles[r.handleID][1](a=>({...a,data:{type:N.Sink,sourceID:n}}))}this.connectingEdge[1](void 0);const s={type:w.Beta,fn:o,args:[]},l={id:n,pos:t,x:s};return this.setNodes(i=>(i.set(l.id,nt(l)),i)),this.saveHistory(),l.id}translateOneNode(t,n,o,r){const s=this.nodes().get(t);s&&s[1](l=>({...l,position:{x:l.position.x+n/r,y:l.position.y+o/r}}))}translateSelectedNodes(t,n,o){for(const[,r]of this.nodes())r[1](s=>s.selected?{...s,position:{x:s.position.x+t/o,y:s.position.y+n/o}}:s)}selectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?n:{...n,selected:!0})}deselectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?{...n,selected:!1}:n)}selectOneNode(t,n){this.connectingEdge[1](void 0);for(const[o,r]of this.nodes())o===t?r[1](s=>({...s,selected:!s.selected})):!n&&!this.selectMode&&r[1](s=>s.selected?{...s,selected:!1}:s)}deleteSelectedNodes(){this.setNodes(t=>{const n=new Set;for(const[o,r]of t){const s=r[0]();s.selected&&!Ee.has(s.data.type)&&n.add(o)}for(const[o,r]of t)if(n.has(o))t.delete(o);else{const l=r[0]().handles;for(const[,i]of l)i(c=>{if(c.data.type===N.Sink){const a=c.data.sourceID;if(a&&n.has(a))return{...c,data:{type:N.Sink}}}return c})}return t}),this.saveHistory()}deleteEdge(t,n){const o=this.nodes().get(t);o&&o[0]().handles[n][1](r=>r.data.type!==N.Sink?r:{...r,data:{type:N.Sink}})}resetConnectingState(){ie(()=>{this.connectingEdge[1](void 0),this.connectingEnd[1]({pos:pt})})}setTempConnectingEnd(t,n,o){ie(()=>{const r=this.connectingEdge[0]();r&&(r.nodeID!==t||r.handleID!==o)&&this.connectingEnd[1](s=>({...s,ref:n}))})}unsetTempConnectingEnd(t){ie(()=>{this.connectingEdge[0]()&&this.connectingEnd[1](o=>o.ref===t?{...o,ref:void 0}:o)})}finConnecting(t,n){const o=this.connectingEdge[0]();o&&(o.nodeID!==t||o.handleID!==n)&&(o.isSource&&n!==void 0?this.connectEdge(t,n,o.nodeID,o.handleID):!o.isSource&&o.handleID!==void 0&&this.connectEdge(o.nodeID,o.handleID,t,n))}makeLeftHandle(t){const n=this.nodes().get(t);return n&&(n[1](o=>(o.handles.unshift(U("")),o.handles.lhs++,{...o})),Dt(n[0]())),0}makeRightHandle(t){const n=this.nodes().get(t);if(!n)return 0;const o=n[0](),r=o.handles.length;return n[1](s=>(s.handles.push(U("")),{...s})),Dt(o),r}connectEdge(t,n,o,r){ie(()=>{n===-1/0&&(n=this.makeLeftHandle(t)),n===1/0&&(n=this.makeRightHandle(t));const s=this.nodes(),l=s.get(t),i=s.get(o);if(!l||!i)return;if(r===void 0){if(Ee.has(i[0]().data.type))return}else{const a=i[0]().handles[r];if(!a||a[0]().data.type!==N.Source)return}l[0]().handles[n][1](a=>a.data.type!==N.Sink?a:{...a,data:{type:N.Sink,sourceID:o,sourceHandle:r}}),this.resetConnectingState(),this.saveHistory()})}updateConnectingEnd(t){this.connectingEnd[1](n=>({...n,pos:t}))}addConnectingEnd(t,n,o,r){this.deselectAll();const s=this.nodes().get(n);if(!s)return;const[l]=s;let i=!0;if(o!==void 0){const a=l().handles[o];if(!a)return;i=a[0]().data.type===N.Source}const c=this.connectingEdge[0]();if(c&&c.nodeID===n&&c.handleID===o){this.resetConnectingState();return}if(c&&!i===c.isSource)return i?this.connectEdge(c.nodeID,c.handleID,n,o):this.connectEdge(n,o,c.nodeID,c.handleID);ie(()=>{this.connectingEdge[1]({pointerID:t,isSource:i,nodeID:n,handleID:o}),r&&this.connectingEnd[1](a=>({...a,pos:r}))})}editNode(t){const n=this.nodes().get(t);n&&!Ee.has(n[0]().data.type)&&this.editingNode[1]({node:Qt(t,n[0]()),color:n[0]().color})}applyEditNode(t){ie(()=>{const n=this.editingNode[0]();if(!n)return;const o=n.node.id,r={...n.node,x:Ao(t)},s=nt(r),l=this.nodes().get(o);if(!l)return;s[1](a=>({...a,color:l[0]().color}));const i=[];for(const a of l?l[0]().handles:[]){const d=a[0]();d.data.type===N.Sink&&d.data.sourceID&&i.push(d.data)}console.log(i);const c=s[0]().handles;for(let a=0;a<c.length;a++)c[a][1](d=>{if(d.data.type!==N.Sink)return d;const h={type:N.Sink},f=i[a];return f&&(h.sourceID=f.sourceID,h.sourceHandle=f.sourceHandle),{...d,data:h}});this.setNodes(a=>(a.set(o,s),a)),this.editingNode[1](void 0)})}cancelEditNode(){this.editingNode[1](void 0)}handleKey(t){const n=this.keymap.get(t);n&&n in this&&this[n]()}zoomIn(){this.transform[1](t=>({...t,z:t.z*1.1}))}zoomOut(){this.transform[1](t=>({...t,z:t.z/1.1}))}resetZoom(){this.transform[1](()=>({x:0,y:0,z:1}))}}const is=y('<svg class="hrm-edges no-user-select no-pointer-events"><path class="hrm-edge-path hrm-c-stroke-empty"stroke-width=2px fill=transparent>'),ls=y("<div>"),cs=e=>{const t=()=>{const s=e.g.connectingEdge[0]();return s?e.g.viewRectOf(s.nodeID,s.handleID):void 0},n=()=>{const s=e.g.connectingEdge[0]();if(!s)return;const l=e.g.connectingEnd[0](),i=e.g.nodes().get(s.nodeID),c=e.g.viewRectOf(s.nodeID,s.handleID);if(!i||!c)return;const a=e.g.viewRect(l.ref);if(a)return Xe(c,a,0)},o=()=>t()?.angular?"hrm-rect":"hrm-pill",r=()=>{const s=t();if(s)return{visibility:"visible",left:`${s.x}px`,top:`${s.y}px`,width:`${s.w}px`,height:`${s.h}px`}};return V(()=>{console.log(t())}),[(()=>{const s=is(),l=s.firstChild;return v(()=>q(l,"d",n())),s})(),(()=>{const s=ls();return v(l=>{const i=`hrm-editing-edge-handle no-pointer-events ${o()}`,c=r();return i!==l._v$&&B(s,l._v$=i),l._v$2=ue(s,c,l._v$2),l},{_v$:void 0,_v$2:void 0}),s})()]},as=y("<div class=code-area><textarea></textarea><textarea>"),ds=10,lt=(e,t)=>{for(;t>0&&e.charCodeAt(t-1)!==ds;)t--;return t},us=(e,t,n)=>{const o=lt(e,t),r=e.slice(o,n).split(`
`);return[e.slice(0,o)+"  "+r.join(`
  `)+e.slice(n),t+2,n+2*r.length]},hs=(e,t,n)=>{const o=lt(e,t),r=e.slice(o,n).split(`
`);let s=t,l=n;for(let i=0;i<r.length;i++){const c=r[i].startsWith("  ")?2:r[i].startsWith("	")?1:0;i===0&&(s-=c),l-=c,r[i]=r[i].slice(c)}return[e.slice(0,o)+r.join(`
`)+e.slice(n),s,l]},fs=e=>{let t;const n=i=>{!e.autoresize||!t||(t.value=i.value,t.style.width=i.style.width,i.style.height=t.scrollHeight+"px")},o=i=>{if(!(e.onKeyDown&&e.onKeyDown(i))){switch(i.key){case"Tab":{i.preventDefault();const c=i.currentTarget,a=(i.shiftKey?hs:us)(c.value,c.selectionStart,c.selectionEnd);c.value=a[0],c.selectionStart=a[1],c.selectionEnd=a[2]}break;case"Enter":{i.preventDefault();const c=i.currentTarget,a=c.selectionStart,d=c.value,h=/[ \t]*/y;h.lastIndex=lt(d,a-1);const f=h.exec(d)?.[0]??"";c.value=d.slice(0,a)+`
`+f+d.slice(c.selectionEnd),c.selectionStart=c.selectionEnd=a+1+f.length}break}n(i.target)}},r=i=>{e.onInput&&e.onInput(i)},s=i=>{e.onChange&&e.onChange(i)},l=i=>{n(i.currentTarget)};return(()=>{const i=as(),c=i.firstChild,a=c.nextSibling;c.$$keydown=o,c.$$input=r,c.addEventListener("change",s),c.addEventListener("focus",l);const d=e.ref;typeof d=="function"?j(d,c):e.ref=c;const h=t;return typeof h=="function"?j(h,a):t=a,a.disabled=!0,v(f=>{const m=e.autofocus,p=e.disabled,O=`form-control ${e.class??""}`,F=e.placeholder,G=`form-control abs-lt ${e.class??""} code-area-hidden no-pointer-events no-user-select`;return m!==f._v$&&(c.autofocus=f._v$=m),p!==f._v$2&&(c.disabled=f._v$2=p),O!==f._v$3&&B(c,f._v$3=O),F!==f._v$4&&q(c,"placeholder",f._v$4=F),G!==f._v$5&&B(a,f._v$5=G),f},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),v(()=>c.value=e.value),i})()};W(["input","keydown"]);const gs=y("<button class=suggest>"),ms=y("<div class=suggests>"),ws=y("<div class=hrm-edit-overlay>"),ys=e=>(()=>{const t=gs();return t.$$click=()=>alert(e.label),g(t,()=>e.label),t})(),ps=e=>(()=>{const t=ms();return g(t,u(K,{get each(){return e.items},children:n=>u(ys,n)})),t})(),vs=e=>{let t,n;const o=r=>{if(n){if(r.key==="Enter"){let s=r.ctrlKey||r.metaKey;if(s||=!Co(n.value),s)return e.g.applyEditNode(n?n.value:""),!0}return!1}};return hn(()=>{if(t){const r=["mousedown","touchstart","pointerdown","wheel"],s=l=>l.stopPropagation();for(const l of r)t.addEventListener(l,s);n?.click(),e.g.fitTransformFor(t)}}),(()=>{const r=ws(),s=t;return typeof s=="function"?j(s,r):t=r,g(r,u(Be,{class:"shadow-1 w-fit mb-1",get children(){return[u(D,{get color(){return b.success},onClick:()=>e.g.applyEditNode(n?n.value:""),get children(){return u(yr,{})}}),u(D,{get color(){return b.warning},onClick:()=>{n.value="",n.focus()},get children(){return u(ot,{})}}),u(D,{get color(){return b.danger},onClick:()=>e.g.cancelEditNode(),get children(){return u(pr,{})}})]}}),null),g(r,u(fs,{ref(l){const i=n;typeof i=="function"?i(l):n=l},autofocus:!0,autoresize:!0,class:"shadow-1",placeholder:"[NODE DATA]",get value(){return Io(e.node.x)},onKeyDown:o}),null),g(r,u(ps,{items:[{label:"beta",text:"beta"},{label:"gamma",text:"gamma"},{label:"delta",text:"delta"},{label:"epsilon",text:"epsilon"},{label:"omega",text:"omega"},{label:"alpha",text:"alpha"},{label:"{",text:"{"}]}),null),v(l=>ue(r,{...e.g.nodeColorBd(e.color),transform:`translate(${e.node.pos.x-16}px, ${e.node.pos.y-16}px)`},l)),r})()},$s=e=>u(ee,{get when(){return e.g.editingNode[0]()},get children(){return u(vs,{get g(){return e.g},get color(){return e.g.editingNode[0]().color},get node(){return e.g.editingNode[0]().node}})}});W(["click"]);const bs=e=>[e.ctrlKey?"C":"",e.altKey?"A":"",e.shiftKey?"S":"",e.metaKey?"M":"",e.key].join("-"),xs=y('<div class="hrm-container abs-parent"tabindex=0>'),ks=e=>{const t=new ss(e.initialNodes);e.stateBox&&(e.stateBox[0]=t);const n=()=>{t.rootRef&&(t.rootRef.scrollLeft!=0||t.rootRef.scrollTop!=0)&&t.rootRef.scrollTo(0,0)},o=s=>{if(s.target!==t.rootRef)return;const l=bs(s);console.log(l),t.handleKey(l)},r=s=>{s.currentTarget.focus()};return(()=>{const s=xs();s.addEventListener("pointerenter",r),s.$$keydown=o,s.addEventListener("scroll",n);const l=t.rootRef;return typeof l=="function"?j(l,s):t.rootRef=s,g(s,u(Ar,{g:t,onClick:()=>t.deselectAll(),onDoubleClick:i=>{const c=t.viewPos(i.x,i.y),a=t.addEmptyNode(c);setTimeout(()=>{t.editNode(a)},100)},onLongPress:()=>{Yo("[Hrm] Long press")},get children(){return[u(ts,{g:t}),u(cs,{g:t}),u($s,{g:t})]}})),s})()};W(["keydown"]);const Es=y('<div class="editor-root-hrm abs-parent">'),Cs=e=>(()=>{const t=Es();return g(t,u(ks,{get initialNodes(){return io()},get stateBox(){return e.stateBox}})),t})(),_s=y("<div class=dropdown><button></button><div>"),Ss=y("<hr>"),Ms=e=>{const[t,n]=x(!1);return(()=>{const o=_s(),r=o.firstChild,s=r.nextSibling;return r.$$click=()=>{n(!t())},g(r,()=>e.children),s.$$click=()=>{n(!1)},g(s,u(K,{get each(){return e.list},children:(l,i)=>[u(ee,{get when(){return i()>0},get children(){return Ss()}}),u(K,{each:l,children:c=>c})]})),v(l=>{const i=`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`,c=`dropdown-menu ${t()?"visible":"hidden"}`;return i!==l._v$&&B(r,l._v$=i),c!==l._v$2&&B(s,l._v$2=c),l},{_v$:void 0,_v$2:void 0}),o})()};W(["click"]);const Ds=y("<div>"),rn=e=>(()=>{const t=Ds();return g(t,()=>e.children),v(()=>B(t,`form-control btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();const Ns=y('<div class=m-modal><div class="m-modal-content m-modal-content-stick-to-center">'),sn=e=>{const t=n=>{e.onClose&&n.target===n.currentTarget&&e.onClose()};return(()=>{const n=Ns(),o=n.firstChild;return n.$$click=t,g(o,()=>e.children),v(()=>o.classList.toggle("h-100",!!e.fullHeight)),n})()};W(["click"]);const Ge=y("<h3> <!> "),Is=e=>u(sn,{get onClose(){return e.onClose},get children(){return[u(Be,{get children(){return[u(rn,{get color(){return b.primary},get children(){return u(en,{})}}),u(Xt,{class:"flex-1",disabled:!0,value:"Graph Tools"}),u(D,{get color(){return b.danger},get onClick(){return e.onClose},get children(){return u(on,{})}})]}}),(()=>{const t=Ge(),n=t.firstChild,o=n.nextSibling;return o.nextSibling,g(t,()=>R("graphTools.layout"),o),t})(),u(D,{get color(){return b.primary},get children(){return[" ",_(()=>R("graphTools.tool.layoutDefault"))," "]}}),u(D,{get color(){return b.secondary},get children(){return[" ",_(()=>R("graphTools.tool.layoutLinear"))," "]}}),(()=>{const t=Ge(),n=t.firstChild,o=n.nextSibling;return o.nextSibling,g(t,()=>R("graphTools.optimization"),o),t})(),u(D,{get color(){return b.warning},get children(){return[" ",_(()=>R("graphTools.tool.selectUnreachables"))," "]}}),(()=>{const t=Ge(),n=t.firstChild,o=n.nextSibling;return o.nextSibling,g(t,()=>R("graphTools.validate"),o),t})(),u(D,{get color(){return b.danger},get children(){return[" ",_(()=>R("graphTools.tool.validateGraph"))," "]}})]}}),As=e=>u(sn,{get onClose(){return e.onClose},get children(){return[u(Be,{get children(){return[u(rn,{get color(){return b.primary},get children(){return u(tn,{})}}),u(Xt,{class:"flex-1",disabled:!0,value:"Browser Tools"}),u(D,{get color(){return b.danger},get onClick(){return e.onClose},get children(){return u(on,{})}})]}}),"Hello"]}});let ce=function(e){return e[e.None=0]="None",e[e.Browser=1]="Browser",e[e.Launch=2]="Launch",e[e.GraphTools=3]="GraphTools",e}({});class Ts{constructor(){const[t,n]=x({type:ce.None});this.state=t,this.setState=n}close(){this.setState(t=>({...t,type:ce.None}))}open(t){this.setState(n=>({...n,type:t}))}openGraphTools(){this.setState(t=>({...t,type:ce.GraphTools}))}}const Ps=e=>{const t=new Ts;return e.actionsBox&&(e.actionsBox[0]=t),u(Wt,{get children(){return[u(ge,{get when(){return t.state().type===ce.GraphTools},get children(){return u(Is,{onClose:()=>t.close(),get stateBox(){return e.stateBox}})}}),u(ge,{get when(){return t.state().type===ce.Browser},get children(){return u(As,{onClose:()=>t.close()})}})]}})},Ls=y("<a> <!> "),Ue=y("<a> "),Bs=y("<div class=editor-root-hrm-header-container>");var we=function(e){return e[e.Add=0]="Add",e[e.Edit=1]="Edit",e}(we||{});const ln=()=>[{name:R("mainEditor.menu.addTools"),icon:u(nn,{})},{name:R("mainEditor.menu.selectTools"),icon:u(gr,{})}],Os=e=>ln()[e].icon,Hs=(e,t)=>{switch(e){case we.Add:return[u(D,{get color(){return b.warning},onClick:()=>t[0]?.undo(),get children(){return u(ar,{})}}),u(D,{get color(){return b.warning},onClick:()=>t[0]?.redo(),get children(){return u(dr,{})}}),u(D,{get color(){return b.secondary},class:"flex-1",onClick:()=>t[0]?.addEmptyNode(),get children(){return u(nn,{})}}),u(D,{get color(){return b.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return u(ot,{})}})];case we.Edit:return[u(D,{get color(){return b.warning},class:"flex-1",onClick:()=>t[0]?.deselectAll(),get children(){return u(fr,{})}}),u(D,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(wr,{})}}),u(D,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(hr,{})}}),u(D,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return u(ur,{})}}),u(D,{get color(){return b.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return u(ot,{})}})]}},zs=(e,t)=>ln().map((n,o)=>(()=>{const r=Ls(),s=r.firstChild,l=s.nextSibling;return l.nextSibling,r.$$click=()=>{t(i=>({...i,toolSet:o})),e[0]&&(e[0].selectMode=o===we.Edit)},g(r,()=>n.icon,l),g(r,()=>n.name,null),r})()),Rs=e=>{const[t,n]=x({toolSet:we.Add}),o=()=>[zs(e.stateBox,n),[(()=>{const r=Ue(),s=r.firstChild;return r.$$click=()=>e.modalActionsBox?.[0]?.open(ce.Browser),g(r,u(tn,{}),s),g(r,()=>R("mainEditor.menu.browser"),null),r})(),(()=>{const r=Ue(),s=r.firstChild;return g(r,u(mr,{}),s),g(r,()=>R("mainEditor.menu.launch"),null),r})(),(()=>{const r=Ue(),s=r.firstChild;return r.$$click=()=>e.modalActionsBox?.[0]?.openGraphTools(),g(r,u(en,{}),s),g(r,()=>R("mainEditor.menu.graphTools"),null),r})()]];return(()=>{const r=Bs();return g(r,u(Be,{class:"editor-root-hrm-header shadow-2",get children(){return[u(Ms,{get color(){return b.primary},get list(){return o()},get children(){return Os(t().toolSet)}}),_(()=>Hs(t().toolSet,e.stateBox))]}})),r})()};W(["click"]);const js=y("<div class=editor-root>"),Fs=()=>{const e=Et(),t=Et();return(()=>{const n=js();return g(n,u(Cs,{stateBox:e}),null),g(n,u(Rs,{stateBox:e,modalActionsBox:t}),null),g(n,u(Ps,{actionsBox:t,stateBox:e}),null),n})()};Ro();const Ks=()=>u(Xn,{get children(){return[u(qo,{}),u(Fs,{})]}}),Ws=document.getElementById("root");An(()=>u(Ks,{}),Ws);
