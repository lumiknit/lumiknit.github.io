(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const qt=(e,t)=>e===t,be=Symbol("solid-proxy"),Ft=Symbol("solid-track"),Vt=Symbol("solid-dev-component"),xe={equals:qt};let kt=St;const F=1,ke=2,Et={owned:null,cleanups:null,context:null,owner:null},Te={};var k=null;let Pe=null,$=null,I=null,W=null,De=0;function ye(e,t){const n=$,r=k,o=e.length===0,s=t===void 0?r:t,l=o?Et:{owned:null,cleanups:null,context:s?s.context:null,owner:s},i=o?e:()=>e(()=>A(()=>Ne(l)));k=l,$=null;try{return ee(i,!0)}finally{$=n,k=r}}function C(e,t){t=t?Object.assign({},xe,t):xe;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=o=>(typeof o=="function"&&(o=o(n.value)),Ct(n,o));return[_t.bind(n),r]}function nt(e,t,n){const r=Ie(e,t,!0,F);le(r)}function p(e,t,n){const r=Ie(e,t,!1,F);le(r)}function q(e,t,n){kt=rn;const r=Ie(e,t,!1,F);(!n||!n.render)&&(r.user=!0),W?W.push(r):le(r)}function E(e,t,n){n=n?Object.assign({},xe,n):xe;const r=Ie(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,le(r),_t.bind(r)}function Xt(e){return e&&typeof e=="object"&&"then"in e}function Zt(e,t,n){let r,o,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,o=e,s=t||{}):(r=e,o=t,s=n||{});let l=null,i=Te,c=!1,u="initialValue"in s,a=typeof r=="function"&&E(r);const f=new Set,[h,m]=(s.storage||C)(s.initialValue),[v,z]=C(void 0),[U,G]=C(void 0,{equals:!1}),[L,O]=C(u?"ready":"unresolved");function T(x,S,P,re){return l===x&&(l=null,re!==void 0&&(u=!0),(x===i||S===i)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(re,{value:S})),i=Te,X(S,P)),S}function X(x,S){ee(()=>{S===void 0&&m(()=>x),O(S!==void 0?"errored":u?"ready":"unresolved"),z(S);for(const P of f.keys())P.decrement();f.clear()},!1)}function ae(){const x=en,S=h(),P=v();if(P!==void 0&&!l)throw P;return $&&!$.user&&x&&nt(()=>{U(),l&&(x.resolved||f.has(x)||(x.increment(),f.add(x)))}),S}function Ae(x=!0){if(x!==!1&&c)return;c=!1;const S=a?a():r;if(S==null||S===!1){T(l,A(h));return}const P=i!==Te?i:A(()=>o(S,{value:h(),refetching:x}));return Xt(P)?(l=P,c=!0,queueMicrotask(()=>c=!1),ee(()=>{O(u?"refreshing":"pending"),G()},!1),P.then(re=>T(P,re,void 0,S),re=>T(P,void 0,Dt(re),S))):(T(l,P,void 0,S),P)}return Object.defineProperties(ae,{state:{get:()=>L()},error:{get:()=>v()},loading:{get(){const x=L();return x==="pending"||x==="refreshing"}},latest:{get(){if(!u)return ae();const x=v();if(x&&!l)throw x;return h()}}}),a?nt(()=>Ae(!1)):Ae(!1),[ae,{refetch:Ae,mutate:m}]}function oe(e){return ee(e,!1)}function A(e){if($===null)return e();const t=$;$=null;try{return e()}finally{$=t}}function Jt(e){return k===null||(k.cleanups===null?k.cleanups=[e]:k.cleanups.push(e)),e}function Qt(e){const t=E(e),n=E(()=>Ge(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let en;function _t(){if(this.sources&&this.state)if(this.state===F)le(this);else{const e=I;I=null,ee(()=>_e(this),!1),I=e}if($){const e=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(e)):($.sources=[this],$.sourceSlots=[e]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function Ct(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ee(()=>{for(let o=0;o<e.observers.length;o+=1){const s=e.observers[o],l=Pe&&Pe.running;l&&Pe.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?I.push(s):W.push(s),s.observers&&Mt(s)),l||(s.state=F)}if(I.length>1e6)throw I=[],new Error},!1)),t}function le(e){if(!e.fn)return;Ne(e);const t=k,n=$,r=De;$=k=e,tn(e,e.value,r),$=n,k=t}function tn(e,t,n){let r;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=F,e.owned&&e.owned.forEach(Ne),e.owned=null),e.updatedAt=n+1,It(o)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ct(e,r):e.value=r,e.updatedAt=n)}function Ie(e,t,n,r=F,o){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:k,context:k?k.context:null,pure:n};return k===null||k!==Et&&(k.owned?k.owned.push(s):k.owned=[s]),s}function Ee(e){if(e.state===0)return;if(e.state===ke)return _e(e);if(e.suspense&&A(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<De);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===F)le(e);else if(e.state===ke){const r=I;I=null,ee(()=>_e(e,t[0]),!1),I=r}}function ee(e,t){if(I)return e();let n=!1;t||(I=[]),W?n=!0:W=[],De++;try{const r=e();return nn(n),r}catch(r){n||(W=null),I=null,It(r)}}function nn(e){if(I&&(St(I),I=null),e)return;const t=W;W=null,t.length&&ee(()=>kt(t),!1)}function St(e){for(let t=0;t<e.length;t++)Ee(e[t])}function rn(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Ee(r)}for(t=0;t<n;t++)Ee(e[t])}function _e(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const o=r.state;o===F?r!==t&&(!r.updatedAt||r.updatedAt<De)&&Ee(r):o===ke&&_e(r,t)}}}function Mt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=ke,n.pure?I.push(n):W.push(n),n.observers&&Mt(n))}}function Ne(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const s=o.pop(),l=n.observerSlots.pop();r<o.length&&(s.sourceSlots[l]=r,o[r]=s,n.observerSlots[r]=l)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ne(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Dt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function It(e,t=k){throw Dt(e)}function Ge(e){if(typeof e=="function"&&!e.length)return Ge(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Ge(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const on=Symbol("fallback");function rt(e){for(let t=0;t<e.length;t++)e[t]()}function sn(e,t,n={}){let r=[],o=[],s=[],l=0,i=t.length>1?[]:null;return Jt(()=>rt(s)),()=>{let c=e()||[],u,a;return c[Ft],A(()=>{let h=c.length,m,v,z,U,G,L,O,T,X;if(h===0)l!==0&&(rt(s),s=[],r=[],o=[],l=0,i&&(i=[])),n.fallback&&(r=[on],o[0]=ye(ae=>(s[0]=ae,n.fallback())),l=1);else if(l===0){for(o=new Array(h),a=0;a<h;a++)r[a]=c[a],o[a]=ye(f);l=h}else{for(z=new Array(h),U=new Array(h),i&&(G=new Array(h)),L=0,O=Math.min(l,h);L<O&&r[L]===c[L];L++);for(O=l-1,T=h-1;O>=L&&T>=L&&r[O]===c[T];O--,T--)z[T]=o[O],U[T]=s[O],i&&(G[T]=i[O]);for(m=new Map,v=new Array(T+1),a=T;a>=L;a--)X=c[a],u=m.get(X),v[a]=u===void 0?-1:u,m.set(X,a);for(u=L;u<=O;u++)X=r[u],a=m.get(X),a!==void 0&&a!==-1?(z[a]=o[u],U[a]=s[u],i&&(G[a]=i[u]),a=v[a],m.set(X,a)):s[u]();for(a=L;a<h;a++)a in z?(o[a]=z[a],s[a]=U[a],i&&(i[a]=G[a],i[a](a))):o[a]=ye(f);o=o.slice(0,l=h),r=c.slice(0)}return o});function f(h){if(s[a]=h,i){const[m,v]=C(a);return i[a]=v,t(c[a],m)}return t(c[a])}}}function d(e,t){return A(()=>e(t||{}))}function he(){return!0}const Ke={get(e,t,n){return t===be?n:e.get(t)},has(e,t){return t===be?!0:e.has(t)},set:he,deleteProperty:he,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:he,deleteProperty:he}},ownKeys(e){return e.keys()}};function Le(e){return(e=typeof e=="function"?e():e)?e:{}}function ln(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function ot(...e){let t=!1;for(let s=0;s<e.length;s++){const l=e[s];t=t||!!l&&be in l,e[s]=typeof l=="function"?(t=!0,E(l)):l}if(t)return new Proxy({get(s){for(let l=e.length-1;l>=0;l--){const i=Le(e[l])[s];if(i!==void 0)return i}},has(s){for(let l=e.length-1;l>=0;l--)if(s in Le(e[l]))return!0;return!1},keys(){const s=[];for(let l=0;l<e.length;l++)s.push(...Object.keys(Le(e[l])));return[...new Set(s)]}},Ke);const n={},r={},o=new Set;for(let s=e.length-1;s>=0;s--){const l=e[s];if(!l)continue;const i=Object.getOwnPropertyNames(l);for(let c=0,u=i.length;c<u;c++){const a=i[c];if(a==="__proto__"||a==="constructor")continue;const f=Object.getOwnPropertyDescriptor(l,a);if(!o.has(a))f.get?(o.add(a),Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:ln.bind(r[a]=[f.get.bind(l)])})):(f.value!==void 0&&o.add(a),n[a]=f.value);else{const h=r[a];h?f.get?h.push(f.get.bind(l)):f.value!==void 0&&h.push(()=>f.value):n[a]===void 0&&(n[a]=f.value)}}}return n}function Nt(e,...t){if(be in e){const o=new Set(t.length>1?t.flat():t[0]),s=t.map(l=>new Proxy({get(i){return l.includes(i)?e[i]:void 0},has(i){return l.includes(i)&&i in e},keys(){return l.filter(i=>i in e)}},Ke));return s.push(new Proxy({get(l){return o.has(l)?void 0:e[l]},has(l){return o.has(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!o.has(l))}},Ke)),s}const n={},r=t.map(()=>({}));for(const o of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,o),l=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let i=!1,c=0;for(const u of t)u.includes(o)&&(i=!0,l?r[c][o]=s.value:Object.defineProperty(r[c],o,s)),++c;i||(l?n[o]=s.value:Object.defineProperty(n,o,s))}return[...r,n]}const At=e=>`Stale read from <${e}>.`;function j(e){const t="fallback"in e&&{fallback:()=>e.fallback};return E(sn(()=>e.each,e.children,t||void 0))}function J(e){const t=e.keyed,n=E(()=>e.when,void 0,{equals:(r,o)=>t?r===o:!r==!o});return E(()=>{const r=n();if(r){const o=e.children;return typeof o=="function"&&o.length>0?A(()=>o(t?r:()=>{if(!A(n))throw At("Show");return e.when})):o}return e.fallback},void 0,void 0)}function Tt(e){let t=!1;const n=(s,l)=>s[0]===l[0]&&(t?s[1]===l[1]:!s[1]==!l[1])&&s[2]===l[2],r=Qt(()=>e.children),o=E(()=>{let s=r();Array.isArray(s)||(s=[s]);for(let l=0;l<s.length;l++){const i=s[l].when;if(i)return t=!!s[l].keyed,[l,i,s[l]]}return[-1]},void 0,{equals:n});return E(()=>{const[s,l,i]=o();if(s<0)return e.fallback;const c=i.children;return typeof c=="function"&&c.length>0?A(()=>c(t?l:()=>{if(A(o)[0]!==s)throw At("Match");return i.when})):c},void 0,void 0)}function ve(e){return e}const cn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],an=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...cn]),un=new Set(["innerHTML","textContent","innerText","children"]),dn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),fn=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function hn(e,t){const n=fn[e];return typeof n=="object"?n[t]?n.$:void 0:n}const gn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),mn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),wn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function yn(e,t,n){let r=n.length,o=t.length,s=r,l=0,i=0,c=t[o-1].nextSibling,u=null;for(;l<o||i<s;){if(t[l]===n[i]){l++,i++;continue}for(;t[o-1]===n[s-1];)o--,s--;if(o===l){const a=s<r?i?n[i-1].nextSibling:n[s-i]:c;for(;i<s;)e.insertBefore(n[i++],a)}else if(s===i)for(;l<o;)(!u||!u.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[s-1]&&n[i]===t[o-1]){const a=t[--o].nextSibling;e.insertBefore(n[i++],t[l++].nextSibling),e.insertBefore(n[--s],a),t[o]=n[s]}else{if(!u){u=new Map;let f=i;for(;f<s;)u.set(n[f],f++)}const a=u.get(t[l]);if(a!=null)if(i<a&&a<s){let f=l,h=1,m;for(;++f<o&&f<s&&!((m=u.get(t[f]))==null||m!==a+h);)h++;if(h>a-i){const v=t[l];for(;i<a;)e.insertBefore(n[i++],v)}else e.replaceChild(n[i++],t[l++])}else l++;else t[l++].remove()}}}const st="_$DX_DELEGATE";function vn(e,t,n,r={}){let o;return ye(s=>{o=s,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{o(),t.textContent=""}}function y(e,t,n){let r;const o=()=>{const l=document.createElement("template");return l.innerHTML=e,n?l.content.firstChild.firstChild:l.content.firstChild},s=t?()=>A(()=>document.importNode(r||(r=o()),!0)):()=>(r||(r=o())).cloneNode(!0);return s.cloneNode=s,s}function V(e,t=window.document){const n=t[st]||(t[st]=new Set);for(let r=0,o=e.length;r<o;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,kn))}}function Y(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function pn(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function B(e,t){t==null?e.removeAttribute("class"):e.className=t}function Ce(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const o=n[0];e.addEventListener(t,n[0]=s=>o.call(e,n[1],s))}else e.addEventListener(t,n)}function $n(e,t,n={}){const r=Object.keys(t||{}),o=Object.keys(n);let s,l;for(s=0,l=o.length;s<l;s++){const i=o[s];!i||i==="undefined"||t[i]||(it(e,i,!1),delete n[i])}for(s=0,l=r.length;s<l;s++){const i=r[s],c=!!t[i];!i||i==="undefined"||n[i]===c||!c||(it(e,i,!0),n[i]=c)}return n}function ce(e,t,n){if(!t)return n?Y(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let o,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)o=t[s],o!==n[s]&&(r.setProperty(s,o),n[s]=o);return n}function Pt(e,t={},n,r){const o={};return r||p(()=>o.children=ie(e,t.children,o.children)),p(()=>t.ref&&t.ref(e)),p(()=>bn(e,t,n,!0,o,!0)),o}function R(e,t,n){return A(()=>e(t,n))}function g(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return ie(e,t,r,n);p(o=>ie(e,t(),o,n),r)}function bn(e,t,n,r,o={},s=!1){t||(t={});for(const l in o)if(!(l in t)){if(l==="children")continue;o[l]=lt(e,l,null,o[l],n,s)}for(const l in t){if(l==="children"){r||ie(e,t.children);continue}const i=t[l];o[l]=lt(e,l,i,o[l],n,s)}}function xn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function it(e,t,n){const r=t.trim().split(/\s+/);for(let o=0,s=r.length;o<s;o++)e.classList.toggle(r[o],n)}function lt(e,t,n,r,o,s){let l,i,c,u,a;if(t==="style")return ce(e,n,r);if(t==="classList")return $n(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);r&&e.removeEventListener(f,r),n&&e.addEventListener(f,n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);r&&e.removeEventListener(f,r,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),h=gn.has(f);if(!h&&r){const m=Array.isArray(r)?r[0]:r;e.removeEventListener(f,m)}(h||n)&&(Ce(e,f,n,h),h&&V([f]))}else if(t.slice(0,5)==="attr:")Y(e,t.slice(5),n);else if((a=t.slice(0,5)==="prop:")||(c=un.has(t))||!o&&((u=hn(t,e.tagName))||(i=an.has(t)))||(l=e.nodeName.includes("-")))a&&(t=t.slice(5),i=!0),t==="class"||t==="className"?B(e,n):l&&!i&&!c?e[xn(t)]=n:e[u||t]=n;else{const f=o&&t.indexOf(":")>-1&&wn[t.split(":")[0]];f?pn(e,f,t,n):Y(e,dn[t]||t,n)}return n}function kn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(o!==void 0?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ie(e,t,n,r,o){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,l=r!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),l){let i=n[0];i&&i.nodeType===3?i.data=t:i=document.createTextNode(t),n=se(e,n,r,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=se(e,n,r);else{if(s==="function")return p(()=>{let i=t();for(;typeof i=="function";)i=i();n=ie(e,i,n,r)}),()=>n;if(Array.isArray(t)){const i=[],c=n&&Array.isArray(n);if(We(i,t,n,o))return p(()=>n=ie(e,i,n,r,!0)),()=>n;if(i.length===0){if(n=se(e,n,r),l)return n}else c?n.length===0?ct(e,i,r):yn(e,n,i):(n&&se(e),ct(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=se(e,n,r,t);se(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function We(e,t,n,r){let o=!1;for(let s=0,l=t.length;s<l;s++){let i=t[s],c=n&&n[s],u;if(!(i==null||i===!0||i===!1))if((u=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))o=We(e,i,c)||o;else if(u==="function")if(r){for(;typeof i=="function";)i=i();o=We(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||o}else e.push(i),o=!0;else{const a=String(i);c&&c.nodeType===3&&c.data===a?e.push(c):e.push(document.createTextNode(a))}}return o}function ct(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function se(e,t,n,r){if(n===void 0)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let s=!1;for(let l=t.length-1;l>=0;l--){const i=t[l];if(o!==i){const c=i.parentNode===e;!s&&!l?c?e.replaceChild(o,i):e.insertBefore(o,n):c&&i.remove()}else s=!0}}else e.insertBefore(o,n);return[o]}const En=!1,_n="http://www.w3.org/2000/svg";function Cn(e,t=!1){return t?document.createElementNS(_n,e):document.createElement(e)}function Sn(e){const[t,n]=Nt(e,["component"]),r=E(()=>t.component);return E(()=>{const o=r();switch(typeof o){case"function":return Object.assign(o,{[Vt]:!0}),A(()=>o(n));case"string":const s=mn.has(o),l=Cn(o,s);return Pt(l,n,s),l}})}var Mn=()=>["%csolid-devtools","color: #fff; background: #2c4f7c; padding: 1px 4px;"];function Dn(...e){console.warn(...Mn(),...e)}Dn('`import "solid-devtools";` is an entry point for the vite plugin.\nIf you\'re seeing this message you probably forgot to add the plugin to your vite config.');(()=>{let e=100;const t=()=>{const o=getComputedStyle(document.documentElement).getPropertyValue("--kitl-c-bg");if(console.log("bgColor",o),!o){if(e>1e4)return;e*=2,setTimeout(t,e);return}const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content",o)},n=o=>{o?(console.log("Dark mode"),document.documentElement.setAttribute("color-theme","dark")):(console.log("Light mode"),document.documentElement.setAttribute("color-theme","light")),setTimeout(t)},r=window.matchMedia("(prefers-color-scheme: dark)");r.addEventListener("change",o=>n(o.matches)),n(r.matches),window.addEventListener("load",t)})();const In="modulepreload",Nn=function(e){return"/"+e},at={},ut=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Nn(s),s in at)return;at[s]=!0;const l=s.endsWith(".css"),i=l?'[rel="stylesheet"]':"";if(!!r)for(let a=o.length-1;a>=0;a--){const f=o[a];if(f.href===s&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${i}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":In,l||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),l)return new Promise((a,f)=>{u.addEventListener("load",a),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})},An=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((r,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t)))})},[Lt,Tn]=C({locale:"",strings:new Map}),Pn=()=>Lt().locale,Ot=(e,t,n)=>{for(const r in n){const o=n[r],s=t?`${t}.${r}`:r;typeof o=="object"?Ot(e,s,o):e.set(s,o)}},Ln=async e=>{for(const t of[e,...navigator.languages,"en"])if(t)try{const n=await An(Object.assign({"./strings/en.json":()=>ut(()=>import("./en-d1a00eea.js"),[]),"./strings/ko.json":()=>ut(()=>import("./ko-1ded49bb.js"),[])}),`./strings/${t}.json`),r=new Map;return Ot(r,"",n),Tn({locale:t,strings:r}),!0}catch{continue}},H=e=>Lt().strings.get(e)||e,On=e=>{const[t]=Zt(async()=>await Ln(e.language)),n=Pn();return d(Tt,{fallback:"Unk",get children(){return[d(ve,{get when(){return t()},get children(){return e.children}}),d(ve,{when:n==="",children:"Failed to load locale."}),d(ve,{when:n===void 0,children:"Loading..."})]}})};var b=(e=>(e.fg="fg",e.bg="bg",e.primary="primary",e.secondary="secondary",e.success="success",e.danger="danger",e.warning="warning",e))(b||{});const Bn=y("<button>"),M=e=>(()=>{const t=Bn();return Ce(t,"click",e.onClick,!0),g(t,()=>e.children),p(()=>B(t,`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();V(["click"]);V(["keydown"]);const Hn=y("<div>"),Ze=e=>(()=>{const t=Hn();return g(t,()=>e.children),p(()=>B(t,`input-group ${e.class??""}`)),t})(),Rn=y("<input type=text>"),zn=e=>(()=>{const t=Rn();return Ce(t,"keydown",e.onKeyDown,!0),Ce(t,"change",e.onChange),p(n=>{const r=e.disabled,o=`form-control ${e.class??""}`,s=e.placeholder;return r!==n._v$&&(t.disabled=n._v$=r),o!==n._v$2&&B(t,n._v$2=o),s!==n._v$3&&Y(t,"placeholder",n._v$3=s),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),p(()=>t.value=e.value),t})();V(["keydown"]);const jn=()=>{throw"Empty function invoked"},dt={x:0,y:0},Se=(e,t)=>e*e+t*t,pe=(e,t)=>Math.sqrt(Se(e,t)),ft=(e,t,n)=>{const r=n.w/2,o=n.h/2,s=n.x+r,l=n.y+o,i=Math.abs(r-o);let c=e-s,u=t-l,a=0,f=0;if(c<-r&&(c=-r,a=-1),c>r&&(c=r,a=1),u<-o&&(u=-o,f=-1),u>o&&(u=o,f=1),n.angular){if(a*f!==0){const h=pe(c,u);return[s+c-1.4*a,l+u-1.4*f,c/h,u/h]}}else{if(r>o&&Math.abs(c)>i){const h=c>0?i:-i,m=c-h,v=pe(m,u)/o;return[s+h+m/v,l+u/v,m/o,u/(v*o)]}if(o>r&&Math.abs(u)>i){const h=u>0?i:-i,m=u-h,v=pe(c,m)/r;return[s+c/v,l+h+m/v,c/(v*r),m/r]}}return[s+c,l+u,a,f]},Ye=(e,t,n)=>{const[r,o,s,l]=ft(t.x+t.w/2,t.y+t.h/2,e),[i,c,u,a]=ft(r,o,t),f=.2*pe(r-i,o-c);return`M ${i-n*u} ${c-n*a} C ${i+u*f} ${c+a*f}, ${r+s*f} ${o+l*f}, ${r-n*s} ${o-n*l}`},ht=(e,t)=>{const r=e.x+e.w/2,o=t.x+t.w/2;return`M ${r} ${e.y} C ${r} ${e.y-30}, ${o} ${t.y-30}, ${o} ${t.y}`},Un=()=>Math.random().toString(36).substring(7),Gn=()=>{const e=new Date,t=e.getTimezoneOffset()*60*1e3,n=e.getTime()+t;return Math.round(n/1e3).toString(36)},Kn=()=>`${Gn()}-${Un()}`,Wn=(e,t,n)=>e<t?t:e>n?n:e;var w=(e=>(e.Alpha="a",e.Beta="b",e.Delta="d",e.Lambda="l",e.Nu="n",e.Pi="p",e))(w||{});const $e=new Set(["d"]),Yn=new Set(["n"]),qn=new Set(["b","n"]),Fn=()=>[{id:"#def",pos:{x:0,y:0},x:{type:"d",comment:""}}],ge=JSON.stringify,Oe=e=>{switch(typeof e){case"string":return e.length>20;case"object":return e===null?!1:Array.isArray(e)?e.length>1:Object.keys(e).length>1}return!1},Z=(e,t=0)=>{if(typeof e!="object"||e===null)return ge(e);const n=" ".repeat(2*(t+1)),r=`,
`+n;if(Array.isArray(e)){const l=e;return l.length===0?"[]":l.length===1?Oe(l[0])?`[ ${Z(l[0],t+1)} ]`:`[${Z(l[0],t+1)}]`:`[ ${l.map(i=>Z(i,t+1)).join(r)} ]`}const o=e,s=Object.keys(o);if(s.length===0)return"{}";if(s.length===1){const l=s[0],i=ge(l),c=o[l];return Oe(c)?`{ ${i}:
  ${n}${Z(c,t+2)}}`:`{${i}: ${Z(c,t+1)}}`}return`{ ${Object.entries(o).map(([l,i])=>Oe(i)?`${ge(l)}:
  ${n}${Z(i,t+2)}`:`${ge(l)}: ${Z(i,t+1)}`).join(r)} }`},N=e=>e.charCodeAt(0),Je=e=>{const t=new Set;for(let n=0;n<e.length;n++)t.add(e.charCodeAt(n));return t},Vn=N(`
`),Xn=N("["),Zn=N("]"),Jn=N("{"),Qn=N("}"),er=N('"'),tr=N("'"),nr=N("\\"),rr=N("u"),or=N("x"),Bt=Je(`[]{},"':
`),sr=Je("+-0123456789."),ir=Je(`"'`),lr=new Map([[N("b"),"\b"],[N("f"),"\f"],[N("n"),`
`],[N("r"),"\r"],[N("t"),"	"]]),cr=/[-+]?((0x[0-9a-fA-F]+)|([0-9]+(\.[0-9]+)?))([eE][-+]?[0-9]+)?/y,ar=/(false|true|null)\b/iy,ur=new Map([["false",!1],["true",!0],["null",null]]),Ht=/\s*/y,Me=/[\s,]*/y,dr=/[\s:]*/y,Q=e=>e.s.charCodeAt(e.p);class fe extends Error{s;p;line;column;constructor(t,n){let r=1,o=1;for(let s=0;s<t.p;s++)t.s.charCodeAt(s)===Vn&&(r++,o=0),o++;super(`${r}:${o}: ${n}`),this.name="ParseError",this.s=t.s,this.p=t.p,this.line=r,this.column=o}}const Qe=(e,t)=>(t.lastIndex=e.p,t.exec(e.s)),te=(e,t)=>{const n=Qe(e,t);n&&(e.p+=n[0].length)},fr=e=>{e.p++,te(e,Me);const t=[];for(;e.p<e.l&&Q(e)!==Zn;)t.push(et(e)),te(e,Me);return e.p++,t},hr=e=>{e.p++,te(e,Me);const t={};for(;e.p<e.l&&Q(e)!==Qn;){let n;if(ir.has(Q(e)))n=Rt(e);else{const r=e.p;e.p=e.s.indexOf(":",e.p),e.p===-1&&(e.p=e.l),n=e.s.slice(r,e.p).trim()}te(e,dr),t[n]=et(e),te(e,Me)}return e.p++,t},gt=(e,t)=>{const n=e.s.slice(e.p+1,e.p+t+1),r=parseInt(n,16);if(e.p+=t,isNaN(r))throw new fe(e,`Invalid unicode escape '${n}'`);return String.fromCharCode(r)},Rt=e=>{const t=Q(e);e.p++;let n="";for(;e.p<e.l;e.p++){const r=Q(e);if(r===t)return e.p++,n;if(r===nr){e.p++;const o=Q(e);switch(o){case rr:n+=gt(e,4);break;case or:n+=gt(e,2);break;default:n+=lr.get(o)||String.fromCharCode(o)}}else n+=String.fromCharCode(r)}return n},gr=e=>{const t=Qe(e,cr),n=t?t[0]:"",r=n?Number(n):NaN;if(e.p+=n.length,isNaN(r))throw new fe(e,`Invalid number '${n}'`);return r},mr=(e,t)=>{const n=Qe(e,ar);if(n!==null)return e.p+=n[0].length,ur.get(n[0].toLowerCase());if(t)throw new fe(e,`Unexpected character '${e.s[e.p]}'`);const r=e.p;for(;e.p<e.l&&!Bt.has(Q(e));)e.p++;return e.s.slice(r,e.p).trim()},et=(e,t)=>{te(e,Ht);const n=Q(e);switch(n){case er:case tr:return Rt(e);case Xn:return fr(e);case Jn:return hr(e)}if(Bt.has(n))throw new fe(e,`Unexpected character '${e.s[e.p]}' for value`);return sr.has(n)?gr(e):mr(e,t)},zt=e=>{const t={s:e,p:0,l:e.length},n=et(t,!0);if(te(t,Ht),t.p<t.l)throw new fe(t,`Unexpected character '${t.s[t.p]}', expect EOF`);return n},wr=e=>{switch(e.type){case w.Alpha:return JSON.stringify(e.val,null,2);case w.Beta:return e.args.length<=0?"":`,${e.args.length}`;case w.Delta:return`${e.comment}`;case w.Lambda:return"λ";case w.Nu:{const t=e.name,n=t.module?`@${t.module}`:"",r=e.args.length<=0?"":`,${e.lhs},${Math.max(0,e.args.length-e.lhs)}`;return`${t.name}${n}${r}`}case w.Pi:{const t=e.name,n=t.module?`@${t.module}`:"",r=e.elems<=0?"":`,${e.elems}`;return`λ ${t.name}${n}${r}`}}},yr=e=>{const t=e.trim();try{return{type:w.Alpha,val:zt(t)}}catch{}switch(t[0]){case"λ":case"\\":{const r=t.slice(1).split(","),o=r[0].split("@");if(o[0]){const s=o[0]?o[0].toString().trim():"",l=o[1]?o[1].toString().trim():"";let i=parseInt(r[1]);return isNaN(i)&&(i=0),{type:w.Pi,name:{name:s,module:l},elems:i}}else return{type:w.Lambda}}default:{const r=t.split(","),o=r[0].split("@"),s=o[0]?o[0].toString().trim():"",l=o[1]?o[1].toString().trim():"";let i=parseInt(r[1]),c=parseInt(r[2]);if(s)return isNaN(i)&&(i=0),isNaN(c)&&(c=i,i=0),{type:w.Nu,name:{name:s,module:l},lhs:i,args:new Array(i+c).fill({id:""})};{const u=(isNaN(i)?0:i)+(isNaN(c)?0:c);return{type:w.Beta,args:new Array(u).fill({id:""})}}}}},mt=()=>[void 0],vr=y("<div class=toast-container>"),pr=y("<div>"),$r=["✅","⚠️","🚫"],jt=[jn],br=(e,t)=>{jt[0](e,t)},xr=e=>{const t=e.creation??jt,[n,r]=C({cnt:0,toasts:[]});return t[0]=(o,s)=>{r(l=>{const i=l.toasts,c=l.cnt,u=Math.max(200,s?.ttl??2e3),a=(h,m)=>window.setTimeout(()=>r(v=>({...v,toasts:h(v.toasts)})),m),f=a(h=>h.filter(m=>m.id!==c),u);return a(h=>h.map(m=>m.id===c?{...m,class:"toast-a-out"}:m),u-100),i.push({id:c,type:s?.type,class:"toast-a-in",message:o,timeout:f}),{cnt:l.cnt+1,toasts:i}})},(()=>{const o=vr();return g(o,d(j,{get each(){return n().toasts},children:s=>(()=>{const l=pr();return g(l,()=>s.type?$r[s.type]:"",null),g(l,()=>s.message,null),p(()=>B(l,`toast ${s.class}`)),l})()})),o})()};let qe=0;const kr=()=>{qe=0},Ut=()=>qe=(qe+57.295779513)%360,Er="hrm-c-bd-empty",_r="⎇",Fe="𝑓",wt="𝑥",Be="𝑦",Cr="𝛃",Sr="𝚫",Mr="𝛌",Dr="𝛑";var D=(e=>(e[e.Source=0]="Source",e[e.Sink=1]="Sink",e))(D||{});const He=e=>C({name:e,data:{type:0,color:Ut()}}),K=(e,t)=>C({name:e,data:{type:1,sourceID:t?.id,sourceHandle:t?.handle}}),Ir=e=>{let t=0,n;switch(e.x.type){case w.Alpha:n=[];break;case w.Beta:t=1,n=[K(Fe,e.x.fn)];for(const r in e.x.args){const o=e.x.args[r];n.push(K(r,o))}break;case w.Delta:n=[K(Be,e.x.ret)];break;case w.Lambda:n=[He(wt),K(Be,e.x.ret)];break;case w.Nu:n=e.x.args.map((r,o)=>K(String(o),r)),t=Wn(e.x.lhs,0,e.x.args.length);break;case w.Pi:n=[K(_r,e.x.fallback),He(wt)];for(let r=0;r<e.x.elems;r++)n.push(He(String(r+1)));n.push(K(Be,e.x.ret)),t=1;break}return n.lhs=t,n},Ve=e=>C({color:Ut(),angular:e.x.type===w.Alpha,data:e.x,handles:Ir(e),position:e.pos,size:{w:0,h:0},selected:!1}),me=e=>{kr();const t=new Map;for(const n of e)t.set(n.id,Ve(n));return t},yt=e=>{if(e.type===1&&e.sourceID)return{id:e.sourceID,handle:e.sourceHandle}},Nr=e=>{const t=n=>yt(e.handles[n][0]().data);switch(e.data.type){case w.Alpha:return e.data;case w.Beta:{const n=[];for(let r=1;r<e.handles.length;r++){const o=t(r);o&&n.push(o)}return{type:w.Beta,fn:t(0),args:n}}case w.Delta:return{type:w.Delta,comment:e.data.comment,ret:t(0)};case w.Lambda:return{type:w.Lambda,ret:t(1)};case w.Nu:return{type:w.Nu,name:e.data.name,lhs:e.handles.lhs,args:e.handles.reduce((n,r)=>{const o=yt(r[0]().data);return o&&n.push(o),n},[])};case w.Pi:return{type:w.Pi,name:e.data.name,elems:e.data.elems,fallback:t(0),ret:t(e.handles.length-1)}}},Gt=(e,t)=>({id:e,pos:t.position,x:Nr(t)}),Ar=e=>{const t=[];for(const[n,r]of e.entries())t.push(Gt(n,r[0]()));return t},vt=e=>{switch(e.data.type){case w.Beta:e.handles[0][1](t=>({...t,name:Fe})),e.handles[0][0]().name=Fe;for(let t=1;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t-1)}));break;case w.Nu:for(let t=0;t<e.handles.length;t++)e.handles[t][1](n=>({...n,name:String(t)}));break;default:throw"Unimplemented"}},Tr=y('<svg stroke-width="0"></svg>',2),Pr=y("<title></title>",2);function _(e,t){const n=ot(e.a,t),[r,o]=Nt(n,["src"]);return(()=>{const s=Tr.cloneNode(!0);return Pt(s,ot({get stroke(){return e.a.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},o,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},get innerHTML(){return e.c},xmlns:"http://www.w3.org/2000/svg"}),!0,!0),g(s,()=>En,null),g(s,(()=>{const l=E(()=>!!t.title);return()=>l()&&(()=>{const i=Pr.cloneNode(!0);return g(i,()=>t.title),i})()})(),null),s})()}function Lr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-back-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 14l-4 -4l4 -4"/><path d="M5 10h11a4 4 0 1 1 0 8h-1"/>'},e)}function Or(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-forward-up",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 14l4 -4l-4 -4"/><path d="M19 10h-11a4 4 0 1 0 0 8h1"/>'},e)}function Xe(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-backspace",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 6a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-11l-5 -5a1.5 1.5 0 0 1 0 -2l5 -5z"/><path d="M12 10l4 4m0 -4l-4 4"/>'},e)}function Kt(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-binary-tree",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 4a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M16 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M11 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M21 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"/><path d="M5.058 18.306l2.88 -4.606"/><path d="M10.061 10.303l2.877 -4.604"/><path d="M10.065 13.705l2.876 4.6"/><path d="M15.063 5.7l2.881 4.61"/>'},e)}function Br(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-clipboard",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"/><path d="M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"/>'},e)}function Hr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-copy",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"/><path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"/>'},e)}function Rr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-deselect",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 8h3a1 1 0 0 1 1 1v3"/><path d="M16 16h-7a1 1 0 0 1 -1 -1v-7"/><path d="M12 20v.01"/><path d="M16 20v.01"/><path d="M8 20v.01"/><path d="M4 20v.01"/><path d="M4 16v.01"/><path d="M4 12v.01"/><path d="M4 8v.01"/><path d="M8 4v.01"/><path d="M12 4v.01"/><path d="M16 4v.01"/><path d="M20 4v.01"/><path d="M20 8v.01"/><path d="M20 12v.01"/><path d="M20 16v.01"/><path d="M3 3l18 18"/>'},e)}function zr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-edit",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"/><path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"/><path d="M16 5l3 3"/>'},e)}function jr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-folder-search",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 19h-6a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2.5"/><path d="M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M20.2 20.2l1.8 1.8"/>'},e)}function Ur(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-rocket",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"/><path d="M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"/><path d="M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/>'},e)}function Gr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-scissors",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M6 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"/><path d="M8.6 8.6l10.4 10.4"/><path d="M8.6 15.4l10.4 -10.4"/>'},e)}function Kr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-check",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l2 2l4 -4"/>'},e)}function Wt(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-plus",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M9 12l6 0"/><path d="M12 9l0 6"/>'},e)}function Wr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/><path d="M10 10l4 4m0 -4l-4 4"/>'},e)}function Yr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12"/><path d="M6 6l12 12"/>'},e)}function qr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in-area",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 13v4"/><path d="M13 15h4"/><path d="M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"/><path d="M22 22l-3 -3"/><path d="M6 18h-1a2 2 0 0 1 -2 -2v-1"/><path d="M3 11v-1"/><path d="M3 6v-1a2 2 0 0 1 2 -2h1"/><path d="M10 3h1"/><path d="M15 3h1a2 2 0 0 1 2 2v1"/>'},e)}function Fr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-in",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M10 7l0 6"/><path d="M21 21l-6 -6"/>'},e)}function Vr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-out",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"/><path d="M7 10l6 0"/><path d="M21 21l-6 -6"/>'},e)}function Xr(e){return _({a:{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-zoom-reset",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c:'<path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 21l-6 -6"/><path d="M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"/><path d="M3 4v4h4"/>'},e)}const Zr=8,Jr=300,Qr=750,eo=window.setTimeout,to=window.clearTimeout,pt=e=>({shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey}),ne=(e,t)=>{const n={pointers:new Map,maxPointers:0,lastClicked:0},r=s=>{n.longPress&&n.longPress.id===s&&(to(n.longPress.u),n.longPress=void 0),n.pointers.delete(s)},o={pointerenter:s=>{e.onEnter?.(s.pointerId)},pointercancel:s=>{r(s.pointerId),e.onCancel?.(s.pointerId)},pointerleave:s=>{r(s.pointerId),e.onLeave?.(s.pointerId)},pointerdown:s=>{s.preventDefault(),s.stopPropagation();const l=s.pointerId;e.onDown?.({id:l,x:s.clientX,y:s.clientY,pointers:n.pointers.size,modifiers:pt(s)}),s.target.releasePointerCapture(l),e.capture?(console.log("CAPTURE"),s.currentTarget.setPointerCapture(l)):(console.log("RELEASE"),s.currentTarget.releasePointerCapture(l));const i={id:l,x:s.clientX,y:s.clientY,moved:!1,timestamp:Date.now()};r(s.pointerId),n.pointers.set(l,i),n.maxPointers=Math.max(n.maxPointers,n.pointers.size),n.pointers.size===1&&(n.longPress={id:l,x:s.clientX,y:s.clientY,u:eo(()=>{n.longPress&&n.pointers.size===1&&n.pointers.has(l)&&!n.pointers.get(l).moved&&(n.longPress=void 0,e.onLongPress?.({id:l,x:s.clientX,y:s.clientY}),n.pointers.delete(l))},Qr)})},pointermove:s=>{s.preventDefault(),s.stopPropagation();const l=s.pointerId;e.onMove?.({id:l,x:s.clientX,y:s.clientY});const i=n.pointers.get(l);if(!i)return;const c=s.clientX-i.x,u=s.clientY-i.y;if(!i.moved&&Se(c,u)<Zr)return;const a={id:l,x:s.clientX,y:s.clientY,ox:i.x,oy:i.y,dx:c,dy:u},[f,h]=n.pointers.keys();h&&(a.pivot=n.pointers.get(f===l?h:f)),i.moved=!0,i.x=s.clientX,i.y=s.clientY,e.onDrag?.(a)},pointerup:s=>{s.preventDefault(),s.stopPropagation();const l=s.pointerId,i={id:l,x:s.clientX,y:s.clientY,pointers:n.maxPointers,modifiers:pt(s)};if(e.onUp?.(i),!n.pointers.get(l))return;r(s.pointerId);const u=Date.now();n.pointers.size===0&&(e.onClick?.(i),u-n.lastClicked<Jr&&e.onDoubleClick?.(i),n.lastClicked=u,n.maxPointers=0)}};for(const[s,l]of Object.entries(o))t.addEventListener(s,l,{passive:!1})},no=y('<div class="hrm-pane w-100 h-100"><div class=hrm-view></div><div class=hrm-pane-controls>'),ro=y("<button>"),$t=e=>`translate(${e.x}px, ${e.y}px) scale(${e.z})`,oo=e=>{let t;const[n,r]=C({x:0,y:0,z:1}),o=(i,c,u)=>r(a=>({x:a.x*u+i,y:a.y*u+c,z:a.z*u}));e.g.transform[0]=n,e.g.transform[1]=r,q(()=>{t&&ne({capture:!0,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onLongPress:e.onLongPress,onDrag:i=>{const c=i.pivot;if(c){const u=Math.sqrt(Se(c.x-i.x,c.y-i.y)/Se(c.x-i.ox,c.y-i.oy)),a=u-1;o((i.dx-(c.x+i.ox)*a)/2,(i.dy-(c.y+i.oy)*a)/2,u)}else o(i.dx,i.dy,1)}},t)});const s=1.1,l=[[d(Fr,{}),()=>o((t?.offsetWidth??0)*(1-s)/2,(t?.offsetHeight??0)*(1-s)/2,s)],[d(Vr,{}),()=>o((t?.offsetWidth??0)*(1-1/s)/2,(t?.offsetHeight??0)*(1-1/s)/2,1/s)],[d(Xr,{}),()=>r(()=>({x:0,y:0,z:1}))],[d(qr,{}),()=>{const i=e.g.usedRect(),c=e.g.size();if(!i||!c)return;i.w=Math.max(i.w,1),i.h=Math.max(i.h,1);const u=c.w/i.w,a=c.h/i.h,f=Math.min(u,a),h=-i.x*f+(c.w-i.w*f)/2,m=-i.y*f+(c.h-i.h*f)/2;r({x:h,y:m,z:f})}]];return q(()=>{if(t){t.addEventListener("wheel",i=>{if(t)if(i.preventDefault(),i.ctrlKey||i.metaKey){const c=Math.pow(2,i.deltaY/-100),u=t.getBoundingClientRect();o((i.clientX-u.left)*(1-c),(i.clientY-u.top)*(1-c),c)}else o(-i.deltaX,-i.deltaY,1)},{passive:!1});for(const[,i,c]of l)c&&ne({capture:!0,onClick:i},c)}}),(()=>{const i=no(),c=i.firstChild,u=c.nextSibling,a=t;typeof a=="function"?R(a,i):t=i;const f=e.g.viewRef;return typeof f=="function"?R(f,c):e.g.viewRef=c,g(c,()=>e.children),g(u,d(j,{each:l,children:h=>(()=>{const m=ro(),v=h[2];return typeof v=="function"?R(v,m):h[2]=m,g(m,()=>h[0]),m})()})),p(()=>$t(n())!=null?c.style.setProperty("transform",$t(n())):c.style.removeProperty("transform")),i})()},so=y("<div>"),io=e=>{const[t,n]=e.handleW;let r;return q(()=>{r&&(t(),n(o=>{let s,l;if(o.data.type===D.Source)s=o.data.color,l=e.g.nodeColorBd(s);else if(o.data.sourceID){const i=e.g.nodes().get(o.data.sourceID);if(i){const c=i[0]();s=c.color,o.data.sourceHandle!==void 0&&(s=c.handles[o.data.sourceHandle][0]().color??s),l=e.g.nodeColorBg(s)}}return s===o.color&&o.ref===r?o:{...o,ref:r,color:s,style:l}}))}),q(()=>{r&&ne({capture:!1,onEnter:o=>{const s=e.g.connectingEdge[0]();s&&s.pointerID===o&&t().data.type===D.Source!==s.isSource&&e.g.setTempConnectingEnd(e.nodeID,r,e.handleID)},onLeave:()=>{e.g.connectingEnd[0]().ref===r&&e.g.unsetTempConnectingEnd(r)},onDown:o=>{e.g.addConnectingEnd(o.id,e.nodeID,e.handleID,e.g.viewPos(o.x,o.y))},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)},onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},r)}),(()=>{const o=so(),s=r;return typeof s=="function"?R(s,o):r=o,g(o,()=>t().name),p(l=>{const i=`hrm-node-item hrm-handle ${t().style?"":Er}`,c=t().style;return i!==l._v$&&B(o,l._v$=i),l._v$2=ce(o,c,l._v$2),l},{_v$:void 0,_v$2:void 0}),o})()},lo=y("<div class=hrm-node-name-module>"),co=y("<div class=hrm-node-name><div class=hrm-node-name-name>"),ao=y("<div class=hrm-node-mark>"),uo=y("<div class=hrm-node-json>"),fo=y('<pre class="hrm-node-comment no-user-select no-pointer-events">'),ho=y('<div class="hrm-node-item hrm-node-body">'),bt=e=>(()=>{const t=co(),n=t.firstChild;return g(n,()=>e.name.name),g(t,d(J,{get when(){return e.name.module},get children(){const r=lo();return g(r,()=>"@"+e.name.module),r}}),null),t})(),we=e=>(()=>{const t=ao();return g(t,()=>e.mark),t})(),go=e=>{const t={[w.Alpha]:()=>(()=>{const n=uo();return g(n,()=>Z(e.data.val)),n})(),[w.Beta]:()=>d(we,{mark:Cr}),[w.Delta]:()=>[d(we,{mark:Sr}),d(J,{get when(){return e.data.comment},get children(){const n=fo();return g(n,()=>e.data.comment),n}})],[w.Lambda]:()=>d(we,{mark:Mr}),[w.Nu]:()=>d(bt,{get name(){return e.data.name}}),[w.Pi]:()=>[d(we,{mark:Dr}),d(bt,{get name(){return e.data.name}})]};return(()=>{const n=ho();return g(n,d(Sn,{get component(){return t[e.data.type]}})),n})()},mo=y("<div>"),xt=e=>{let t;return q(()=>{t&&ne({onEnter:n=>{const r=e.g.connectingEdge[0]();r&&r.pointerID===n&&r.isSource&&e.g.setTempConnectingEnd(e.nodeID,t,e.handleID)},onLeave:()=>{e.g.connectingEnd[0]().ref===t&&e.g.unsetTempConnectingEnd(t)},onUp:()=>{e.g.finConnecting(e.nodeID,e.handleID)}},t)}),(()=>{const n=mo(),r=t;return typeof r=="function"?R(r,n):t=n,p(()=>B(n,`hrm-node-item hrm-handle-new ${e.handleID<0?"lhs":"rhs"}`)),n})()},wo=y("<div class=hrm-node-handle>"),yo=y('<div class="hrm-node abs-lt"><div class="hrm-node-row no-user-select">'),vo=e=>{const[t,n]=e.nodeW;console.log("[HrmNode] render");let r,o;q(()=>{if(!r)return;const i=r;n(c=>({...c,ref:i,size:{w:i.offsetWidth,h:i.offsetHeight},selected:!1})),ne({capture:!0,onEnter:c=>{const u=e.g.connectingEdge[0]();u&&u.pointerID===c&&!u.isSource&&e.g.setTempConnectingEnd(e.id,r,void 0)},onLeave:()=>{e.g.connectingEnd[0]().ref===o&&e.g.unsetTempConnectingEnd(o)},onUp:c=>{e.g.connectingEdge[0]()&&e.g.addConnectingEnd(c.id,e.id,void 0,e.g.viewPos(c.x,c.y))},onClick:()=>{e.g.selectOneNode(e.id)},onDrag:c=>{e.g.translateSelectedNodes(e.id,c.dx,c.dy,e.g.transform[0]().z)},onDoubleClick:()=>{setTimeout(()=>{e.g.editNode(e.id)},100)}},r)}),q(()=>{o&&ne({onDown:i=>{e.g.addConnectingEnd(i.id,e.id,void 0,e.g.viewPos(i.x,i.y))}},o)});const s=(i,c)=>d(io,{get g(){return e.g},get nodeID(){return e.id},get node(){return t()},get handleID(){return c()},handleW:i}),l=(i,c)=>s(i,()=>c()+t().handles.lhs);return(()=>{const i=yo(),c=i.firstChild,u=r;return typeof u=="function"?R(u,i):r=i,g(i,d(J,{get when(){return Yn.has(t().data.type)},get children(){return d(xt,{get g(){return e.g},get nodeID(){return e.id},handleID:-1/0,get node(){return t()}})}}),c),g(c,d(j,{get each(){return t().handles.slice(0,t().handles.lhs)},children:s}),null),g(c,d(go,{get data(){return t().data}}),null),g(c,d(j,{get each(){return t().handles.slice(t().handles.lhs)},children:l}),null),g(i,d(J,{get when(){return qn.has(t().data.type)},get children(){return d(xt,{get g(){return e.g},get nodeID(){return e.id},handleID:1/0,get node(){return t()}})}}),null),g(i,d(J,{get when(){return!$e.has(t().data.type)},get children(){const a=wo(),f=o;return typeof f=="function"?R(f,a):o=a,a}}),null),p(a=>{const f=!!t().selected,h=!!t().angular,m=!t().angular,v={left:`${t().position.x}px`,top:`${t().position.y}px`,...e.g.nodeColorBd(t().color)};return f!==a._v$&&i.classList.toggle("selected",a._v$=f),h!==a._v$2&&i.classList.toggle("hrm-rect",a._v$2=h),m!==a._v$3&&i.classList.toggle("hrm-pill",a._v$3=m),a._v$4=ce(i,v,a._v$4),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),i})()},po=y('<svg><path class="hrm-edge-path hrm-edge-path-bd"stroke-width=6px fill=transparent></svg>',!1,!0),$o=y("<svg><path class=hrm-edge-path stroke-width=3px fill=transparent></svg>",!1,!0),bo=y("<svg><path class=cursor-pointer stroke-width=1rem fill=transparent></svg>",!1,!0),xo=e=>{console.log("[HrmEdge] render");let t;const[n]=e.nodeW,[r]=e.handleW,o=E(()=>{console.log("[HrmEdge] Effect (path)"),n();const l=r();if(l.data.type!==D.Sink)return"";const i=l.data.sourceID,c=l.data.sourceHandle;if(i===void 0)return"";const u=e.g.viewRectOf(i,c),a=e.g.viewRect(l.ref);return!u||!a?"":e.nodeID===i?[ht(u,a),ht(u,a)]:[Ye(u,a,.5),Ye(u,a,-.5)]});q(()=>{if(t)return ne({onDoubleClick:()=>{e.g.deleteEdge(e.nodeID,e.handleID)}},t)});const s=()=>{const l=r().color;return l?e.g.nodeColorStroke(l):{}};return[(()=>{const l=po();return p(()=>Y(l,"d",o()[1])),l})(),(()=>{const l=$o();return p(i=>{const c=s(),u=o()[0];return i._v$=ce(l,c,i._v$),u!==i._v$2&&Y(l,"d",i._v$2=u),i},{_v$:void 0,_v$2:void 0}),l})(),(()=>{const l=bo(),i=t;return typeof i=="function"?R(i,l):t=l,p(()=>Y(l,"d",o()[0])),l})()]},ko=e=>{const[t]=e.handleW;return d(J,{get when(){return E(()=>t().data.type===D.Sink)()&&t().data.sourceID},get children(){return d(xo,e)}})},Eo=e=>{const[t]=e.nodeW;return d(j,{get each(){return t().handles},children:(n,r)=>d(ko,{get g(){return e.g},get nodeW(){return e.nodeW},handleW:n,get nodeID(){return e.id},get handleID(){return r()}})})},_o=y('<svg class="hrm-edges no-user-select no-pointer-events">'),Co=e=>[d(j,{get each(){return[...e.g.nodes()]},children:([t,n])=>d(vo,{get g(){return e.g},id:t,nodeW:n})}),(()=>{const t=_o();return g(t,d(j,{get each(){return[...e.g.nodes()]},children:([n,r])=>d(Eo,{get g(){return e.g},id:n,nodeW:r})})),t})()],So=(e,t,n)=>.299*e+.587*t+.114*n,Re=(e,t,n)=>{n<0&&(n+=1),n>1&&(n-=1);let r;return n<1/2?(r=t,n<1/6&&(r=e+(t-e)*6*n)):(r=e,n<2/3&&(r=e+(t-e)*(2/3-n)*6)),Math.round(r*255)},Mo=(e,t,n)=>{if(t===0)return[n,n,n];const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;return[Re(o,r,e+1/3),Re(o,r,e),Re(o,r,e-1/3)]},ze=(e,t,n)=>`hsl(${e}, ${t*100}%, ${n*100}%)`;class Do{nodes;setNodes;transform;rootRef;viewRef;editingNode;connectingEdge;connectingEnd;history;historyIndex;selectMode=!1;constructor(t){t||(t=[]);const[n,r]=C(me(t),{equals:!1});this.nodes=n,this.setNodes=r,this.editingNode=C(),this.connectingEdge=C(),this.connectingEnd=C({pos:dt}),this.transform=[()=>({x:0,y:0,z:1}),()=>{}],this.history=[t],this.historyIndex=0}thaw(t){this.setNodes(me(t)),this.history=[t],this.historyIndex=0}freeze(){return Ar(this.nodes())}getSL(){const t=getComputedStyle(document.documentElement),n=Number(t.getPropertyValue("--hrm-node-saturate")),r=Number(t.getPropertyValue("--hrm-node-lightness"));return[n,r]}nodeColorBg(t){const[n,r]=this.getSL(),o=So(...Mo(t,n,r))>192?"#000":"#fff",s=ze(t,n,r);return{color:o,"background-color":s,"border-color":s}}nodeColorBd(t){const[n,r]=this.getSL();return{"border-color":ze(t,n,r)}}nodeColorStroke(t){const[n,r]=this.getSL();return{stroke:ze(t,n,r)}}saveHistory(){this.historyIndex++,this.history.length>this.historyIndex&&(this.history=this.history.slice(0,this.historyIndex)),this.history.push(this.freeze())}undo(){this.historyIndex>0&&this.setNodes(me(this.history[--this.historyIndex]))}redo(){this.historyIndex<this.history.length-1&&this.setNodes(me(this.history[++this.historyIndex]))}size(){if(!this.rootRef)return;const t=this.rootRef.getBoundingClientRect();return{w:t.width,h:t.height}}viewPos(t,n){if(!this.viewRef)return;const r=this.viewRef.getBoundingClientRect(),o=A(this.transform[0]);return{x:(t-r.left)/o.z,y:(n-r.top)/o.z}}viewRect(t){if(!t||!this.viewRef)return;const n=this.viewRef.getBoundingClientRect(),r=t.getBoundingClientRect(),o=A(this.transform[0]);return{x:(r.left-n.left)/o.z,y:(r.top-n.top)/o.z,w:r.width/o.z,h:r.height/o.z}}usedRect(){const t={x:0,y:0,w:0,h:0};for(const[,n]of this.nodes()){const r=n[0](),o=r.position,s=r.size;t.x>o.x&&(t.w+=t.x-o.x,t.x=o.x),t.y>o.y&&(t.h+=t.y-o.y,t.y=o.y),t.w=Math.max(t.w,o.x+s.w-t.x),t.h=Math.max(t.h,o.y+s.h-t.y)}return t}viewRectOf(t,n){const r=this.nodes().get(t);if(!r)return;const o=r[0]();if(n===void 0){const l=this.viewRect(o.ref);return l?{...l,angular:o.angular}:void 0}const s=o.handles[n][0]().ref;if(s)return this.viewRect(s)}addEmptyNode(t){if(!t){const o=this.transform[0](),s=this.rootRef;if(!s)t={x:0,y:0};else{const l=s.getBoundingClientRect();t={x:(l.width/2-o.x)/o.z,y:(l.height/2-o.y)/o.z}}}const n={type:w.Beta,args:[]},r={id:Kn(),pos:t,x:n};return this.setNodes(o=>(o.set(r.id,Ve(r)),o)),this.saveHistory(),r.id}translateSelectedNodes(t,n,r,o){for(const[s,l]of this.nodes())l[1](i=>s!==t&&!i.selected?i:{...i,position:{x:i.position.x+n/o,y:i.position.y+r/o}})}selectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?n:{...n,selected:!0})}deselectAll(){for(const[,t]of this.nodes())t[1](n=>n.selected?{...n,selected:!1}:n)}selectOneNode(t){for(const[n,r]of this.nodes())n===t?r[1](o=>({...o,selected:!o.selected})):this.selectMode||r[1](o=>o.selected?{...o,selected:!1}:o)}deleteSelectedNodes(){this.setNodes(t=>{const n=new Set;for(const[r,o]of t){const s=o[0]();s.selected&&!$e.has(s.data.type)&&n.add(r)}for(const[r,o]of t)if(n.has(r))t.delete(r);else{const l=o[0]().handles;for(const[,i]of l)i(c=>{if(c.data.type===D.Sink){const u=c.data.sourceID;if(u&&n.has(u))return{...c,data:{type:D.Sink}}}return c})}return t}),this.saveHistory()}deleteEdge(t,n){const r=this.nodes().get(t);r&&r[0]().handles[n][1](o=>o.data.type!==D.Sink?o:{...o,data:{type:D.Sink}})}resetConnectingState(){oe(()=>{this.connectingEdge[1](void 0),this.connectingEnd[1]({pos:dt})})}setTempConnectingEnd(t,n,r){oe(()=>{const o=this.connectingEdge[0]();o&&(o.nodeID!==t||o.handleID!==r)&&this.connectingEnd[1](s=>({...s,ref:n}))})}unsetTempConnectingEnd(t){oe(()=>{this.connectingEdge[0]()&&this.connectingEnd[1](r=>r.ref===t?{...r,ref:void 0}:r)})}finConnecting(t,n){const r=this.connectingEdge[0]();r&&(r.nodeID!==t||r.handleID!==n)&&(r.isSource&&n!==void 0?this.connectEdge(t,n,r.nodeID,r.handleID):!r.isSource&&r.handleID!==void 0&&this.connectEdge(r.nodeID,r.handleID,t,n))}makeLeftHandle(t){const n=this.nodes().get(t);return n&&(n[1](r=>(r.handles.unshift(K("")),r.handles.lhs++,{...r})),vt(n[0]())),0}makeRightHandle(t){const n=this.nodes().get(t);if(!n)return 0;const r=n[0](),o=r.handles.length;return n[1](s=>(s.handles.push(K("")),{...s})),vt(r),o}connectEdge(t,n,r,o){oe(()=>{n===-1/0&&(n=this.makeLeftHandle(t)),n===1/0&&(n=this.makeRightHandle(t));const s=this.nodes(),l=s.get(t),i=s.get(r);if(!l||!i)return;if(o===void 0){if($e.has(i[0]().data.type))return}else{const u=i[0]().handles[o];if(!u||u[0]().data.type!==D.Source)return}l[0]().handles[n][1](u=>u.data.type!==D.Sink?u:{...u,data:{type:D.Sink,sourceID:r,sourceHandle:o}}),this.resetConnectingState(),this.saveHistory()})}updateConnectingEnd(t){this.connectingEnd[1](n=>({...n,pos:t}))}addConnectingEnd(t,n,r,o){const s=this.nodes().get(n);if(!s)return;const[l]=s;let i=!0;if(r!==void 0){const u=l().handles[r];if(!u)return;i=u[0]().data.type===D.Source}const c=this.connectingEdge[0]();if(c&&c.nodeID===n&&c.handleID===r){this.resetConnectingState();return}if(c&&!i===c.isSource)return i?this.connectEdge(c.nodeID,c.handleID,n,r):this.connectEdge(n,r,c.nodeID,c.handleID);oe(()=>{this.connectingEdge[1]({pointerID:t,isSource:i,nodeID:n,handleID:r}),o&&this.connectingEnd[1](u=>({...u,pos:o}))})}editNode(t){const n=this.nodes().get(t);n&&!$e.has(n[0]().data.type)&&this.editingNode[1]({node:Gt(t,n[0]()),color:n[0]().color})}applyEditNode(t){oe(()=>{const n=this.editingNode[0]();if(!n)return;const r=n.node.id,o=yr(t),s={...n.node,x:o},l=Ve(s),i=this.nodes().get(r);if(!i)return;l[1](a=>({...a,color:i[0]().color}));const c=i?i[0]().handles:[],u=l[0]().handles;for(let a=0;a<u.length;a++){const f=c[a];u[a][1](h=>{if(h.data.type!==D.Sink)return h;const m={type:D.Sink};if(f){const v=f[0]().data;v.type===D.Sink&&(m.sourceID=v.sourceID,m.sourceHandle=v.sourceHandle)}return{...h,data:m}})}this.setNodes(a=>(a.set(r,l),a)),this.editingNode[1](void 0)})}cancelEditNode(){this.editingNode[1](void 0)}}const Io=y('<svg class="hrm-edges no-user-select no-pointer-events"><path class="hrm-edge-path hrm-c-stroke-empty"stroke-width=2px fill=transparent>'),No=y("<div>"),Ao=e=>{const t=()=>{const s=e.g.connectingEdge[0]();return s?e.g.viewRectOf(s.nodeID,s.handleID):void 0},n=()=>{const s=e.g.connectingEdge[0]();if(!s)return;const l=e.g.connectingEnd[0](),i=e.g.nodes().get(s.nodeID),c=e.g.viewRectOf(s.nodeID,s.handleID);if(!i||!c)return;const u=e.g.viewRect(l.ref);if(u)return Ye(c,u,0)},r=()=>t()?.angular?"hrm-rect":"hrm-pill",o=()=>{const s=t();if(s)return{visibility:"visible",left:`${s.x}px`,top:`${s.y}px`,width:`${s.w}px`,height:`${s.h}px`}};return[(()=>{const s=Io(),l=s.firstChild;return p(()=>Y(l,"d",n())),s})(),(()=>{const s=No();return p(l=>{const i=`hrm-editing-edge-handle no-pointer-events ${r()}`,c=o();return i!==l._v$&&B(s,l._v$=i),l._v$2=ce(s,c,l._v$2),l},{_v$:void 0,_v$2:void 0}),s})()]},To=y("<div class=code-area><textarea></textarea><textarea>"),Po=10,tt=(e,t)=>{for(;t>0&&e.charCodeAt(t-1)!==Po;t--);return t},Lo=(e,t,n)=>{const r=tt(e,t),o=e.substring(r,n).split(`
`);return{value:e.substring(0,r)+"  "+o.join(`
  `)+e.substring(n),start:t+2,end:n+2*o.length}},Oo=(e,t,n)=>{const r=tt(e,t),o=e.substring(r,n).split(`
`);let s=t,l=n;for(let i=0;i<o.length;i++)o[i].startsWith("  ")?(i===0&&(s-=2),l-=2,o[i]=o[i].substring(2)):o[i].startsWith("	")&&(i===0&&(s-=1),l-=1,o[i]=o[i].substring(1));return{value:e.substring(0,r)+o.join(`
`)+e.substring(n),start:s,end:l}},Bo=e=>{let t;const n=i=>{e.autoresize&&t&&(t.value=i.value,t.style.width=i.style.width,i.style.height=t.scrollHeight+"px")},r=i=>{switch(e.onKeyDown&&e.onKeyDown(i),i.key){case"Tab":{i.preventDefault();const c=i.currentTarget,u=(i.shiftKey?Oo:Lo)(c.value,c.selectionStart,c.selectionEnd);c.value=u.value,c.selectionStart=u.start,c.selectionEnd=u.end}break;case"Enter":{i.preventDefault();const c=i.currentTarget,u=c.selectionStart,a=c.value,f=/[ \t]*/y;f.lastIndex=tt(a,u-1);const h=f.exec(a)?.[0]??"";c.value=a.substring(0,u)+`
`+h+a.substring(c.selectionEnd),c.selectionStart=u+1+h.length,c.selectionEnd=u+1+h.length}break}n(i.target)},o=i=>{e.onInput&&e.onInput(i)},s=i=>{e.onChange&&e.onChange(i)},l=i=>{n(i.currentTarget)};return(()=>{const i=To(),c=i.firstChild,u=c.nextSibling;c.$$keydown=r,c.$$input=o,c.addEventListener("change",s),c.addEventListener("focus",l);const a=e.ref;typeof a=="function"?R(a,c):e.ref=c;const f=t;return typeof f=="function"?R(f,u):t=u,u.disabled=!0,p(h=>{const m=e.autofocus,v=e.disabled,z=`form-control ${e.class??""}`,U=e.placeholder,G=`form-control abs-lt ${e.class??""} code-area-hidden no-pointer-events no-user-select`;return m!==h._v$&&(c.autofocus=h._v$=m),v!==h._v$2&&(c.disabled=h._v$2=v),z!==h._v$3&&B(c,h._v$3=z),U!==h._v$4&&Y(c,"placeholder",h._v$4=U),G!==h._v$5&&B(u,h._v$5=G),h},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),p(()=>c.value=e.value),i})()};V(["input","keydown"]);const Ho=y("<button class=suggest>"),Ro=y("<div class=suggests>"),zo=y("<div class=hrm-edit-overlay>"),jo=e=>(()=>{const t=Ho();return t.$$click=()=>alert(e.label),g(t,()=>e.label),t})(),Uo=e=>(()=>{const t=Ro();return g(t,d(j,{get each(){return e.items},children:n=>d(jo,n)})),t})(),Go=e=>{let t,n;return q(()=>{if(t){const r=["mousedown","touchstart","pointerdown","wheel"],o=s=>s.stopPropagation();for(const s of r)t.addEventListener(s,o)}}),(()=>{const r=zo(),o=t;return typeof o=="function"?R(o,r):t=r,g(r,d(Ze,{class:"shadow-1 w-fit mb-1",get children(){return[d(M,{get color(){return b.success},onClick:()=>e.g.applyEditNode(n?n.value:""),get children(){return d(Kr,{})}}),d(M,{get color(){return b.warning},onClick:()=>{n.value="",n.focus()},get children(){return d(Xe,{})}}),d(M,{get color(){return b.danger},onClick:()=>e.g.cancelEditNode(),get children(){return d(Wr,{})}})]}}),null),g(r,d(Bo,{ref(s){const l=n;typeof l=="function"?l(s):n=s},autofocus:!0,autoresize:!0,class:"shadow-1",placeholder:"[NODE DATA]",get value(){return wr(e.node.x)},onInput:s=>{console.log(zt(s.currentTarget.value))}}),null),g(r,d(Uo,{items:[{label:"beta",text:"beta"},{label:"gamma",text:"gamma"},{label:"delta",text:"delta"},{label:"epsilon",text:"epsilon"},{label:"omega",text:"omega"},{label:"alpha",text:"alpha"},{label:"{",text:"{"},{label:"beta",text:"beta"},{label:"gamma",text:"gamma"},{label:"delta",text:"delta"},{label:"epsilon",text:"epsilon"},{label:"omega",text:"omega"},{label:"alpha",text:"alpha"},{label:"{",text:"{"}]}),null),p(s=>ce(r,{...e.g.nodeColorBd(e.color),transform:`translate(${e.node.pos.x-16}px, ${e.node.pos.y-16}px)`},s)),r})()},Ko=e=>d(J,{get when(){return e.g.editingNode[0]()},get children(){return d(Go,{get g(){return e.g},get color(){return e.g.editingNode[0]().color},get node(){return e.g.editingNode[0]().node}})}});V(["click"]);const Wo=y('<div class="hrm-container w-100 h-100">'),Yo=e=>{const t=new Do(e.initialNodes);return e.stateBox&&(e.stateBox[0]=t),(()=>{const n=Wo(),r=t.rootRef;return typeof r=="function"?R(r,n):t.rootRef=n,g(n,d(oo,{g:t,onClick:()=>t.deselectAll(),onDoubleClick:o=>{const s=t.viewPos(o.x,o.y),l=t.addEmptyNode(s);setTimeout(()=>{t.editNode(l)},30)},onLongPress:()=>{br("[Hrm] Long press")},get children(){return[d(Co,{g:t}),d(Ao,{g:t}),d(Ko,{g:t})]}})),n})()},qo=y("<div class=editor-root-hrm>"),Fo=e=>(()=>{const t=qo();return g(t,d(Yo,{get initialNodes(){return Fn()},get stateBox(){return e.stateBox}})),t})(),Vo=y("<div class=dropdown><button></button><div>"),Xo=y("<hr>"),Zo=e=>{const[t,n]=C(!1);return(()=>{const r=Vo(),o=r.firstChild,s=o.nextSibling;return o.$$click=()=>{n(!t())},g(o,()=>e.children),s.$$click=()=>{n(!1)},g(s,d(j,{get each(){return e.list},children:(l,i)=>[d(J,{get when(){return i()>0},get children(){return Xo()}}),d(j,{each:l,children:c=>c})]})),p(l=>{const i=`btn btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`,c=`dropdown-menu ${t()?"visible":"hidden"}`;return i!==l._v$&&B(o,l._v$=i),c!==l._v$2&&B(s,l._v$2=c),l},{_v$:void 0,_v$2:void 0}),r})()};V(["click"]);const Jo=y("<a> <!> "),je=y("<a> ");var de=function(e){return e[e.Add=0]="Add",e[e.Edit=1]="Edit",e}(de||{});const Yt=()=>[{name:H("mainEditor.menu.addTools"),icon:d(Wt,{})},{name:H("mainEditor.menu.selectTools"),icon:d(zr,{})}],Qo=e=>Yt()[e].icon,es=(e,t)=>{switch(e){case de.Add:return[d(M,{get color(){return b.warning},onClick:()=>t[0]?.undo(),get children(){return d(Lr,{})}}),d(M,{get color(){return b.warning},onClick:()=>t[0]?.redo(),get children(){return d(Or,{})}}),d(M,{get color(){return b.secondary},class:"flex-1",onClick:()=>t[0]?.addEmptyNode(),get children(){return d(Wt,{})}}),d(M,{get color(){return b.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return d(Xe,{})}})];case de.Edit:return[d(M,{get color(){return b.warning},class:"flex-1",onClick:()=>t[0]?.deselectAll(),get children(){return d(Rr,{})}}),d(M,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return d(Gr,{})}}),d(M,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return d(Hr,{})}}),d(M,{get color(){return b.secondary},class:"flex-1",onClick:()=>alert("unimpl"),get children(){return d(Br,{})}}),d(M,{get color(){return b.danger},class:"flex-1",onClick:()=>t[0]?.deleteSelectedNodes(),get children(){return d(Xe,{})}})]}},ts=(e,t)=>Yt().map((n,r)=>(()=>{const o=Jo(),s=o.firstChild,l=s.nextSibling;return l.nextSibling,o.$$click=()=>{t(i=>({...i,toolSet:r})),e[0]&&(e[0].selectMode=r===de.Edit)},g(o,()=>n.icon,l),g(o,()=>n.name,null),o})()),ns=e=>{const[t,n]=C({toolSet:de.Add}),r=()=>[ts(e.stateBox,n),[(()=>{const o=je(),s=o.firstChild;return g(o,d(jr,{}),s),g(o,()=>H("mainEditor.menu.browser"),null),o})(),(()=>{const o=je(),s=o.firstChild;return g(o,d(Ur,{}),s),g(o,()=>H("mainEditor.menu.launch"),null),o})(),(()=>{const o=je(),s=o.firstChild;return o.$$click=()=>e.modalActionsBox?.[0]?.openGraphTools(),g(o,d(Kt,{}),s),g(o,()=>H("mainEditor.menu.graphTools"),null),o})()]];return d(Ze,{class:"editor-root-hrm-header shadow-2",get children(){return[d(Zo,{get color(){return b.primary},get list(){return r()},get children(){return Qo(t().toolSet)}}),E(()=>es(t().toolSet,e.stateBox))]}})};V(["click"]);const rs=y("<div>"),os=e=>(()=>{const t=rs();return g(t,()=>e.children),p(()=>B(t,`form-control btn-${e.outline?"ol-":""}${e.color} ${e.class??""}`)),t})();const ss=y('<div class=m-modal><div class="m-modal-content m-modal-content-stick-to-center">'),is=e=>{const t=n=>{e.onClose&&n.target===n.currentTarget&&e.onClose()};return(()=>{const n=ss(),r=n.firstChild;return n.$$click=t,g(r,()=>e.children),p(()=>r.classList.toggle("h-100",!!e.fullHeight)),n})()};V(["click"]);const Ue=y("<h3> <!> "),ls=e=>d(is,{get onClose(){return e.onClose},get children(){return[d(Ze,{get children(){return[d(os,{get color(){return b.primary},get children(){return d(Kt,{})}}),d(zn,{class:"flex-1",disabled:!0,value:"Graph Tools"}),d(M,{get color(){return b.danger},get onClick(){return e.onClose},get children(){return d(Yr,{})}})]}}),(()=>{const t=Ue(),n=t.firstChild,r=n.nextSibling;return r.nextSibling,g(t,()=>H("graphTools.layout"),r),t})(),d(M,{get color(){return b.primary},get children(){return[" ",E(()=>H("graphTools.tool.layoutDefault"))," "]}}),d(M,{get color(){return b.secondary},get children(){return[" ",E(()=>H("graphTools.tool.layoutLinear"))," "]}}),(()=>{const t=Ue(),n=t.firstChild,r=n.nextSibling;return r.nextSibling,g(t,()=>H("graphTools.optimization"),r),t})(),d(M,{get color(){return b.warning},get children(){return[" ",E(()=>H("graphTools.tool.selectUnreachables"))," "]}}),(()=>{const t=Ue(),n=t.firstChild,r=n.nextSibling;return r.nextSibling,g(t,()=>H("graphTools.validate"),r),t})(),d(M,{get color(){return b.danger},get children(){return[" ",E(()=>H("graphTools.tool.validateGraph"))," "]}})]}});var ue=function(e){return e[e.None=0]="None",e[e.Browser=1]="Browser",e[e.Launch=2]="Launch",e[e.GraphTools=3]="GraphTools",e}(ue||{});class cs{constructor(){const[t,n]=C({type:ue.None});this.state=t,this.setState=n}close(){this.setState(t=>({...t,type:ue.None}))}openGraphTools(){this.setState(t=>({...t,type:ue.GraphTools}))}}const as=e=>{const t=new cs;return e.actionsBox&&(e.actionsBox[0]=t),d(Tt,{get children(){return d(ve,{get when(){return t.state().type===ue.GraphTools},get children(){return d(ls,{onClose:()=>t.close(),get stateBox(){return e.stateBox}})}})}})},us=y("<div class=editor-root>"),ds=()=>{const e=mt(),t=mt();return(()=>{const n=us();return g(n,d(Fo,{stateBox:e}),null),g(n,d(ns,{stateBox:e,modalActionsBox:t}),null),g(n,d(as,{actionsBox:t,stateBox:e}),null),n})()},fs=()=>d(On,{get children(){return[d(xr,{}),d(ds,{})]}}),hs=document.getElementById("root");vn(()=>d(fs,{}),hs);
