import{c as v,Q as d,t as u,i as c,a as g,R as $,S as w,M as m,F as b,U as C,s as f,J as P,V as M,p as R}from"./index-CF6Yk-Rb.js";const _=new Intl.DateTimeFormat(void 0,{dateStyle:"short"}),F=new Intl.RelativeTimeFormat(void 0,{style:"short",numeric:"auto"}),D=e=>{let n;const r=new Date;let t=Math.floor((e.getTime()-r.getTime())/1e3);const l=Math.abs(t);if(l<60)n="second";else if(l<60*60)t=Math.floor(t/60),n="minute";else if(l<24*60*60)t=Math.floor(t/(60*60)),n="hour";else return _.format(e);return F.format(t,n)};var A=u("<li><a href=#>"),T=u('<nav class="pagination is-centered"role=navigation aria-label=pagination><a href=#></a><ul class=pagination-list></ul><a href=#>'),k=u("<li><span class=pagination-ellipsis>&hellip;"),L=u("<li>");function y(e,n){const[r,t]=v({totalPages:0,page:1,items:[],lastList:void 0});d(()=>{l(r().page)});const l=i=>{const a=e(),s=(i-1)*n,o=Math.min(s+n,a.length);t(h=>h.lastList===a&&h.page===i?h:{totalPages:Math.ceil(a.length/n),page:i,items:a.slice(s,o),lastList:a})};return[r,l]}const S=e=>(()=>{var n=A(),r=n.firstChild;return r.$$click=()=>e.onPageChange(e.page),c(r,()=>e.page),f(t=>{var l="pagination-link"+(e.currentPage===e.page?" is-current":""),i=`Goto page ${e.page}`;return l!==t.e&&P(r,t.e=l),i!==t.t&&M(r,"aria-label",t.t=i),t},{e:void 0,t:void 0}),n})(),B=e=>{const n=()=>e.totalPages<=7?Array.from({length:e.totalPages},(r,t)=>t+1):e.currentPage<=3?[1,2,3,4,5,null,e.totalPages]:e.currentPage>=e.totalPages-2?[1,null,e.totalPages-4,e.totalPages-3,e.totalPages-2,e.totalPages-1,e.totalPages]:[1,null,e.currentPage-1,e.currentPage,e.currentPage+1,null,e.totalPages];return(()=>{var r=T(),t=r.firstChild,l=t.nextSibling,i=l.nextSibling;return t.$$click=()=>e.onPageChange(e.currentPage-1),c(t,g($,{})),c(l,g(b,{get each(){return n()},children:a=>g(w,{get children(){return[g(m,{when:a===null,get children(){return k()}}),g(m,{when:!0,get children(){var s=L();return c(s,g(S,{page:a,get currentPage(){return e.currentPage},get onPageChange(){return e.onPageChange}})),s}})]}})})),i.$$click=()=>e.onPageChange(e.currentPage+1),c(i,g(C,{})),f(a=>{var s="pagination-previous"+(e.currentPage<=1?" is-disabled":""),o="pagination-next"+(e.currentPage>=e.totalPages?" is-disabled":"");return s!==a.e&&P(t,a.e=s),o!==a.t&&P(i,a.t=o),a},{e:void 0,t:void 0}),r})()};R(["click"]);export{B as P,y as c,D as s};
