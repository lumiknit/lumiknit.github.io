import{c as j,v as k,l as L,u as W,w as Y,f as N,i as u,a as c,F as q,d,s as S,e as R,t as h,j as G,M as D,m as y,x as H,q as T,k as U,b as I,o as Q,y as _}from"./vendor-solid-js-BI2TN9qC.js";const J=t=>typeof t=="function",P=(t,s)=>J(t)?t(s):t;var o;(function(t){t[t.ADD_TOAST=0]="ADD_TOAST",t[t.UPDATE_TOAST=1]="UPDATE_TOAST",t[t.UPSERT_TOAST=2]="UPSERT_TOAST",t[t.DISMISS_TOAST=3]="DISMISS_TOAST",t[t.REMOVE_TOAST=4]="REMOVE_TOAST",t[t.START_PAUSE=5]="START_PAUSE",t[t.END_PAUSE=6]="END_PAUSE"})(o||(o={}));const[b,g]=j({toasts:[],pausedAt:void 0}),K=()=>{const{pausedAt:t,toasts:s}=b;if(t)return;const a=Date.now();return s.map(e=>{if(e.duration===1/0)return;const i=(e.duration||0)+e.pauseDuration-(a-e.createdAt);if(i<=0){e.visible&&m({type:o.DISMISS_TOAST,toastId:e.id});return}return setTimeout(()=>{m({type:o.DISMISS_TOAST,toastId:e.id})},i)})},A=new Map,F=(t,s)=>{if(A.has(t))return;const a=setTimeout(()=>{A.delete(t),m({type:o.REMOVE_TOAST,toastId:t})},s);A.set(t,a)},X=t=>{const s=A.get(t);A.delete(t),s&&clearTimeout(s)},m=t=>{switch(t.type){case o.ADD_TOAST:g("toasts",e=>{const i=e;return[t.toast,...i]});break;case o.DISMISS_TOAST:const{toastId:s}=t,a=b.toasts;if(s){const e=a.find(i=>i.id===s);e&&F(s,e.unmountDelay),g("toasts",i=>i.id===s,k(i=>i.visible=!1))}else a.forEach(e=>{F(e.id,e.unmountDelay)}),g("toasts",e=>e.id!==void 0,k(e=>e.visible=!1));break;case o.REMOVE_TOAST:if(!t.toastId){g("toasts",[]);break}g("toasts",e=>e.filter(n=>n.id!==t.toastId));break;case o.UPDATE_TOAST:t.toast.id&&X(t.toast.id),g("toasts",e=>e.id===t.toast.id,e=>({...e,...t.toast}));break;case o.UPSERT_TOAST:b.toasts.find(e=>e.id===t.toast.id)?m({type:o.UPDATE_TOAST,toast:t.toast}):m({type:o.ADD_TOAST,toast:t.toast});break;case o.START_PAUSE:g(k(e=>{e.pausedAt=Date.now(),e.toasts.forEach(i=>{i.paused=!0})}));break;case o.END_PAUSE:const r=t.time-(b.pausedAt||0);g(k(e=>{e.pausedAt=void 0,e.toasts.forEach(i=>{i.pauseDuration+=r,i.paused=!1})}));break}},Z={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},E={id:"",icon:"",unmountDelay:500,duration:3e3,ariaProps:{role:"status","aria-live":"polite"},className:"",style:{},position:"top-right",iconTheme:{}},z={position:"top-right",toastOptions:E,gutter:8,containerStyle:{},containerClassName:""},$="16px",tt={position:"fixed","z-index":9999,top:$,bottom:$,left:$,right:$,"pointer-events":"none"},et=(()=>{let t=0;return()=>String(++t)})(),st=t=>{ct(s=>({containerClassName:t.containerClassName??s.containerClassName,containerStyle:t.containerStyle??s.containerStyle,gutter:t.gutter??s.gutter,position:t.position??s.position,toastOptions:{...t.toastOptions}}))},at=(t,s)=>{const r=t.includes("top")?{top:0,"margin-top":`${s}px`}:{bottom:0,"margin-bottom":`${s}px`},e=t.includes("center")?{"justify-content":"center"}:t.includes("right")?{"justify-content":"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:"all 230ms cubic-bezier(.21,1.02,.73,1)",...r,...e}},it=(t,s)=>{const a=t.getBoundingClientRect();a.height!==s.height&&m({type:o.UPDATE_TOAST,toast:{id:s.id,height:a.height}})},rt=(t,s)=>{const{toasts:a}=b,r=x().gutter||z.gutter||8,e=a.filter(l=>(l.position||s)===s&&l.height),i=e.findIndex(l=>l.id===t.id),n=e.filter((l,p)=>p<i&&l.visible).length;return e.slice(0,n).reduce((l,p)=>l+r+(p.height||0),0)},nt=(t,s)=>(t.position||s).includes("top")?1:-1,ot={display:"flex","align-items":"center",color:"#363636",background:"white","box-shadow":"0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05)","max-width":"350px","pointer-events":"auto",padding:"8px 10px","border-radius":"4px","line-height":"1.3","will-change":"transform"},lt={display:"flex","align-items":"center",flex:"1 1 auto",margin:"4px 10px","white-space":"pre-line"},w={"flex-shrink":0,"min-width":"20px","min-height":"20px",display:"flex","align-items":"center","justify-content":"center","text-align":"center"},M=t=>({calcMode:"spline",keyTimes:"0; 1",keySplines:t}),[x,ct]=L(z),ut=(t,s="blank",a)=>({...E,...x().toastOptions,...a,type:s,message:t,pauseDuration:0,createdAt:Date.now(),visible:!0,id:a.id||et(),paused:!1,style:{...E.style,...x().toastOptions?.style,...a.style},duration:a.duration||x().toastOptions?.duration||Z[s],position:a.position||x().toastOptions?.position||x().position||E.position}),O=t=>(s,a={})=>Y(()=>{const r=b.toasts.find(i=>i.id===a.id),e=ut(s,t,{...r,duration:void 0,...a});return m({type:o.UPSERT_TOAST,toast:e}),e.id}),f=(t,s)=>O("blank")(t,s);W(()=>f);f.error=O("error");f.success=O("success");f.loading=O("loading");f.custom=O("custom");f.dismiss=t=>{m({type:o.DISMISS_TOAST,toastId:t})};f.promise=(t,s,a)=>{const r=f.loading(s.loading,{...a});return t.then(e=>(f.success(P(s.success,e),{id:r,...a}),e)).catch(e=>{f.error(P(s.error,e),{id:r,...a})}),t};f.remove=t=>{m({type:o.REMOVE_TOAST,toastId:t})};var dt=h("<div><style>.sldt-active{z-index:9999;}.sldt-active>*{pointer-events:auto;}");const At=t=>(N(()=>{st(t)}),N(()=>{const s=K();G(()=>{s&&s.forEach(a=>a&&clearTimeout(a))})}),(()=>{var s=dt();return s.firstChild,u(s,c(q,{get each(){return b.toasts},children:a=>c(ht,{toast:a})}),null),d(a=>{var r={...tt,...t.containerStyle},e=t.containerClassName;return a.e=S(s,r,a.e),e!==a.t&&R(s,a.t=e),a},{e:void 0,t:void 0}),s})());var C=h("<div>"),ft=h("<div><div>");const mt=t=>{let s;return N(()=>{if(!s)return;const a=nt(t.toast,t.position);t.toast.visible?s.animate([{transform:`translate3d(0,${a*-200}%,0) scale(.6)`,opacity:.5},{transform:"translate3d(0,0,0) scale(1)",opacity:1}],{duration:350,fill:"forwards",easing:"cubic-bezier(.21,1.02,.73,1)"}):s.animate([{transform:"translate3d(0,0,-1px) scale(1)",opacity:1},{transform:`translate3d(0,${a*-150}%,-1px) scale(.4)`,opacity:0}],{duration:400,fill:"forwards",easing:"cubic-bezier(.06,.71,.55,1)"})}),(()=>{var a=ft(),r=a.firstChild,e=s;return typeof e=="function"?U(e,a):s=a,u(a,c(H,{get children(){return[c(D,{get when(){return t.toast.icon},get children(){var i=C();return u(i,()=>t.toast.icon),d(n=>S(i,w,n)),i}}),c(D,{get when(){return t.toast.type==="loading"},get children(){var i=C();return u(i,c(xt,y(()=>t.toast.iconTheme))),d(n=>S(i,w,n)),i}}),c(D,{get when(){return t.toast.type==="success"},get children(){var i=C();return u(i,c(yt,y(()=>t.toast.iconTheme))),d(n=>S(i,w,n)),i}}),c(D,{get when(){return t.toast.type==="error"},get children(){var i=C();return u(i,c(_t,y(()=>t.toast.iconTheme))),d(n=>S(i,w,n)),i}})]}}),r),T(r,y(()=>t.toast.ariaProps),!1,!0),u(r,()=>P(t.toast.message,t.toast)),d(i=>{var n=t.toast.className,v={...ot,...t.toast.style},l=lt;return n!==i.e&&R(a,i.e=n),i.t=S(a,v,i.t),i.a=S(r,l,i.a),i},{e:void 0,t:void 0,a:void 0}),a})()};var vt=h("<div>");const ht=t=>{const s=()=>{const e=t.toast.position||E.position,i=rt(t.toast,e);return at(e,i)},a=I(()=>s());let r;return Q(()=>{r&&it(r,t.toast)}),(()=>{var e=vt();e.addEventListener("mouseleave",()=>m({type:o.END_PAUSE,time:Date.now()})),e.addEventListener("mouseenter",()=>m({type:o.START_PAUSE,time:Date.now()}));var i=r;return typeof i=="function"?U(i,e):r=e,u(e,(()=>{var n=I(()=>t.toast.type==="custom");return()=>n()?P(t.toast.message,t.toast):c(mt,{get toast(){return t.toast},get position(){return t.toast.position||E.position}})})()),d(n=>{var v=a(),l=t.toast.visible?"sldt-active":"";return n.e=S(e,v,n.e),l!==n.t&&R(e,n.t=l),n},{e:void 0,t:void 0}),e})()};var gt=h('<svg><circle cx=16 cy=16 r=0><animate attributeName=opacity values="0; 1; 1"></animate><animate attributeName=r values="0; 17.5; 16"></svg>',!1,!0),St=h('<svg><circle cx=16 cy=16 r=12 opacity=0><animate attributeName=opacity values="1; 0"></animate><animate attributeName=r values="12; 26"></svg>',!1,!0);const B=t=>{const s={dur:"0.35s",begin:"100ms",fill:"freeze",calcMode:"spline",keyTimes:"0; 0.6; 1",keySplines:"0.25 0.71 0.4 0.88; .59 .22 .87 .63"};return(()=>{var a=gt(),r=a.firstChild,e=r.nextSibling;return T(r,s,!0,!1),T(e,s,!0,!1),d(()=>_(a,"fill",t.fill)),a})()},V=t=>{const s={dur:"1s",begin:t.begin||"320ms",fill:"freeze",...M("0.0 0.0 0.2 1")};return(()=>{var a=St(),r=a.firstChild,e=r.nextSibling;return T(r,s,!0,!1),T(e,s,!0,!1),d(()=>_(a,"fill",t.fill)),a})()};var Tt=h('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-dasharray=22 stroke-dashoffset=22 stroke-linecap=round stroke-miterlimit=10 d=M9.8,17.2l3.8,3.6c0.1,0.1,0.3,0.1,0.4,0l9.6-9.7><animate attributeName=stroke-dashoffset values=22;0 dur=0.25s begin=250ms fill=freeze>');const yt=t=>{const s=t.primary||"#34C759";return(()=>{var a=Tt(),r=a.firstChild,e=r.firstChild;return a.style.setProperty("overflow","visible"),u(a,c(B,{fill:s}),r),u(a,c(V,{fill:s,begin:"350ms"}),r),T(e,y(()=>M("0.0, 0.0, 0.58, 1.0")),!0,!1),d(()=>_(r,"stroke",t.secondary||"#FCFCFC")),a})()};var bt=h('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-dasharray=9 stroke-dashoffset=9 stroke-linecap=round d=M16,7l0,9><animate attributeName=stroke-dashoffset values=9;0 dur=0.2s begin=250ms fill=freeze></animate></path><circle cx=16 cy=23 r=2.5 opacity=0><animate attributeName=opacity values=0;1 dur=0.25s begin=350ms fill=freeze>');const _t=t=>{const s=t.primary||"#FF3B30";return(()=>{var a=bt(),r=a.firstChild,e=r.firstChild,i=r.nextSibling,n=i.firstChild;return a.style.setProperty("overflow","visible"),u(a,c(B,{fill:s}),r),u(a,c(V,{fill:s}),r),T(e,y(()=>M("0.0, 0.0, 0.58, 1.0")),!0,!1),T(n,y(()=>M("0.0, 0.0, 0.58, 1.0")),!0,!1),d(v=>{var l=t.secondary||"#FFFFFF",p=t.secondary||"#FFFFFF";return l!==v.e&&_(r,"stroke",v.e=l),p!==v.t&&_(i,"fill",v.t=p),v},{e:void 0,t:void 0}),a})()};var pt=h('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-miterlimit=10 d=M16,6c3,0,5.7,1.3,7.5,3.4c1.5,1.8,2.5,4,2.5,6.6c0,5.5-4.5,10-10,10S6,21.6,6,16S10.5,6,16,6z></path><path fill=none stroke-width=4 stroke-linecap=round stroke-miterlimit=10 d=M16,6c3,0,5.7,1.3,7.5,3.4c0.6,0.7,1.1,1.4,1.5,2.2><animateTransform attributeName=transform type=rotate from="0 16 16"to="360 16 16"dur=0.75s repeatCount=indefinite>');const xt=t=>(()=>{var s=pt(),a=s.firstChild,r=a.nextSibling;return s.style.setProperty("overflow","visible"),d(e=>{var i=t.primary||"#E5E7EB",n=t.secondary||"#4b5563";return i!==e.e&&_(a,"stroke",e.e=i),n!==e.t&&_(r,"stroke",e.t=n),e},{e:void 0,t:void 0}),s})();export{At as T,f as t};
