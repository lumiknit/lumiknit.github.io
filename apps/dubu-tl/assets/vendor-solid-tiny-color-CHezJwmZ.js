import{t as c,p as v,q as S,m as i,i as d,a as l,d as h,s as g,S as V,e as W,k as z}from"./vendor-solid-js-BI2TN9qC.js";const M=Math.PI/180,$=(e,o,t)=>Math.min(Math.max(e,o),t),j=e=>Math.min(e,1-e),w=(e,[o,t,r])=>[e*o,e*t,e*r],I=([e,o,t])=>.299*e+.587*o+.114*t,q=e=>{const[o,t,r]=w(.00392156862745098,e),n=Math.max(o,t,r),a=n-Math.min(o,t,r),s=a&&(n==o?(t-r)/a:n==t?2+(r-o)/a:4+(o-t)/a);return[60*(s<0?s+6:s),n&&a/n,n]},p=([e,o,t])=>{const r=(n,a=(n+e/60)%6)=>t-t*o*Math.max(Math.min(a,4-a,1),0);return w(255,[r(5),r(3),r(1)])},A=([e,o,t],r=t-t*o/2,n=j(r))=>[e,n?(t-r)/n:0,r],D=([e,o,t])=>`hsl(${e} ${100*o}%${100*t}%)`,N=e=>D(A(e)),x=e=>`rgb(${e[0]},${e[1]},${e[2]})`,u={width:"100%",height:"100%"},b={position:"absolute",left:"0",top:"0"},R=(e,o,t=16)=>({background:`repeating-conic-gradient(${e} 0% 25%, ${o} 25% 50%)`,"background-size":`${t}px ${t}px`}),E={"touch-action":"none","-webkit-touch-callout":"none","-webkit-tap-highlight-color":"transparent","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},F=`conic-gradient(${[0,120,240,360].map(e=>`hsl(${e},100%,50%) ${e}deg`).join()})`;var G=c("<div>");const L=e=>{const o=i({size:"10px"},e),t=()=>p(o.hsv);return r=G(),h(n=>{var a=o.class,s={"pointer-events":"none",position:"absolute",left:100*o.pos[0]+"%",top:100*o.pos[1]+"%",width:o.size,height:o.size,border:"2px solid "+(I(t())>127?"black":"white"),"border-radius":"50%",transform:"translate(-50%, -50%)","background-color":x(t()),...o.style};return a!==n.e&&W(r,n.e=a),n.t=g(r,s,n.t),n},{e:void 0,t:void 0}),r;var r};var O=c("<div>");const k=e=>{let o;const[t,r]=v(e,["hsv","onPick","colorToPos","pointerStyle","pointerClass"]),n=s=>{if(!e.onPick||s.buttons===0)return;const H=$(s.offsetX/s.currentTarget.offsetWidth,0,1),T=$(s.offsetY/s.currentTarget.offsetHeight,0,1);e.onPick(H,T,s.type==="pointerdown")!==!1?o.setPointerCapture(s.pointerId):o.releasePointerCapture(s.pointerId)};return a=O(),typeof o=="function"?z(o,a):o=a,S(a,i(r,{get style(){return{position:"relative",...E,...typeof e.style=="object"?e.style:{}}},onPointerDown:n,onPointerMove:n}),!1,!0),d(a,()=>e.children,null),d(a,l(L,{get pos(){return e.colorToPos(e.hsv)},get hsv(){return e.hsv},get style(){return t.pointerStyle},get class(){return t.pointerClass}}),null),a;var a};c("<div>");c("<canvas width=32 height=32>");var Q=c("<div>");const U=e=>l(k,i(e,{onPick:(o,t)=>{const r=Math.atan2(t-.5,o-.5)/M;e.onHSVChange?.([(r+450)%360,e.hsv[1],e.hsv[2]])},colorToPos:([o])=>{const t=o*M,r=(1-100*e.strokeWidth/200)/2;return[.5+r*Math.sin(t),.5-r*Math.cos(t)]},get children(){var o=Q();return h(t=>g(o,{...u,"background-image":F,"border-radius":"50%","mask-image":`radial-gradient(closest-side circle at center,transparent ${99.5-100*e.strokeWidth}%,black ${100-100*e.strokeWidth}%)`},t)),o}}));c("<div>");var X=c("<div>");const Y=e=>l(k,i(e,{onPick:(o,t)=>{e.onHSVChange?.([e.hsv[0],o,1-t])},colorToPos:([,o,t])=>[o,1-t],get children(){var o=X();return h(t=>g(o,{...u,"background-color":`hsl(${e.hsv[0]}, 100%, 50%)`,"background-image":"linear-gradient(to top, #000, #0000), linear-gradient(to right, #fff, #fff0)"},t)),o}}));var Z=c("<div>");const B=e=>{const[o,t]=v(e,["rotate","strokeWidth","hsv","onHSVChange","children"]),r=()=>100*(.99-e.strokeWidth)/Math.sqrt(2);return n=Z(),S(n,i(t,{style:{position:"relative"}}),!1,!0),d(n,l(U,i(o,{get style(){return{...b,...u}}})),null),d(n,l(Y,i(o,{get style(){return{position:"absolute",left:(100-r())/2+"%",top:(100-r())/2+"%",width:`${r()}%`,height:`${r()}%`,transform:e.rotate?`rotate(${e.hsv[0]-45}deg)`:"none"}}})),null),n;var n};var y=c("<div>");const f=e=>{const[o,t]=v(e,["colorMap","inverseColorMap","backgorundStyle"]);return l(k,i(t,{onPick:r=>{const n=o.colorMap(t.hsv,r)[1];t.onHSVChange?.(n)},colorToPos:r=>[o.inverseColorMap(r),.5],get children(){return[l(V,{get when(){return o.backgorundStyle},get children(){var n=y();return h(a=>g(n,{...b,...u,...o.backgorundStyle},a)),n}}),(r=y(),h(n=>g(r,{...b,...u,"background-image":`linear-gradient(to right, ${[0,.25,.5,.75,1].map(a=>e.colorMap(e.hsv,a)[0]).join()})`},n)),r)];var r}}))},m=e=>o=>l(f,i(o,{colorMap:(t,r)=>{const n=((a,s)=>(a[e]=255*s,a))(p(t),r);return[x(n),q(n)]},inverseColorMap:t=>p(t)[e]/255})),J=m(0),K=m(1),ee=m(2),P=[360,1,1],C=e=>o=>l(f,i(o,{colorMap:(t,r)=>{const n=[...t];return n[e]=r*P[e],[N(n),n]},inverseColorMap:t=>t[e]/P[e]})),oe=C(0),te=C(1),re=C(2),ne=e=>{const o=i({bgColor1:"darkgray",bgColor2:"lightgray"},e),[t,r]=v(o,["bgColor1","bgColor2","alpha","onAlphaChange","hsv","onHSVChange"]);return l(f,i(r,{get hsv(){return[0,t.alpha,0]},onHSVChange:n=>{o.onAlphaChange?.(n[1])},colorMap:(n,a)=>[`rgba(${p(t.hsv).join()},${a})`,[0,a,0]],inverseColorMap:n=>n[1],get backgorundStyle(){return R(t.bgColor1,t.bgColor2)}}))};export{B as Q,N as S,R as W,oe as a,K as e,re as i,q as k,p as m,ee as r,te as s,J as t,ne as u,x as w};
